<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of XeX</title>
  <meta name="keywords" content="XeX">
  <meta name="description" content="XEX M-file for XeX.fig">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<!-- menu.html XeX -->
<h1>XeX
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>XEX M-file for XeX.fig</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function varargout = XeX(varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> XEX M-file for XeX.fig
      XEX, by itself, creates a new XEX or raises the existing
      singleton*.

      H = XEX returns the handle to a new XEX or the handle to
      the existing singleton*.

      XEX('CALLBACK',hObject,eventData,handles,...) calls the local
      function named CALLBACK in XEX.M with the given input arguments.

      XEX('Property','Value',...) creates a new XEX or raises the
      existing singleton*.  Starting from the left, property value pairs
      are
      applied to the GUI before XeX_OpeningFunction gets called.  An
      unrecognized property name or invalid value makes property
      application
      stop.  All inputs are passed to XeX_OpeningFcn via varargin.

      *See GUI Options on GUIDE's Tools menu.  Choose &quot;GUI allows only one
      instance to run (singleton)&quot;.

 See also: GUIDE, GUIDATA, GUIHANDLES</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="../XeX/AnalysisFunctions/MakeHist.html" class="code" title="">MakeHist</a>	Script to produce an histogram. Uses PlotHist to do the hard work</li><li><a href="../XeX/Matlab_based_mrdd/mrdr.html" class="code" title="">mrdr</a>	mrdr: MATLAB REX data reader.</li><li><a href="../XeX/SubGUIs/FilterManagerGUI.html" class="code" title="function varargout = FilterManagerGUI(varargin)">FilterManagerGUI</a>	FILTERMANAGERGUI M-file for FilterManagerGUI.fig</li><li><a href="../XeX/SubGUIs/TrialViewer.html" class="code" title="function varargout = TrialViewer(varargin)">TrialViewer</a>	TRIALVIEWER M-file for TrialViewer.fig</li><li><a href="../XeX/UtilityFunctions/LayoutStuff/LayOutEditWindow.html" class="code" title="">LayOutEditWindow</a>	takes care of edit window positioning</li><li><a href="../XeX/UtilityFunctions/LayoutStuff/gset.html" class="code" title="">gset</a>	sets the gain graph layout</li><li><a href="../XeX/UtilityFunctions/LayoutStuff/nineset.html" class="code" title="">nineset</a>	</li><li><a href="../XeX/UtilityFunctions/LayoutStuff/twelveset.html" class="code" title="">twelveset</a>	</li><li><a href="../XeX/UtilityFunctions/R/endR.html" class="code" title="function endR">endR</a>	Closes the R connection in RPROCESSHANDLE</li><li><a href="../XeX/UtilityFunctions/assorted/ParamEval.html" class="code" title="function CurrentVariables=ParamEval(XexParameters,CurrentVariables)">ParamEval</a>	This function works in PlotData and in Graphcommandprocessor and serves to</li><li><a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>	This function uses tts to speak out the stringvar if speaktovar is set, else fprintfs it to cmd window</li><li><a href="../XeX/UtilityFunctions/assorted/XeXUtters.html" class="code" title="function XeXUtters(DarkVar,SpeakToMe)">XeXUtters</a>	Legacy function (too slow) to speak out instead of printing to screen, if SpeakToMe is set</li><li><a href="../XeX/UtilityFunctions/assorted/clearvars.html" class="code" title="">clearvars</a>	This function clears all the variables that were recently detached</li><li><a href="../XeX/UtilityFunctions/assorted/detachvars.html" class="code" title="">detachvars</a>	This script detaches all the variables from a structure and assigns them</li><li><a href="../XeX/UtilityFunctions/assorted/ftpsurf.html" class="code" title="">ftpsurf</a>	This scriptlet calls FTPSurfer from within Matlab</li><li><a href="../XeX/UtilityFunctions/assorted/un.html" class="code" title="function X1=un(X)">un</a>	This function takes in a vector (or a matrix) , and returns unique values (or rows). NaNs (and rows with NaNs) are removed.</li><li><a href="../XeX/UtilityFunctions/gettingAndsettingParameters/AnalLoadedFileScript.html" class="code" title="">AnalLoadedFileScript</a>	</li><li><a href="../XeX/UtilityFunctions/gettingAndsettingParameters/FInterpreter.html" class="code" title="">FInterpreter</a>	This script does the filter interpretation; will grow</li><li><a href="../XeX/UtilityFunctions/gettingAndsettingParameters/GraphCommandProcessor.html" class="code" title="">GraphCommandProcessor</a>	Basically does what Plot data does, but reads in commands from a gfx</li><li><a href="../XeX/UtilityFunctions/gettingAndsettingParameters/SetBaseRate.html" class="code" title="">SetBaseRate</a>	</li><li><a href="../XeX/UtilityFunctions/gettingAndsettingParameters/SetVariablesScript.html" class="code" title="">SetVariablesScript</a>	</li><li><a href="../XeX/UtilityFunctions/gettingAndsettingParameters/getCurrentParameters.html" class="code" title="">getCurrentParameters</a>	This script collects parameters from the GUI.</li><li><a href="../XeX/UtilityFunctions/handlingGraphics/ClearGObjects.html" class="code" title="">ClearGObjects</a>	This script is used to remove graphix objects properties when clear axes is called</li><li><a href="../XeX/UtilityFunctions/handlingGraphics/DoUseProps.html" class="code" title="">DoUseProps</a>	This function makes the UseProps graphics objects visible or invisible based on handles.UseProps</li><li><a href="../XeX/UtilityFunctions/handlingGraphics/ExportGFX.html" class="code" title="">ExportGFX</a>	Script that handles graph exporting in XeX</li><li><a href="../XeX/UtilityFunctions/handlingGraphics/LinkHandle.html" class="code" title="function LinkHandle">LinkHandle</a>	This is the buttondownfunction for the axis. Work on it !!</li><li><a href="../XeX/UtilityFunctions/handlingGraphics/SwitchAxes.html" class="code" title="">SwitchAxes</a>	This script switches axes based on axis list in GUI</li><li><a href="../XeX/UtilityFunctions/handlingGraphics/UndefineAxisVars.html" class="code" title="">UndefineAxisVars</a>	</li><li><a href="../XeX/UtilityFunctions/handlingGraphics/UnlinkTheseAxes.html" class="code" title="">UnlinkTheseAxes</a>	</li><li><a href="../XeX/UtilityFunctions/handlingGraphics/WhatToDoStuff.html" class="code" title="">WhatToDoStuff</a>	This function get the handles.WhatToDo string and then decides on what to show and not show in GUI</li><li><a href="../XeX/UtilityFunctions/handlingGraphics/makeInvisible.html" class="code" title="function makeInvisible(handleObjects)">makeInvisible</a>	To make objects supplied invisible</li><li><a href="../XeX/UtilityFunctions/handlingGraphics/makeVisible.html" class="code" title="function makeVisible(handleObjects)">makeVisible</a>	To make objects supplied visible</li><li><a href="../XeX/UtilityFunctions/loadinFiles/FTPLoadFileStuff.html" class="code" title="">FTPLoadFileStuff</a>	This script handles file-loadign after FTP</li><li><a href="../XeX/UtilityFunctions/loadinFiles/FTPScript.html" class="code" title="">FTPScript</a>	</li><li><a href="../XeX/UtilityFunctions/loadinFiles/LoadFileCallbackStuff.html" class="code" title="">LoadFileCallbackStuff</a>	This file handles file loading, from GUI.</li><li><a href="../XeX/UtilityFunctions/update/UpdateAxis.html" class="code" title="">UpdateAxis</a>	This script updates current axis with current properties</li><li><a href="../XeX/UtilityFunctions/update/UpdateCellOrLoadGFX.html" class="code" title="">UpdateCellOrLoadGFX</a>	this script does all the hard work for updating a cell or loading</li><li><a href="../XeX/UtilityFunctions/update/UpdateGObjects.html" class="code" title="">UpdateGObjects</a>	this script does the hard work for updateaxis</li><li><a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>	This script is what gets done for the markers callback</li><li><a href="../XeX/UtilityFunctions/update/UpdateSlider.html" class="code" title="">UpdateSlider</a>	this is the major update graphic objects file. poorly called</li><li><a href="XeX.html" class="code" title="function varargout = XeX(varargin)">XeX</a>	XEX M-file for XeX.fig</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="../XeX/SubGUIs/FilterManagerGUI.html" class="code" title="function varargout = FilterManagerGUI(varargin)">FilterManagerGUI</a>	FILTERMANAGERGUI M-file for FilterManagerGUI.fig</li><li><a href="../XeX/UtilityFunctions/assorted/ftpsurf.html" class="code" title="">ftpsurf</a>	This scriptlet calls FTPSurfer from within Matlab</li><li><a href="../XeX/UtilityFunctions/handlingGraphics/ParseStimString.html" class="code" title="">ParseStimString</a>	This script is used by getcurrentparameters.m among other scripts, to</li><li><a href="../XeX/UtilityFunctions/handlingGraphics/ParseXCenters.html" class="code" title="">ParseXCenters</a>	This script is used by getcurrentparameters.m among other scripts, to</li><li><a href="XeX.html" class="code" title="function varargout = XeX(varargin)">XeX</a>	XEX M-file for XeX.fig</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="#_sub1" class="code">function XeX_OpeningFcn(hObject, eventdata, handles, varargin)</a></li><li><a href="#_sub2" class="code">function varargout = XeX_OutputFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub3" class="code">function Options_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub4" class="code">function SacOpts_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub5" class="code">function LoadedFiles_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub6" class="code">function LoadedFiles_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub7" class="code">function AnalysisFile_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub8" class="code">function AnalysisFile_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub9" class="code">function AnalyzeFile_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub10" class="code">function HoldStatus_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub11" class="code">function PlotData_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub12" class="code">function CodeBitMenu_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub13" class="code">function CodeBitMenu_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub14" class="code">function LoadFile_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub15" class="code">function AxesContext_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub16" class="code">function FTPOptions_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub17" class="code">function BinWidth_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub18" class="code">function BinWidth_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub19" class="code">function SliderValue_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub20" class="code">function Utilities_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub21" class="code">function StimulusAlignedTimeVector_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub22" class="code">function StimulusAlignedTimeVector_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub23" class="code">function AxesToUpdate_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub24" class="code">function AxesToUpdate_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub25" class="code">function TrialFilterVector_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub26" class="code">function PlottingFileList_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub27" class="code">function PlottingFileList_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub28" class="code">function TrialFilterVector_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub29" class="code">function CurrentAxes_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub30" class="code">function CurrentAxes_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub31" class="code">function UpdateCell_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub32" class="code">function Axis1Markers_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub33" class="code">function Axis1Markers_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub34" class="code">function Axis2Markers_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub35" class="code">function Axis2Markers_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub36" class="code">function Axis3Markers_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub37" class="code">function Axis3Markers_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub38" class="code">function Axis4Markers_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub39" class="code">function Axis4Markers_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub40" class="code">function Axis5Markers_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub41" class="code">function Axis5Markers_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub42" class="code">function Axis6Markers_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub43" class="code">function Axis6Markers_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub44" class="code">function Axis7Markers_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub45" class="code">function Axis7Markers_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub46" class="code">function Axis8Markers_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub47" class="code">function Axis8Markers_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub48" class="code">function Axis9Markers_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub49" class="code">function Axis9Markers_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub50" class="code">function ResetProps_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub51" class="code">function UseProps_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub52" class="code">function AddAnalysisFileButton_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub53" class="code">function pushbutton23_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub54" class="code">function pushbutton24_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub55" class="code">function pushbutton25_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub56" class="code">function AnalyzeFile_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub57" class="code">function LoadFile_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub58" class="code">function AddAnalysisFileButton_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub59" class="code">function DeleteLoadedFiles_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub60" class="code">function DeleteLoadedFiles_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub61" class="code">function axes1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub62" class="code">function axes2_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub63" class="code">function axes3_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub64" class="code">function axes4_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub65" class="code">function axes5_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub66" class="code">function axes6_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub67" class="code">function axes7_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub68" class="code">function axes8_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub69" class="code">function axes9_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub70" class="code">function text30_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub71" class="code">function SaveGraphics_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub72" class="code">function UpdateTheseAxes_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub73" class="code">function AlignCode_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub74" class="code">function AlignCode_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub75" class="code">function ClearAxes_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub76" class="code">function General_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub77" class="code">function GetInsideMe_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub78" class="code">function FTPFile_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub79" class="code">function ClearAll_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub80" class="code">function PlotEdit_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub81" class="code">function AnnotateAxis_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub82" class="code">function UnitNumber_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub83" class="code">function UnitNumber_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub84" class="code">function SetDataDirectory_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub85" class="code">function GetVariables_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub86" class="code">function LaunchViewer_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub87" class="code">function BrowseFTP_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub88" class="code">function edit27_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub89" class="code">function ExportGraphics_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub90" class="code">function ExploreVariables_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub91" class="code">function UseAxisVars_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub92" class="code">function AddVariable_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub93" class="code">function SpikeTruncate_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub94" class="code">function ClearPolar_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub95" class="code">function GetObjectAxes_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub96" class="code">function GetObjectAxes_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub97" class="code">function ObjectNumber_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub98" class="code">function ObjectNumber_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub99" class="code">function OldAxis_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub100" class="code">function OldAxis_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub101" class="code">function NewAxis_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub102" class="code">function NewAxis_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub103" class="code">function DeleteObjects_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub104" class="code">function MoveObj_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub105" class="code">function GetObjectPropsButton_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub106" class="code">function CopyObj_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub107" class="code">function PlotSig_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub108" class="code">function SpeakToMeMenu_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub109" class="code">function MainStuff_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub110" class="code">function QuitXeX_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub111" class="code">function AnalysisOptions_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub112" class="code">function PlotLatency_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub113" class="code">function SetBaselineWindow_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub114" class="code">function PlottingContext_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub115" class="code">function TalkToMe_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub116" class="code">function ErrorBarType_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub117" class="code">function PlotCB_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub118" class="code">function FiltersList_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub119" class="code">function GainGraph_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub120" class="code">function WhatToDo_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub121" class="code">function WhatToDo_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub122" class="code">function UseTheseAxes_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub123" class="code">function UseTheseAxes_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub124" class="code">function LatencyAfter_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub125" class="code">function SetCellProps_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub126" class="code">function VariablesList_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub127" class="code">function VariablesList_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub128" class="code">function Layouts_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub129" class="code">function SixGraph_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub130" class="code">function ManageObjects_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub131" class="code">function ManageObjects_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub132" class="code">function UnBut_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub133" class="code">function UnBut_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub134" class="code">function GraphCommandFiles_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub135" class="code">function GraphCommandFiles_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub136" class="code">function AddGrapher_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub137" class="code">function RunGraph_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub138" class="code">function SetGraphicDir_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub139" class="code">function UnitNumberPop_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub140" class="code">function UnitNumberPop_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub141" class="code">function DelTrials_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub142" class="code">function RmIndicators_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub143" class="code">function ResetLayout_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub144" class="code">function ClearTitle_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub145" class="code">function Axis10Markers_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub146" class="code">function Axis10Markers_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub147" class="code">function Axis11Markers_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub148" class="code">function Axis11Markers_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub149" class="code">function Axis12Markers_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub150" class="code">function Axis12Markers_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub151" class="code">function NineGraphs_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub152" class="code">function EditCmdFile_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub153" class="code">function SigLevel_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub154" class="code">function FTPFileName_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub155" class="code">function FTPFileName_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub156" class="code">function FTPMe_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub157" class="code">function FTPRelated_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub158" class="code">function FTPMode_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub159" class="code">function HelpTips_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub160" class="code">function Help_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub161" class="code">function ResetAxisProps_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub162" class="code">function XAxisVariable_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub163" class="code">function XAxisVariable_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub164" class="code">function X1AxisVariable_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub165" class="code">function X1AxisVariable_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub166" class="code">function XAxisDiscretize_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub167" class="code">function X1AxisDiscretize_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub168" class="code">function XAxisCenters_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub169" class="code">function XAxisCenters_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub170" class="code">function X1AxisCenters_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub171" class="code">function X1AxisCenters_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub172" class="code">function YAxisVariable_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub173" class="code">function YAxisVariable_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub174" class="code">function FTPUpdate_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub175" class="code">function ShowObjWin_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub176" class="code">function AxisObj1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub177" class="code">function AxisObj1_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub178" class="code">function AxisObj4_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub179" class="code">function AxisObj4_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub180" class="code">function AxisObj9_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub181" class="code">function AxisObj9_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub182" class="code">function AxisObj2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub183" class="code">function AxisObj2_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub184" class="code">function AxisObj6_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub185" class="code">function AxisObj6_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub186" class="code">function AxisObj10_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub187" class="code">function AxisObj10_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub188" class="code">function AxisObj3_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub189" class="code">function AxisObj3_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub190" class="code">function AxisObj7_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub191" class="code">function AxisObj7_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub192" class="code">function AxisObj11_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub193" class="code">function AxisObj11_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub194" class="code">function edit59_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub195" class="code">function edit59_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub196" class="code">function AxisObj8_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub197" class="code">function AxisObj8_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub198" class="code">function AxisObj12_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub199" class="code">function AxisObj12_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub200" class="code">function AxisObj5_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub201" class="code">function AxisObj5_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub202" class="code">function ShowAllObjWin_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub203" class="code">function MakeLinkable_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub204" class="code">function LinkAxis_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub205" class="code">function ReverseXY_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub206" class="code">function Documentation_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub207" class="code">function DelTrials_CreateFcn(hObject, eventdata, handles)</a></li></ul>
<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function varargout = XeX(varargin)</a>
0002 <span class="comment">% XEX M-file for XeX.fig</span>
0003 <span class="comment">%      XEX, by itself, creates a new XEX or raises the existing</span>
0004 <span class="comment">%      singleton*.</span>
0005 <span class="comment">%</span>
0006 <span class="comment">%      H = XEX returns the handle to a new XEX or the handle to</span>
0007 <span class="comment">%      the existing singleton*.</span>
0008 <span class="comment">%</span>
0009 <span class="comment">%      XEX('CALLBACK',hObject,eventData,handles,...) calls the local</span>
0010 <span class="comment">%      function named CALLBACK in XEX.M with the given input arguments.</span>
0011 <span class="comment">%</span>
0012 <span class="comment">%      XEX('Property','Value',...) creates a new XEX or raises the</span>
0013 <span class="comment">%      existing singleton*.  Starting from the left, property value pairs</span>
0014 <span class="comment">%      are</span>
0015 <span class="comment">%      applied to the GUI before XeX_OpeningFunction gets called.  An</span>
0016 <span class="comment">%      unrecognized property name or invalid value makes property</span>
0017 <span class="comment">%      application</span>
0018 <span class="comment">%      stop.  All inputs are passed to XeX_OpeningFcn via varargin.</span>
0019 <span class="comment">%</span>
0020 <span class="comment">%      *See GUI Options on GUIDE's Tools menu.  Choose &quot;GUI allows only one</span>
0021 <span class="comment">%      instance to run (singleton)&quot;.</span>
0022 <span class="comment">%</span>
0023 <span class="comment">% See also: GUIDE, GUIDATA, GUIHANDLES</span>
0024 
0025 <span class="comment">% Copyright 2002-2003 The MathWorks, Inc.</span>
0026 
0027 <span class="comment">% Edit the above text to modify the response to help XeX</span>
0028 
0029 <span class="comment">% Last Modified by GUIDE v2.5 12-Dec-2006 22:23:26</span>
0030 
0031 <span class="comment">% Begin initialization code - DO NOT EDIT</span>
0032 gui_Singleton = 1;
0033 gui_State = struct(<span class="string">'gui_Name'</span>,       mfilename, <span class="keyword">...</span>
0034                    <span class="string">'gui_Singleton'</span>,  gui_Singleton, <span class="keyword">...</span>
0035                    <span class="string">'gui_OpeningFcn'</span>, @<a href="#_sub1" class="code" title="subfunction XeX_OpeningFcn(hObject, eventdata, handles, varargin)">XeX_OpeningFcn</a>, <span class="keyword">...</span>
0036                    <span class="string">'gui_OutputFcn'</span>,  @<a href="#_sub2" class="code" title="subfunction varargout = XeX_OutputFcn(hObject, eventdata, handles)">XeX_OutputFcn</a>, <span class="keyword">...</span>
0037                    <span class="string">'gui_LayoutFcn'</span>,  [] , <span class="keyword">...</span>
0038                    <span class="string">'gui_Callback'</span>,   []);
0039 <span class="keyword">if</span> nargin &amp;&amp; ischar(varargin{1})
0040     gui_State.gui_Callback = str2func(varargin{1});
0041 <span class="keyword">end</span>
0042 
0043 <span class="keyword">if</span> nargout
0044     [varargout{1:nargout}] = gui_mainfcn(gui_State, varargin{:});
0045 <span class="keyword">else</span>
0046     gui_mainfcn(gui_State, varargin{:});
0047 <span class="keyword">end</span>
0048 <span class="comment">% End initialization code - DO NOT EDIT</span>
0049 
0050 
0051 <span class="comment">% --- Executes just before XeX is made visible.</span>
0052 <a name="_sub1" href="#_subfunctions" class="code">function XeX_OpeningFcn(hObject, eventdata, handles, varargin)</a>
0053 <span class="comment">% This function has no output args, see OutputFcn.</span>
0054 <span class="comment">% hObject    handle to figure</span>
0055 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0056 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0057 <span class="comment">% varargin   command line arguments to XeX (see VARARGIN)</span>
0058 
0059 XeXDir=which(<span class="string">'XeX'</span>);
0060 <span class="keyword">if</span> ~isempty(XeXDir)
0061 handles.XeXDir=XeXDir(1:(end-5));
0062 addpath(genpath(handles.XeXDir),<span class="string">'-begin'</span>);
0063 cd(handles.XeXDir);
0064 <span class="keyword">else</span>
0065 fprintf(<span class="string">'%s\n'</span>,<span class="string">'%Couldnt Find XeX.m on path; assuming XeX lives in current directory and adding it (with subdirectories) to PATH !!'</span>);    
0066 handles.XeXDir=pwd;
0067 addpath(genpath(handles.XeXDir),<span class="string">'-begin'</span>);
0068 <span class="keyword">end</span>
0069 
0070 handles.NumberOfAxes=12;
0071 handles.AxisVariable=repmat(struct(<span class="string">'XAxis'</span>,<span class="string">'Undefined'</span>,<span class="string">'YAxis'</span>,<span class="string">'Undefined'</span>),1,handles.NumberOfAxes); <span class="comment">%assuming there are 12 axes; safe, I think, for now.</span>
0072 
0073 handles.HandlesList=NaN*[1:handles.NumberOfAxes];
0074 <span class="keyword">for</span> TemporaryVariable=1:handles.NumberOfAxes
0075 eval([<span class="string">'handles.HandlesList(TemporaryVariable)=handles.axes'</span> num2str(TemporaryVariable) <span class="string">';'</span>]);
0076 <span class="keyword">end</span>
0077 
0078 handles.EditWindows=NaN*[1:handles.NumberOfAxes];
0079 <span class="keyword">for</span> TemporaryVariable=1:handles.NumberOfAxes
0080 eval([<span class="string">'handles.EditWindows(TemporaryVariable)=handles.AxisObj'</span> num2str(TemporaryVariable) <span class="string">';'</span>]);
0081 <span class="keyword">end</span>
0082 
0083 handles.AxisLinkTexts=NaN*[1:handles.NumberOfAxes];
0084 <span class="keyword">for</span> TemporaryVariable=1:handles.NumberOfAxes
0085 eval([<span class="string">'handles.AxisLinkTexts(TemporaryVariable)=handles.AxisLinkText'</span> num2str(TemporaryVariable) <span class="string">';'</span>]);
0086 <span class="keyword">end</span>
0087 
0088 <span class="keyword">if</span> strcmp(get(handles.ShowAllObjWin,<span class="string">'checked'</span>),<span class="string">'on'</span>) <a href="../XeX/UtilityFunctions/handlingGraphics/makeVisible.html" class="code" title="function makeVisible(handleObjects)">makeVisible</a>(handles.EditWindows); <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/handlingGraphics/makeInvisible.html" class="code" title="function makeInvisible(handleObjects)">makeInvisible</a>(handles.EditWindows);<span class="keyword">end</span>
0089 
0090 <a href="../XeX/UtilityFunctions/handlingGraphics/makeInvisible.html" class="code" title="function makeInvisible(handleObjects)">makeInvisible</a>([handles.AxisLinkTexts]);
0091 
0092 <a href="../XeX/UtilityFunctions/LayoutStuff/LayOutEditWindow.html" class="code" title="">LayOutEditWindow</a>;
0093 
0094 handles.CurrentDataDirectory=<span class="string">'C:\MATLAB\work\physiology\ziggydata'</span>;
0095 handles.GraphCommandsDirectory=<span class="string">'C:\MATLAB\work\XeX\MyGraphs'</span>;
0096 handles.SaccadeOptions.Threshold=0.1;
0097 handles.SaccadeOptions.MinLat=0;
0098 handles.SaccadeOptions.ISICut=0;
0099 handles.SaccadeOptions.CorrectCode=1003;
0100 <span class="comment">% handles.ShowSignificance=1;</span>
0101 set(handles.PlotSig,<span class="string">'checked'</span>,<span class="string">'on'</span>);
0102 handles.BaselineWindow=[-50 0];
0103 handles.BaselineFiringRate=NaN;
0104 handles.SpeakToMe=0;
0105 set(handles.SpeakToMeMenu,<span class="string">'checked'</span>,<span class="string">'off'</span>);
0106 setappdata(0,<span class="string">'TrialFilterHandle'</span>,(handles.TrialFilterVector));
0107 setappdata(0,<span class="string">'RFLocation'</span>,[-15 0]); <span class="comment">%default RF</span>
0108 setappdata(0,<span class="string">'XeXGUIHandle'</span>,handles.figure1);
0109 <span class="comment">% setappdata(0,'UseFilterHandle',handles.UseFilters);</span>
0110 setappdata(0,<span class="string">'UsePlottingHandle'</span>,handles.UseProps);
0111 setappdata(0,<span class="string">'HoldFilterHandle'</span>,handles.HoldStatus);
0112 
0113 <span class="comment">% Choose default command line output for XeX</span>
0114 handles.output = hObject;
0115 handles.LatInitTime=0;
0116 handles.SignificanceCutoff=0.05;
0117 
0118 handles.LastSelectedDirectory=handles.XeXDir(1:(end-4));
0119 
0120 <span class="comment">% MyVariableChoices=struct('XAxisVariable','RFx','X1AxisVariable','RFy','YAxisMeasureStr','SpikeRate','DiscretizeX',0,'DiscretizeX1',0,'X1AxisCentersStr','','XAxisCentersStr','','OK',0);</span>
0121 <span class="comment">% handles.MyVariableChoices=MyVariableChoices;</span>
0122 
0123 set(handles.SpikeTruncate,<span class="string">'checked'</span>,<span class="string">'on'</span>);
0124 set(handles.figure1,<span class="string">'windowstyle'</span>,<span class="string">'docked'</span>);
0125 
0126 fprintf(<span class="string">'%s\n'</span>,<span class="string">'*********************************************************************************************'</span>);
0127 fprintf(<span class="string">'%s\n'</span>,<span class="string">'Designed to be used with Monitor Resolution Set to 1680 by 1050; 1280 by 1024 appears to work somewhat well too.'</span>);
0128 fprintf(<span class="string">'%s\n'</span>,<span class="string">'*********************************************************************************************'</span>);
0129 
0130 
0131 set(gcf,<span class="string">'CloseRequestFcn'</span>,<span class="string">'fprintf(''%s\n'',''You cannot close XeX like that. Choose Quit'')'</span>);
0132 
0133 handles.UnitNumber=613;
0134 handles.RFLocation=[15 15];
0135 
0136 
0137 <a href="../XeX/UtilityFunctions/handlingGraphics/WhatToDoStuff.html" class="code" title="">WhatToDoStuff</a>;
0138 <span class="comment">% ShowSlider;</span>
0139 <a href="../XeX/UtilityFunctions/handlingGraphics/DoUseProps.html" class="code" title="">DoUseProps</a>;
0140 
0141 Objs=[handles.GetObjectPropsButton, handles.GetObjectAxes, handles.DeleteObjects, handles.MoveObj, handles.CopyObj, handles.text64, handles.text65, handles.text66, handles.ObjectNumber, handles.OldAxis,handles.NewAxis];
0142 
0143 <span class="keyword">if</span> strcmp(get(handles.ManageObjects,<span class="string">'string'</span>), <span class="string">'ManageObjects'</span>), 
0144     <a href="../XeX/UtilityFunctions/handlingGraphics/makeInvisible.html" class="code" title="function makeInvisible(handleObjects)">makeInvisible</a>(Objs);
0145 <span class="keyword">elseif</span> strcmp(get(handles.ManageObjects,<span class="string">'string'</span>),<span class="string">'HideManager'</span>), 
0146     <a href="../XeX/UtilityFunctions/handlingGraphics/makeVisible.html" class="code" title="function makeVisible(handleObjects)">makeVisible</a>(Objs);
0147 <span class="keyword">end</span>
0148 
0149 <span class="comment">% GetPositions;</span>
0150 <span class="comment">% handles.PosArray=PosArray;</span>
0151 
0152 <span class="comment">% Update handles structure</span>
0153 guidata(hObject, handles);
0154 
0155 
0156 <span class="comment">% UIWAIT makes XeX wait for user response (see UIRESUME)</span>
0157 <span class="comment">% uiwait(handles.figure1);</span>
0158 
0159 
0160 <span class="comment">% --- Outputs from this function are returned to the command line.</span>
0161 <a name="_sub2" href="#_subfunctions" class="code">function varargout = XeX_OutputFcn(hObject, eventdata, handles) </a>
0162 <span class="comment">% varargout  cell array for returning output args (see VARARGOUT);</span>
0163 <span class="comment">% hObject    handle to figure</span>
0164 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0165 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0166 
0167 <span class="comment">% Get default command line output from handles structure</span>
0168 varargout{1} = handles.output;
0169 
0170 <span class="comment">% --------------------------------------------------------------------</span>
0171 <a name="_sub3" href="#_subfunctions" class="code">function Options_Callback(hObject, eventdata, handles)</a>
0172 <span class="comment">% hObject    handle to Options (see GCBO)</span>
0173 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0174 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0175 
0176 
0177 <span class="comment">% --------------------------------------------------------------------</span>
0178 <a name="_sub4" href="#_subfunctions" class="code">function SacOpts_Callback(hObject, eventdata, handles)</a>
0179 <span class="comment">% hObject    handle to SacOpts (see GCBO)</span>
0180 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0181 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0182 
0183 <span class="keyword">if</span> ~isfield(handles,<span class="string">'SaccadeOptions'</span>), 
0184     CurrentThreshold=<span class="string">''</span>;
0185     CurrentMinLat=<span class="string">''</span>;
0186     CurrentISICut=<span class="string">''</span>;
0187     CurrentCorrectCode=<span class="string">''</span>;
0188 <span class="keyword">else</span>
0189     CurrentThreshold=handles.SaccadeOptions.Threshold;
0190     CurrentMinLat=handles.SaccadeOptions.MinLat;
0191     CurrentISICut=handles.SaccadeOptions.ISICut;
0192     CurrentCorrectCode=handles.SaccadeOptions.CorrectCode;
0193 <span class="keyword">end</span>
0194       
0195    prompt={<span class="string">'Enter Sac Threshold'</span>,<span class="string">'Enter Min Lat'</span>,<span class="string">'Enter ISI Cut'</span>,<span class="string">'Enter Correct Code; use NaN for null'</span>};
0196    name=<span class="string">'Saccade Options '</span>;
0197    numlines=1;
0198    defaultanswer={num2str(CurrentThreshold) num2str(CurrentMinLat) num2str(CurrentISICut) num2str(CurrentCorrectCode)};
0199  
0200    Answer=inputdlg(prompt,name,numlines,defaultanswer);
0201 
0202    <span class="keyword">if</span> ~isempty(Answer)
0203 handles.SaccadeOptions.Threshold=str2num(Answer{1});
0204 handles.SaccadeOptions.MinLat=str2num(Answer{2});
0205 handles.SaccadeOptions.ISICut=str2num(Answer{3});
0206 handles.SaccadeOptions.CorrectCode=str2num(Answer{4});
0207    <span class="keyword">end</span>
0208 
0209    guidata(hObject,handles);
0210 
0211 
0212 <span class="comment">% --- Executes on selection change in LoadedFiles.</span>
0213 <a name="_sub5" href="#_subfunctions" class="code">function LoadedFiles_Callback(hObject, eventdata, handles)</a>
0214 <span class="comment">% hObject    handle to LoadedFiles (see GCBO)</span>
0215 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0216 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0217 
0218 <span class="comment">% Hints: contents = get(hObject,'String') returns LoadedFiles contents as cell array</span>
0219 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from LoadedFiles</span>
0220 
0221 Contents=cellstr(get(hObject,<span class="string">'String'</span>));
0222 fprintf(<span class="string">'You just selected   %s\n'</span>,Contents{get(hObject,<span class="string">'Value'</span>)});
0223 
0224  LoadedFileList=get(handles.LoadedFiles,<span class="string">'string'</span>);
0225  <span class="keyword">if</span> ~iscell(LoadedFileList), TempVar{1}=LoadedFileList; LoadedFileList=TempVar;<span class="keyword">end</span>
0226  CurrentValue=get(handles.LoadedFiles,<span class="string">'value'</span>); CurrentValue=CurrentValue(1);
0227  CurrentDataFile=LoadedFileList{CurrentValue};
0228  
0229 <span class="keyword">if</span> ~strcmp(CurrentDataFile,<span class="string">'LoadedFiles'</span>)
0230 
0231 eval([<span class="string">'Trials=handles.'</span> CurrentDataFile <span class="string">'.Trials;'</span>]);
0232 eval([<span class="string">'if ~isfield(handles.'</span> CurrentDataFile <span class="string">',''Analysis''), GoOn=0;else GoOn=1;end'</span>]);
0233 eval([<span class="string">'if GoOn==1, MyVariableList=handles.'</span> CurrentDataFile <span class="string">'.Analysis.MyVariableList;end'</span>]);
0234 eval([<span class="string">'if GoOn==1, MyResponseVariableList=handles.'</span> CurrentDataFile <span class="string">'.Analysis.MyResponseVariableList;end'</span>]);
0235 
0236 eval([<span class="string">'if GoOn==1, CurrentVariables=handles.'</span> CurrentDataFile <span class="string">'.Analysis;end'</span>]);
0237 <span class="keyword">if</span> GoOn==1, fprintf(<span class="string">'%s\n'</span>,CurrentVariables.summaryString);<span class="keyword">end</span>
0238 
0239 <span class="keyword">if</span> GoOn==1,
0240 <span class="comment">%     if get(handles.XAxisVariable,'value')&gt;length(MyVariableList), set(handles.XAxisVariable,'value',1);end</span>
0241 <span class="comment">%  set(handles.XAxisVariable,'string',MyVariableList);</span>
0242 <span class="comment">%     if get(handles.X1AxisVariable,'value')&gt;length(MyVariableList), set(handles.X1AxisVariable,'value',1);end</span>
0243 <span class="comment">%  set(handles.X1AxisVariable,'string',MyVariableList);</span>
0244 <span class="comment">%     if get(handles.YAxisVariable,'value')&gt;length(MyVariableList), set(handles.YAxisVariable,'value',1);end</span>
0245 <span class="comment">%  set(handles.YAxisVariable,'string',{'SpikeRate',MyVariableList{:}});</span>
0246 
0247 <a href="../XeX/UtilityFunctions/gettingAndsettingParameters/SetVariablesScript.html" class="code" title="">SetVariablesScript</a>;
0248 
0249 <span class="keyword">end</span>
0250 
0251 <span class="keyword">end</span>
0252 
0253 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0254 <a name="_sub6" href="#_subfunctions" class="code">function LoadedFiles_CreateFcn(hObject, eventdata, handles)</a>
0255 <span class="comment">% hObject    handle to LoadedFiles (see GCBO)</span>
0256 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0257 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0258 
0259 <span class="comment">% Hint: listbox controls usually have a white background on Windows.</span>
0260 <span class="comment">%       See ISPC and COMPUTER.</span>
0261 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0262     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0263 <span class="keyword">end</span>
0264 
0265 set(hObject,<span class="string">'tooltipstring'</span>,<span class="string">'This is the list of loaded files'</span>);
0266 guidata(hObject,handles);
0267 <span class="comment">% --- Executes on selection change in AnalysisFile.</span>
0268 <a name="_sub7" href="#_subfunctions" class="code">function AnalysisFile_Callback(hObject, eventdata, handles)</a>
0269 <span class="comment">% hObject    handle to AnalysisFile (see GCBO)</span>
0270 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0271 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0272 
0273 <span class="comment">% Hints: contents = get(hObject,'String') returns AnalysisFile contents as cell array</span>
0274 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from AnalysisFile</span>
0275 
0276 
0277 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0278 <a name="_sub8" href="#_subfunctions" class="code">function AnalysisFile_CreateFcn(hObject, eventdata, handles)</a>
0279 <span class="comment">% hObject    handle to AnalysisFile (see GCBO)</span>
0280 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0281 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0282 
0283 <span class="comment">% Hint: popupmenu controls usually have a white background on Windows.</span>
0284 <span class="comment">%       See ISPC and COMPUTER.</span>
0285 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0286     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0287 <span class="keyword">end</span>
0288 set(hObject,<span class="string">'tooltipstring'</span>,sprintf(<span class="string">'This is the list of analysis files: will generate\nvectors of length=number of trials\n that you can then run trial filters on'</span>));
0289 guidata(hObject,handles);
0290 
0291 <span class="comment">% --- Executes on button press in AnalyzeFile.</span>
0292 <a name="_sub9" href="#_subfunctions" class="code">function AnalyzeFile_Callback(hObject, eventdata, handles)</a>
0293 <span class="comment">% hObject    handle to AnalyzeFile (see GCBO)</span>
0294 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0295 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0296 
0297 LoadedFileList=get(handles.LoadedFiles,<span class="string">'string'</span>);
0298 CurrentValues=get(handles.LoadedFiles,<span class="string">'value'</span>);
0299 <span class="keyword">if</span> ~iscell(LoadedFileList), LoadedFileList={LoadedFileList};<span class="keyword">end</span>
0300 
0301 CurrentlyLoadedFiles=LoadedFileList(CurrentValues);
0302 <span class="comment">% CurrentUseAx=get(handles.UseStimAxes,'Value');</span>
0303 <span class="comment">% if CurrentUseAx==1, CurrentUseAx=handles.axes7;else CurrentUseAx=[];end</span>
0304 
0305 <span class="keyword">if</span> ~strcmp(CurrentlyLoadedFiles{1},<span class="string">'LoadedFiles'</span>)
0306 <span class="keyword">for</span> FileIndex=1:length(CurrentlyLoadedFiles)
0307     CurrentFile=CurrentlyLoadedFiles{FileIndex};
0308     
0309     <span class="comment">%Reload files if necessary</span>
0310     
0311     eval([<span class="string">'TempStore=handles.'</span> CurrentFile <span class="string">'.Trials;'</span>]);
0312     
0313     <span class="keyword">if</span> isnumeric(TempStore) &amp;&amp; isnan(TempStore)
0314         eval([<span class="string">'TempFile=handles.'</span> CurrentFile <span class="string">'.FileName;'</span>]);
0315         
0316         <span class="keyword">if</span> strfind(TempFile,<span class="string">'.mat'</span>)
0317             JustLoadedTrials=load(TempFile);
0318             fprintf(<span class="string">'%s\n'</span>,[<span class="string">'Loaded trials from '</span> TempFile]);
0319         <span class="keyword">else</span>
0320             <span class="keyword">try</span>,
0321              eval([<span class="string">'JustLoadedTrials = mrdr(''-s 1001'',''800'',''-d'','''</span>,TempFile(1:(end-1)),<span class="string">''');'</span>]);
0322              JustLoadedTrials=JustLoadedTrials(2:(end-1));
0323                          fprintf(<span class="string">'%s\n'</span>,[<span class="string">'Loaded trials from '</span> TempFile]);
0324             <span class="keyword">catch</span>,
0325                 fprintf(<span class="string">'%s\n'</span>,<span class="string">'mrdr failed !!!!!!!!!!!!'</span>);
0326              <span class="keyword">end</span>
0327         <span class="keyword">end</span>
0328         
0329                 <span class="keyword">if</span> length(JustLoadedTrials)&gt;0     eval([CurrentFile <span class="string">' .Trials=JustLoadedTrials;'</span>]); clear JustLoadedTrials; <span class="keyword">end</span>
0330     
0331     <span class="keyword">else</span>
0332            eval([CurrentFile <span class="string">'.Trials=handles.'</span> CurrentFile <span class="string">'.Trials;'</span>]);
0333     <span class="keyword">end</span>
0334     
0335     AnalysisFiles=get(handles.AnalysisFile,<span class="string">'string'</span>);
0336     AnalysisFileValue=get(handles.AnalysisFile,<span class="string">'value'</span>);
0337     CurrentAnalysisFile=AnalysisFiles{AnalysisFileValue};
0338 
0339     CurrentAnalysisFile=CurrentAnalysisFile(1:(end-2));
0340 <span class="comment">%     if ~isempty(CurrentUseAx)</span>
0341 <span class="comment">%     eval(['ResultVariables=' CurrentAnalysisFile '(' CurrentFile '.Trials,''' CurrentFile ''', CurrentUseAx, handles.SaccadeOptions);']);</span>
0342 <span class="comment">% else</span>
0343      eval([<span class="string">'ResultVariables='</span> CurrentAnalysisFile <span class="string">'('</span> CurrentFile <span class="string">'.Trials,'''</span> CurrentFile <span class="string">''', 0, handles.SaccadeOptions);'</span>]);
0344 <span class="comment">%     end</span>
0345 
0346                  eval([<span class="string">'handles.'</span> CurrentFile <span class="string">'.Analysis=ResultVariables;'</span>]);
0347                  MyVariableList=ResultVariables.MyVariableList;
0348                  
0349 <span class="comment">%                  set(handles.XAxisVariable,'value',1);</span>
0350 <span class="comment">%                  set(handles.XAxisVariable,'string',ResultVariables.MyVariableList);</span>
0351 <span class="comment">%                                   set(handles.X1AxisVariable,'value',1);</span>
0352 <span class="comment">%                  set(handles.X1AxisVariable,'string',ResultVariables.MyVariableList);</span>
0353 <span class="comment">%                  set(handles.YAxisVariable,'value',1);</span>
0354 <span class="comment">%                  set(handles.YAxisVariable,'string',{'SpikeRate',ResultVariables.MyVariableList{:}});</span>
0355 
0356                  
0357     <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,[<span class="string">'Completed one   '</span> CurrentAnalysisFile ],handles.SpeakToMe);
0358     
0359 <span class="keyword">end</span>
0360 
0361 <a href="../XeX/UtilityFunctions/gettingAndsettingParameters/AnalLoadedFileScript.html" class="code" title="">AnalLoadedFileScript</a>;
0362 
0363 <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Load a file first !'</span>,handles.SpeakToMe);
0364 <span class="keyword">end</span>
0365 
0366 <span class="comment">% ShowSlider;</span>
0367 
0368 <span class="comment">% eval(['clear ' CurrentFile]);</span>
0369 
0370 guidata(hObject,handles);
0371 
0372 <span class="comment">% --- Executes on button press in HoldStatus.</span>
0373 <a name="_sub10" href="#_subfunctions" class="code">function HoldStatus_Callback(hObject, eventdata, handles)</a>
0374 <span class="comment">% hObject    handle to HoldStatus (see GCBO)</span>
0375 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0376 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0377 
0378 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of HoldStatus</span>
0379 
0380 <span class="comment">% --- Executes on button press in PlotData.</span>
0381 <a name="_sub11" href="#_subfunctions" class="code">function PlotData_Callback(hObject, eventdata, handles)</a>
0382 <span class="comment">% hObject    handle to PlotData (see GCBO)</span>
0383 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0384 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0385 
0386 ThingsToDo=get(handles.WhatToDo,<span class="string">'string'</span>);
0387 WhatToDo=ThingsToDo{get(handles.WhatToDo,<span class="string">'value'</span>)};
0388 
0389 <span class="keyword">if</span> strcmp(WhatToDo,<span class="string">'UpdateAxis'</span>)
0390 <span class="comment">%     BackupGraphs;</span>
0391        NextCommandSetBaseRate=0;
0392 <a href="../XeX/UtilityFunctions/update/UpdateGObjects.html" class="code" title="">UpdateGObjects</a>;
0393 <span class="keyword">elseif</span> strcmp(WhatToDo,<span class="string">'UpdateCell'</span>)
0394 <span class="comment">%         BackupGraphs;</span>
0395        NextCommandSetBaseRate=0;
0396 LoadGFXVar=0; <a href="../XeX/UtilityFunctions/update/UpdateCellOrLoadGFX.html" class="code" title="">UpdateCellOrLoadGFX</a>;
0397 <span class="keyword">elseif</span> strcmp(WhatToDo,<span class="string">'MakePlot'</span>)
0398 
0399 FilterStringList=cellstr(get(handles.TrialFilterVector,<span class="string">'string'</span>));
0400       CurrentFilterString=FilterStringList{1};
0401 <span class="comment">%       if get(handles.UseFilters,'value')==0, CurrentFilterString='';end</span>
0402 
0403 
0404        <span class="keyword">for</span> TempVarA=1:handles.NumberOfAxes
0405  eval([ <span class="string">'Axis'</span> num2str(TempVarA) <span class="string">'MarkerPointer=0;'</span><span class="keyword">...</span><span class="comment">    </span>
0406  ]);
0407        <span class="keyword">end</span>
0408        <a href="../XeX/UtilityFunctions/gettingAndsettingParameters/getCurrentParameters.html" class="code" title="">getCurrentParameters</a>;
0409        NextCommandSetBaseRate=0;
0410 <span class="keyword">if</span> isempty(CurrentUnitNumber), CurrentUnitNumber=613; fprintf(<span class="string">'%s\n'</span>,<span class="string">'Using 613 as the Unit'</span>);<span class="keyword">end</span>
0411 
0412 <span class="keyword">if</span> ~strcmp(CurrentDataFile,<span class="string">'LoadedFiles'</span>) &amp; ~strcmp(CurrentPlottingFile,<span class="string">'PlottingFile'</span>) 
0413 
0414 <span class="keyword">for</span> numFilters=1:length(FilterStringList)
0415 
0416       CurrentFilterString=FilterStringList{numFilters};
0417       <span class="keyword">if</span> isempty(CurrentFilterString), CurrentFilterString=<span class="string">'1'</span>;<span class="keyword">end</span>
0418 
0419       <span class="comment">%need a line here so that switchaxes is called at beginning and hten</span>
0420       <span class="comment">%for every newaxis line</span>
0421       
0422       <span class="keyword">if</span> numFilters==1, <a href="../XeX/UtilityFunctions/handlingGraphics/SwitchAxes.html" class="code" title="">SwitchAxes</a>; <span class="keyword">end</span>
0423       
0424       PlotOK=1;       <span class="comment">% Initializes to PlotOK, FInterpreter will cancel to No Plot if needed</span>
0425       <a href="../XeX/UtilityFunctions/gettingAndsettingParameters/FInterpreter.html" class="code" title="">FInterpreter</a>;  <span class="comment">%This calls the filter interpreter !!!!</span>
0426             <span class="keyword">if</span> RunCode==1, 
0427           
0428                     eval([<span class="string">'Trials=handles.'</span> CurrentDataFile <span class="string">'.Trials;'</span>]);
0429           eval([<span class="string">'if ~isfield(handles.'</span> CurrentDataFile <span class="string">',''Analysis''), fprintf(''%s\n'',''Analyze your dataset first''); GoOn=0;else GoOn=1;end'</span>]);
0430           eval([<span class="string">'if GoOn==1, CurrentVariables=handles.'</span> CurrentDataFile <span class="string">'.Analysis;end'</span>]);
0431                     <span class="keyword">if</span> GoOn==1
0432 CurrentVariables=<a href="../XeX/UtilityFunctions/assorted/ParamEval.html" class="code" title="function CurrentVariables=ParamEval(XexParameters,CurrentVariables)">ParamEval</a>(XexParameters,CurrentVariables);
0433 eval([<span class="string">'handles.'</span> CurrentDataFile <span class="string">'.Analysis=CurrentVariables;'</span>]);
0434           <span class="keyword">end</span>
0435 <span class="comment">% eval(XexParameters);</span>
0436               fprintf(<span class="string">'%s\n'</span>,<span class="string">'Running:'</span>);
0437     fprintf(<span class="string">'%s\n'</span>,XexParameters);
0438     
0439 <span class="keyword">end</span>
0440 
0441           <span class="keyword">if</span> PlotOK==1,
0442       
0443               NoChangeAxesPointer=1;
0444                       <a href="../XeX/UtilityFunctions/gettingAndsettingParameters/getCurrentParameters.html" class="code" title="">getCurrentParameters</a>;  <span class="comment">% makes sure all finterpreter changes are loaded in</span>
0445 
0446  <span class="comment">%   try</span>
0447 eval([<span class="string">'Trials=handles.'</span> CurrentDataFile <span class="string">'.Trials;'</span>]);
0448 eval([<span class="string">'if ~isfield(handles.'</span> CurrentDataFile <span class="string">',''Analysis''), fprintf(''%s\n'',''Analyze your dataset first''); GoOn=0;else GoOn=1;end'</span>]);
0449 eval([<span class="string">'if GoOn==1, CurrentVariables=handles.'</span> CurrentDataFile <span class="string">'.Analysis;end'</span>]);
0450 <span class="comment">%  eval(['if GoOn==1, fprintf(''%s\n'',''Plotting Now'');' CurrentPlottingFile(1:(end-2)) ';end']);  %running the current plotting file</span>
0451 <span class="comment">% if RunCode==1, eval(XexParameters);</span>
0452 <span class="comment">%     fprintf('%s\n','Running:');</span>
0453 <span class="comment">%     fprintf('%s\n',XexParameters);</span>
0454 <span class="comment">% end</span>
0455 <span class="keyword">if</span> NextCommandSetBaseRate==1
0456     <a href="../XeX/UtilityFunctions/gettingAndsettingParameters/SetBaseRate.html" class="code" title="">SetBaseRate</a>; NextCommandSetBaseRate=0;
0457 <span class="keyword">else</span>
0458  eval([<span class="string">'if GoOn==1, '</span> CurrentPlottingFile(1:(end-2)) <span class="string">';end'</span>]);  <span class="comment">%running the current plotting file</span>
0459    <span class="comment">%   catch, fprintf('%s\t','Error in PlottingFile:'); fprintf('%s\n',lasterr);</span>
0460      <span class="comment">%end</span>
0461 <span class="keyword">end</span>
0462 
0463 <span class="keyword">end</span>
0464 <span class="keyword">end</span>
0465 
0466 <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Make sure you have selected a data file and a plotting file'</span>,handles.SpeakToMe);
0467 <span class="keyword">end</span>
0468 
0469 <span class="keyword">else</span> fprintf(<span class="string">'%s\n'</span>,<span class="string">'That button is inactive !!'</span>);
0470 <span class="keyword">end</span>
0471 
0472 guidata(hObject,handles);  <span class="comment">%routinely saving anything assigned to handles</span>
0473 
0474 <span class="comment">% % --- Executes on button press in AddPlottingFile.</span>
0475 <span class="comment">% function AddPlottingFile_Callback(hObject, eventdata, handles)</span>
0476 <span class="comment">% % hObject    handle to AddPlottingFile (see GCBO)</span>
0477 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
0478 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
0479 <span class="comment">%</span>
0480 <span class="comment">% Old_Dir=pwd;</span>
0481 <span class="comment">% if ~exist('DataDirectory','var'), DataDirectory='c:\MATLAB\work\XeX\AnalysisFunctions';end</span>
0482 <span class="comment">% cd(DataDirectory);</span>
0483 <span class="comment">%</span>
0484 <span class="comment">%    [input_filename, input_pathname] = uigetfile( ...</span>
0485 <span class="comment">%        {'*.m','M-files (*.m)';</span>
0486 <span class="comment">%         '*.*',  'All Files (*.*)'}, ...</span>
0487 <span class="comment">%         'Pick a Trials file', ...</span>
0488 <span class="comment">%         'MultiSelect', 'on');</span>
0489 <span class="comment">%</span>
0490 <span class="comment">%     %%loading the files</span>
0491 <span class="comment">%</span>
0492 <span class="comment">%      if ~isnumeric(input_filename)</span>
0493 <span class="comment">%      if ~iscell(input_filename) TemporaryStuff{1}=input_filename;</span>
0494 <span class="comment">%      input_filename=TemporaryStuff;</span>
0495 <span class="comment">%      end</span>
0496 <span class="comment">%</span>
0497 <span class="comment">% AnalysisFileNames=get(handles.PlottingFileList,'string');</span>
0498 <span class="comment">%          if ~iscell(AnalysisFileNames)&amp;~strcmp(AnalysisFileNames,'PlottingFile')</span>
0499 <span class="comment">%              TemporaryStuff{1}=AnalysisFileNames;</span>
0500 <span class="comment">%              AnalysisFileNames=TemporaryStuff;</span>
0501 <span class="comment">%          end</span>
0502 <span class="comment">%</span>
0503 <span class="comment">%          if ~iscell(AnalysisFileNames)</span>
0504 <span class="comment">%              set(handles.PlottingFileList,'string',sort(input_filename));</span>
0505 <span class="comment">%          else</span>
0506 <span class="comment">%              NewNames=setdiff(input_filename,AnalysisFileNames);</span>
0507 <span class="comment">%              set(handles.PlottingFileList,'string',sort([NewNames AnalysisFileNames']'));</span>
0508 <span class="comment">%          end</span>
0509 <span class="comment">%</span>
0510 <span class="comment">%          guidata(hObject,handles);</span>
0511 <span class="comment">%</span>
0512 <span class="comment">%      end</span>
0513 <span class="comment">%</span>
0514 <span class="comment">%         cd(Old_Dir);</span>
0515 
0516 
0517 <span class="comment">% --- Executes on selection change in CodeBitMenu.</span>
0518 <a name="_sub12" href="#_subfunctions" class="code">function CodeBitMenu_Callback(hObject, eventdata, handles)</a>
0519 <span class="comment">% hObject    handle to CodeBitMenu (see GCBO)</span>
0520 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0521 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0522 
0523 <span class="comment">% Hints: contents = get(hObject,'String') returns CodeBitMenu contents as cell array</span>
0524 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from CodeBitMenu</span>
0525 
0526 
0527 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0528 <a name="_sub13" href="#_subfunctions" class="code">function CodeBitMenu_CreateFcn(hObject, eventdata, handles)</a>
0529 <span class="comment">% hObject    handle to CodeBitMenu (see GCBO)</span>
0530 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0531 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0532 
0533 <span class="comment">% Hint: popupmenu controls usually have a white background on Windows.</span>
0534 <span class="comment">%       See ISPC and COMPUTER.</span>
0535 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0536     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0537 <span class="keyword">end</span>
0538 
0539 <span class="comment">% --- Executes on button press in LoadFile.</span>
0540 <a name="_sub14" href="#_subfunctions" class="code">function LoadFile_Callback(hObject, eventdata, handles)</a>
0541 <span class="comment">% hObject    handle to LoadFile (see GCBO)</span>
0542 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0543 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0544 
0545 <a href="../XeX/UtilityFunctions/loadinFiles/LoadFileCallbackStuff.html" class="code" title="">LoadFileCallbackStuff</a>;
0546 
0547 <span class="comment">% --------------------------------------------------------------------</span>
0548 <a name="_sub15" href="#_subfunctions" class="code">function AxesContext_Callback(hObject, eventdata, handles)</a>
0549 <span class="comment">% hObject    handle to AxesContext (see GCBO)</span>
0550 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0551 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0552 
0553 
0554 
0555 <span class="comment">% --------------------------------------------------------------------</span>
0556 <a name="_sub16" href="#_subfunctions" class="code">function FTPOptions_Callback(hObject, eventdata, handles)</a>
0557 <span class="comment">% hObject    handle to FTPOptions (see GCBO)</span>
0558 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0559 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0560 
0561 
0562 <span class="keyword">if</span> ~isfield(handles,<span class="string">'FTP'</span>), CurrentFTPPath=<span class="string">'/annegret_data/'</span>; CurrentFTPFile=<span class="string">''</span>;
0563 <span class="keyword">else</span> CurrentFTPPath=(handles.FTP.pathname);
0564     CurrentFTPFile=handles.FTP.filename;
0565 <span class="keyword">end</span>
0566    
0567    prompt={<span class="string">'Enter FTP path'</span>,<span class="string">'Enter FTP file'</span>};
0568    name=<span class="string">'FTP Options '</span>;
0569    numlines=1;
0570    defaultanswer={CurrentFTPPath CurrentFTPFile};
0571  
0572    Answer=inputdlg(prompt,name,numlines,defaultanswer);
0573 
0574    
0575    <span class="keyword">if</span> ~isempty(Answer)
0576 CurrentFTPPath=Answer{1};
0577 CurrentFTPFile=Answer{2};
0578 handles.FTP.pathname=CurrentFTPPath;
0579 handles.FTP.filename=CurrentFTPFile;
0580    <span class="keyword">end</span>
0581 
0582    guidata(hObject,handles);
0583 
0584 <span class="comment">% --- Executes on slider movement.</span>
0585 <a name="_sub17" href="#_subfunctions" class="code">function BinWidth_Callback(hObject, eventdata, handles)</a>
0586 <span class="comment">% hObject    handle to BinWidth (see GCBO)</span>
0587 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0588 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0589 
0590 <span class="comment">% Hints: get(hObject,'Value') returns position of slider</span>
0591 <span class="comment">%        get(hObject,'Min') and get(hObject,'Max') to determine range of slider</span>
0592 
0593 CurrentValue=get(hObject,<span class="string">'Value'</span>);
0594 set(handles.SliderValue,<span class="string">'String'</span>,[<span class="string">'BW'</span>,<span class="string">'='</span>,num2str(CurrentValue)]);
0595 
0596 ThingsToDo=get(handles.WhatToDo,<span class="string">'String'</span>);
0597 WhatToDo=ThingsToDo{get(handles.WhatToDo,<span class="string">'value'</span>)};
0598 
0599 <span class="keyword">if</span> strcmp(WhatToDo,<span class="string">'ActiveUpdate'</span>),
0600 UpdateType=<span class="string">'BW'</span>;
0601 <a href="../XeX/UtilityFunctions/update/UpdateSlider.html" class="code" title="">UpdateSlider</a>;
0602 <span class="keyword">end</span>
0603 
0604 guidata(hObject,handles);
0605 
0606 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0607 <a name="_sub18" href="#_subfunctions" class="code">function BinWidth_CreateFcn(hObject, eventdata, handles)</a>
0608 <span class="comment">% hObject    handle to BinWidth (see GCBO)</span>
0609 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0610 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0611 
0612 <span class="comment">% Hint: slider controls usually have a light gray background.</span>
0613 <span class="keyword">if</span> isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0614     set(hObject,<span class="string">'BackgroundColor'</span>,[.9 .9 .9]);
0615 <span class="keyword">end</span>
0616 
0617 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0618 <a name="_sub19" href="#_subfunctions" class="code">function SliderValue_CreateFcn(hObject, eventdata, handles)</a>
0619 <span class="comment">% hObject    handle to SliderValue (see GCBO)</span>
0620 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0621 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0622 
0623 <span class="comment">% --------------------------------------------------------------------</span>
0624 <a name="_sub20" href="#_subfunctions" class="code">function Utilities_Callback(hObject, eventdata, handles)</a>
0625 <span class="comment">% hObject    handle to Utilities (see GCBO)</span>
0626 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0627 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0628 
0629 
0630 <a name="_sub21" href="#_subfunctions" class="code">function StimulusAlignedTimeVector_Callback(hObject, eventdata, handles)</a>
0631 <span class="comment">% hObject    handle to StimulusAlignedTimeVector (see GCBO)</span>
0632 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0633 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0634 
0635 <span class="comment">% Hints: get(hObject,'String') returns contents of StimulusAlignedTimeVector as text</span>
0636 <span class="comment">%        str2double(get(hObject,'String')) returns contents of StimulusAlignedTimeVector as a double</span>
0637 
0638 ThingsToDo=get(handles.WhatToDo,<span class="string">'String'</span>);
0639 WhatToDo=ThingsToDo{get(handles.WhatToDo,<span class="string">'value'</span>)};
0640 
0641 <span class="keyword">if</span> strcmp(WhatToDo,<span class="string">'ActiveUpdate'</span>),
0642 UpdateType=<span class="string">'TimeWindow'</span>;
0643 <a href="../XeX/UtilityFunctions/update/UpdateSlider.html" class="code" title="">UpdateSlider</a>;
0644 <span class="keyword">end</span>
0645 
0646 guidata(hObject,handles);
0647 
0648 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0649 <a name="_sub22" href="#_subfunctions" class="code">function StimulusAlignedTimeVector_CreateFcn(hObject, eventdata, handles)</a>
0650 <span class="comment">% hObject    handle to StimulusAlignedTimeVector (see GCBO)</span>
0651 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0652 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0653 
0654 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0655 <span class="comment">%       See ISPC and COMPUTER.</span>
0656 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0657     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0658 <span class="keyword">end</span>
0659 
0660 
0661 
0662 <span class="comment">% function SaccadeAlignedTimeVector_Callback(hObject, eventdata, handles)</span>
0663 <span class="comment">% % hObject    handle to SaccadeAlignedTimeVector (see GCBO)</span>
0664 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
0665 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
0666 <span class="comment">%</span>
0667 <span class="comment">% % Hints: get(hObject,'String') returns contents of SaccadeAlignedTimeVector as text</span>
0668 <span class="comment">% %        str2double(get(hObject,'String')) returns contents of SaccadeAlignedTimeVector as a double</span>
0669 <span class="comment">%</span>
0670 <span class="comment">%</span>
0671 <span class="comment">% % --- Executes during object creation, after setting all properties.</span>
0672 <span class="comment">% function SaccadeAlignedTimeVector_CreateFcn(hObject, eventdata, handles)</span>
0673 <span class="comment">% % hObject    handle to SaccadeAlignedTimeVector (see GCBO)</span>
0674 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
0675 <span class="comment">% % handles    empty - handles not created until after all CreateFcns called</span>
0676 <span class="comment">%</span>
0677 <span class="comment">% % Hint: edit controls usually have a white background on Windows.</span>
0678 <span class="comment">% %       See ISPC and COMPUTER.</span>
0679 <span class="comment">% if ispc &amp;&amp; isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))</span>
0680 <span class="comment">%     set(hObject,'BackgroundColor','white');</span>
0681 <span class="comment">% end</span>
0682 
0683 <a name="_sub23" href="#_subfunctions" class="code">function AxesToUpdate_Callback(hObject, eventdata, handles)</a>
0684 <span class="comment">% hObject    handle to AxesToUpdate (see GCBO)</span>
0685 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0686 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0687 
0688 <span class="comment">% Hints: get(hObject,'String') returns contents of AxesToUpdate as text</span>
0689 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxesToUpdate as a double</span>
0690 
0691 
0692 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0693 <a name="_sub24" href="#_subfunctions" class="code">function AxesToUpdate_CreateFcn(hObject, eventdata, handles)</a>
0694 <span class="comment">% hObject    handle to AxesToUpdate (see GCBO)</span>
0695 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0696 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0697 
0698 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0699 <span class="comment">%       See ISPC and COMPUTER.</span>
0700 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0701     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0702 <span class="keyword">end</span>
0703 
0704 <span class="comment">%</span>
0705 <span class="comment">% % --- Executes on button press in UpdateTheseAxes.</span>
0706 <span class="comment">% function UpdateTheseAxes_Callback(hObject, eventdata, handles)</span>
0707 <span class="comment">% % hObject    handle to UpdateTheseAxes (see GCBO)</span>
0708 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
0709 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
0710 <span class="comment">%</span>
0711 <span class="comment">% BackupGraphs;</span>
0712 <span class="comment">% UpdateGObjects;</span>
0713 <span class="comment">% guidata(hObject,handles);  %routinely saving anything assigned to handles</span>
0714 
0715 <span class="comment">% --- Executes when something happens in TrialFilterVector, I think.</span>
0716 <a name="_sub25" href="#_subfunctions" class="code">function TrialFilterVector_Callback(hObject, eventdata, handles)</a>
0717 <span class="comment">% hObject    handle to TrialFilterVector (see GCBO)</span>
0718 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0719 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0720 
0721 <span class="comment">% Hints: get(hObject,'String') returns contents of TrialFilterVector as text</span>
0722 <span class="comment">%        str2double(get(hObject,'String')) returns contents of TrialFilterVector as a double</span>
0723 
0724 ThingsToDo=get(handles.WhatToDo,<span class="string">'String'</span>);
0725 WhatToDo=ThingsToDo{get(handles.WhatToDo,<span class="string">'value'</span>)};
0726 
0727 <span class="keyword">if</span> strcmp(WhatToDo,<span class="string">'ActiveUpdate'</span>),
0728 UpdateType=<span class="string">'Filter'</span>;
0729 <a href="../XeX/UtilityFunctions/update/UpdateSlider.html" class="code" title="">UpdateSlider</a>;
0730 <span class="keyword">end</span>
0731 
0732 guidata(hObject,handles);
0733 
0734 
0735 <span class="comment">% --- Executes on selection change in PlottingFileList.</span>
0736 <a name="_sub26" href="#_subfunctions" class="code">function PlottingFileList_Callback(hObject, eventdata, handles)</a>
0737 <span class="comment">% hObject    handle to PlottingFileList (see GCBO)</span>
0738 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0739 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0740 
0741 <span class="comment">% Hints: contents = get(hObject,'String') returns PlottingFileList contents as cell array</span>
0742 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from PlottingFileList</span>
0743 
0744 <span class="comment">% ShowSlider;</span>
0745 
0746 contents=get(hObject,<span class="string">'String'</span>);
0747 currentselection=contents{get(hObject,<span class="string">'value'</span>)};
0748 
0749 <span class="keyword">switch</span>(currentselection),
0750     <span class="keyword">case</span> <span class="string">'ImageMap.m'</span>, set(handles.StimulusAlignedTimeVector,<span class="string">'string'</span>,<span class="string">'[50 150]'</span>); <span class="keyword">if</span> isempty(char(get(handles.TrialFilterVector,<span class="string">'string'</span>))),set(handles.TrialFilterVector,<span class="string">'string'</span>,<span class="string">'GoodTrial==1&amp;PhotoBad~=1'</span>);<span class="keyword">end</span>
0751         XAxisVariables=get(handles.XAxisVariable,<span class="string">'string'</span>);
0752         WhereisRFx=find(strcmp(XAxisVariables,<span class="string">'RFx'</span>));
0753         <span class="keyword">if</span> ~isempty(WhereisRFx), set(handles.XAxisVariable,<span class="string">'value'</span>,WhereisRFx(1)); set(handles.XAxisDiscretize,<span class="string">'value'</span>,1); set(handles.XAxisCenters,<span class="string">'string'</span>,<span class="string">'-25:5:25'</span>);<span class="keyword">end</span>
0754        X1AxisVariables=get(handles.X1AxisVariable,<span class="string">'string'</span>);
0755         WhereisRFy=find(strcmp(X1AxisVariables,<span class="string">'RFy'</span>));
0756         <span class="keyword">if</span> ~isempty(WhereisRFy), set(handles.X1AxisVariable,<span class="string">'value'</span>,WhereisRFy(1)); set(handles.X1AxisDiscretize,<span class="string">'value'</span>,1); set(handles.X1AxisCenters,<span class="string">'string'</span>,<span class="string">'-25:5:25'</span>);<span class="keyword">end</span>
0757        YAxisVariables=get(handles.YAxisVariable,<span class="string">'string'</span>);
0758         WhereisSpikeRate=find(strcmp(YAxisVariables,<span class="string">'SpikeRate'</span>));
0759         <span class="keyword">if</span> ~isempty(WhereisSpikeRate), set(handles.YAxisVariable,<span class="string">'value'</span>,WhereisSpikeRate(1)); <span class="keyword">end</span>
0760         
0761             
0762     <span class="keyword">case</span> <span class="string">'CircleMap.m'</span>, set(handles.StimulusAlignedTimeVector,<span class="string">'string'</span>,<span class="string">'[50 150]'</span>);<span class="keyword">if</span> isempty(char(get(handles.TrialFilterVector,<span class="string">'string'</span>))),set(handles.TrialFilterVector,<span class="string">'string'</span>,<span class="string">'GoodTrial==1&amp;PhotoBad~=1'</span>);<span class="keyword">end</span>
0763     <span class="keyword">case</span> <span class="string">'SpikeDensity.m'</span>, set(handles.StimulusAlignedTimeVector,<span class="string">'string'</span>,<span class="string">'[-400 400]'</span>);
0764     <span class="keyword">case</span> <span class="string">'DrawPSTH.m'</span>, set(handles.StimulusAlignedTimeVector,<span class="string">'string'</span>,<span class="string">'[-400 400]'</span>);
0765 <span class="keyword">end</span>        
0766     
0767         guidata(hObject,handles);
0768 
0769 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0770 <a name="_sub27" href="#_subfunctions" class="code">function PlottingFileList_CreateFcn(hObject, eventdata, handles)</a>
0771 <span class="comment">% hObject    handle to PlottingFileList (see GCBO)</span>
0772 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0773 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0774 
0775 <span class="comment">% Hint: popupmenu controls usually have a white background on Windows.</span>
0776 <span class="comment">%       See ISPC and COMPUTER.</span>
0777 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0778     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0779 <span class="keyword">end</span>
0780 
0781 
0782 
0783 
0784 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0785 <a name="_sub28" href="#_subfunctions" class="code">function TrialFilterVector_CreateFcn(hObject, eventdata, handles)</a>
0786 <span class="comment">% hObject    handle to TrialFilterVector (see GCBO)</span>
0787 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0788 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0789 
0790 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0791 <span class="comment">%       See ISPC and COMPUTER.</span>
0792 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0793     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0794 <span class="keyword">end</span>
0795 
0796 <span class="comment">% set(hObject,'tooltipstring',sprintf(['This is a key area. Enter FilterValues like RFPat==28&amp;GoodTrial==1 \nor RFx&lt;0 &amp; RFy&gt;0 for upper left quadrant, etc. If empty, or set to ''TrialFilterVector'', it will be set to 1\nIf NA, then update axes will ignore it\n and use'...</span>
0797 <span class="comment">%     'the saved filter string in the graphics object']));</span>
0798 
0799 guidata(hObject,handles);
0800 
0801 <span class="comment">% --- Executes on selection change in CurrentAxes.</span>
0802 <a name="_sub29" href="#_subfunctions" class="code">function CurrentAxes_Callback(hObject, eventdata, handles)</a>
0803 <span class="comment">% hObject    handle to CurrentAxes (see GCBO)</span>
0804 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0805 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0806 
0807 <span class="comment">% Hints: contents = get(hObject,'String') returns CurrentAxes contents as cell array</span>
0808 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from CurrentAxes</span>
0809 
0810 
0811 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0812 <a name="_sub30" href="#_subfunctions" class="code">function CurrentAxes_CreateFcn(hObject, eventdata, handles)</a>
0813 <span class="comment">% hObject    handle to CurrentAxes (see GCBO)</span>
0814 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0815 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0816 
0817 <span class="comment">% Hint: listbox controls usually have a white background on Windows.</span>
0818 <span class="comment">%       See ISPC and COMPUTER.</span>
0819 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0820     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0821 <span class="keyword">end</span>
0822 
0823 
0824 
0825 <span class="comment">% --- Executes on button press in UpdateCell.</span>
0826 <a name="_sub31" href="#_subfunctions" class="code">function UpdateCell_Callback(hObject, eventdata, handles)</a>
0827 <span class="comment">% hObject    handle to UpdateCell (see GCBO)</span>
0828 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0829 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0830 
0831 <span class="comment">%UpdateCell;</span>
0832 
0833 <span class="comment">% BackupGraphs;</span>
0834 NextCommandSetBaseRate=0;
0835 LoadGFXVar=0; <a href="../XeX/UtilityFunctions/update/UpdateCellOrLoadGFX.html" class="code" title="">UpdateCellOrLoadGFX</a>;
0836 guidata(hObject,handles);  <span class="comment">%routinely saving anything assigned to handles</span>
0837 
0838 
0839 <a name="_sub32" href="#_subfunctions" class="code">function Axis1Markers_Callback(hObject, eventdata, handles)</a>
0840 <span class="comment">% hObject    handle to Axis1Markers (see GCBO)</span>
0841 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0842 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0843 
0844 <span class="comment">% Hints: get(hObject,'String') returns contents of Axis1Markers as text</span>
0845 <span class="comment">%        str2double(get(hObject,'String')) returns contents of Axis1Markers as a double</span>
0846 
0847 
0848 CurrentAxisMarkerNumber=1;
0849 <a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>;
0850 guidata(hObject,handles);
0851 
0852 
0853 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0854 <a name="_sub33" href="#_subfunctions" class="code">function Axis1Markers_CreateFcn(hObject, eventdata, handles)</a>
0855 <span class="comment">% hObject    handle to Axis1Markers (see GCBO)</span>
0856 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0857 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0858 
0859 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0860 <span class="comment">%       See ISPC and COMPUTER.</span>
0861 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0862     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0863 <span class="keyword">end</span>
0864 
0865 
0866 
0867 <a name="_sub34" href="#_subfunctions" class="code">function Axis2Markers_Callback(hObject, eventdata, handles)</a>
0868 <span class="comment">% hObject    handle to Axis2Markers (see GCBO)</span>
0869 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0870 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0871 
0872 <span class="comment">% Hints: get(hObject,'String') returns contents of Axis2Markers as text</span>
0873 <span class="comment">%        str2double(get(hObject,'String')) returns contents of Axis2Markers as a double</span>
0874 
0875 CurrentAxisMarkerNumber=2;
0876 <a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>;
0877 guidata(hObject,handles);
0878 
0879 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0880 <a name="_sub35" href="#_subfunctions" class="code">function Axis2Markers_CreateFcn(hObject, eventdata, handles)</a>
0881 <span class="comment">% hObject    handle to Axis2Markers (see GCBO)</span>
0882 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0883 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0884 
0885 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0886 <span class="comment">%       See ISPC and COMPUTER.</span>
0887 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0888     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0889 <span class="keyword">end</span>
0890 
0891 
0892 
0893 <a name="_sub36" href="#_subfunctions" class="code">function Axis3Markers_Callback(hObject, eventdata, handles)</a>
0894 <span class="comment">% hObject    handle to Axis3Markers (see GCBO)</span>
0895 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0896 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0897 
0898 <span class="comment">% Hints: get(hObject,'String') returns contents of Axis3Markers as text</span>
0899 <span class="comment">%        str2double(get(hObject,'String')) returns contents of Axis3Markers as a double</span>
0900 
0901 CurrentAxisMarkerNumber=3;
0902 <a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>;
0903 guidata(hObject,handles);
0904 
0905 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0906 <a name="_sub37" href="#_subfunctions" class="code">function Axis3Markers_CreateFcn(hObject, eventdata, handles)</a>
0907 <span class="comment">% hObject    handle to Axis3Markers (see GCBO)</span>
0908 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0909 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0910 
0911 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0912 <span class="comment">%       See ISPC and COMPUTER.</span>
0913 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0914     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0915 <span class="keyword">end</span>
0916 
0917 
0918 
0919 <a name="_sub38" href="#_subfunctions" class="code">function Axis4Markers_Callback(hObject, eventdata, handles)</a>
0920 <span class="comment">% hObject    handle to Axis4Markers (see GCBO)</span>
0921 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0922 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0923 
0924 <span class="comment">% Hints: get(hObject,'String') returns contents of Axis4Markers as text</span>
0925 <span class="comment">%        str2double(get(hObject,'String')) returns contents of Axis4Markers as a double</span>
0926 
0927 CurrentAxisMarkerNumber=4;
0928 <a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>;
0929 guidata(hObject,handles);
0930 
0931 
0932 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0933 <a name="_sub39" href="#_subfunctions" class="code">function Axis4Markers_CreateFcn(hObject, eventdata, handles)</a>
0934 <span class="comment">% hObject    handle to Axis4Markers (see GCBO)</span>
0935 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0936 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0937 
0938 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0939 <span class="comment">%       See ISPC and COMPUTER.</span>
0940 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0941     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0942 <span class="keyword">end</span>
0943 
0944 
0945 
0946 <a name="_sub40" href="#_subfunctions" class="code">function Axis5Markers_Callback(hObject, eventdata, handles)</a>
0947 <span class="comment">% hObject    handle to Axis5Markers (see GCBO)</span>
0948 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0949 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0950 
0951 <span class="comment">% Hints: get(hObject,'String') returns contents of Axis5Markers as text</span>
0952 <span class="comment">%        str2double(get(hObject,'String')) returns contents of Axis5Markers as a double</span>
0953 
0954 CurrentAxisMarkerNumber=5;
0955 <a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>;
0956 guidata(hObject,handles);
0957 
0958 
0959 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0960 <a name="_sub41" href="#_subfunctions" class="code">function Axis5Markers_CreateFcn(hObject, eventdata, handles)</a>
0961 <span class="comment">% hObject    handle to Axis5Markers (see GCBO)</span>
0962 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0963 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0964 
0965 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0966 <span class="comment">%       See ISPC and COMPUTER.</span>
0967 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0968     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0969 <span class="keyword">end</span>
0970 
0971 
0972 
0973 <a name="_sub42" href="#_subfunctions" class="code">function Axis6Markers_Callback(hObject, eventdata, handles)</a>
0974 <span class="comment">% hObject    handle to Axis6Markers (see GCBO)</span>
0975 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0976 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0977 
0978 <span class="comment">% Hints: get(hObject,'String') returns contents of Axis6Markers as text</span>
0979 <span class="comment">%        str2double(get(hObject,'String')) returns contents of Axis6Markers as a double</span>
0980 
0981 CurrentAxisMarkerNumber=6;
0982 <a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>;
0983 guidata(hObject,handles);
0984 
0985 
0986 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0987 <a name="_sub43" href="#_subfunctions" class="code">function Axis6Markers_CreateFcn(hObject, eventdata, handles)</a>
0988 <span class="comment">% hObject    handle to Axis6Markers (see GCBO)</span>
0989 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0990 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0991 
0992 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0993 <span class="comment">%       See ISPC and COMPUTER.</span>
0994 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0995     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0996 <span class="keyword">end</span>
0997 
0998 
0999 
1000 <a name="_sub44" href="#_subfunctions" class="code">function Axis7Markers_Callback(hObject, eventdata, handles)</a>
1001 <span class="comment">% hObject    handle to Axis7Markers (see GCBO)</span>
1002 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1003 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1004 
1005 <span class="comment">% Hints: get(hObject,'String') returns contents of Axis7Markers as text</span>
1006 <span class="comment">%        str2double(get(hObject,'String')) returns contents of Axis7Markers as a double</span>
1007 
1008 CurrentAxisMarkerNumber=7;
1009 <a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>;
1010 guidata(hObject,handles);
1011 
1012 
1013 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1014 <a name="_sub45" href="#_subfunctions" class="code">function Axis7Markers_CreateFcn(hObject, eventdata, handles)</a>
1015 <span class="comment">% hObject    handle to Axis7Markers (see GCBO)</span>
1016 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1017 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1018 
1019 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1020 <span class="comment">%       See ISPC and COMPUTER.</span>
1021 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1022     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1023 <span class="keyword">end</span>
1024 
1025 
1026 
1027 <a name="_sub46" href="#_subfunctions" class="code">function Axis8Markers_Callback(hObject, eventdata, handles)</a>
1028 <span class="comment">% hObject    handle to Axis8Markers (see GCBO)</span>
1029 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1030 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1031 
1032 <span class="comment">% Hints: get(hObject,'String') returns contents of Axis8Markers as text</span>
1033 <span class="comment">%        str2double(get(hObject,'String')) returns contents of Axis8Markers as a double</span>
1034 
1035 CurrentAxisMarkerNumber=8;
1036 <a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>;
1037 guidata(hObject,handles);
1038 
1039 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1040 <a name="_sub47" href="#_subfunctions" class="code">function Axis8Markers_CreateFcn(hObject, eventdata, handles)</a>
1041 <span class="comment">% hObject    handle to Axis8Markers (see GCBO)</span>
1042 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1043 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1044 
1045 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1046 <span class="comment">%       See ISPC and COMPUTER.</span>
1047 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1048     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1049 <span class="keyword">end</span>
1050 
1051 
1052 
1053 <a name="_sub48" href="#_subfunctions" class="code">function Axis9Markers_Callback(hObject, eventdata, handles)</a>
1054 <span class="comment">% hObject    handle to Axis9Markers (see GCBO)</span>
1055 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1056 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1057 
1058 <span class="comment">% Hints: get(hObject,'String') returns contents of Axis9Markers as text</span>
1059 <span class="comment">%        str2double(get(hObject,'String')) returns contents of Axis9Markers as a double</span>
1060 
1061 CurrentAxisMarkerNumber=9;
1062 <a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>;
1063 guidata(hObject,handles);
1064 
1065 
1066 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1067 <a name="_sub49" href="#_subfunctions" class="code">function Axis9Markers_CreateFcn(hObject, eventdata, handles)</a>
1068 <span class="comment">% hObject    handle to Axis9Markers (see GCBO)</span>
1069 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1070 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1071 
1072 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1073 <span class="comment">%       See ISPC and COMPUTER.</span>
1074 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1075     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1076 <span class="keyword">end</span>
1077 
1078 <span class="comment">% --- Executes on button press in ResetProps.</span>
1079 <a name="_sub50" href="#_subfunctions" class="code">function ResetProps_Callback(hObject, eventdata, handles)</a>
1080 <span class="comment">% hObject    handle to ResetProps (see GCBO)</span>
1081 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1082 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1083 
1084 <span class="keyword">for</span> TempVar=1:handles.NumberOfAxes
1085     eval([<span class="string">'set(handles.Axis'</span> num2str(TempVar) <span class="string">'Markers,''string'',''b-r-m-c-k-y-'');'</span>]);
1086 <span class="keyword">end</span> 
1087 
1088 guidata(hObject,handles);
1089 
1090 
1091 <span class="comment">% --- Executes on button press in UseProps.</span>
1092 <a name="_sub51" href="#_subfunctions" class="code">function UseProps_Callback(hObject, eventdata, handles)</a>
1093 <span class="comment">% hObject    handle to UseProps (see GCBO)</span>
1094 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1095 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1096 
1097 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of UseProps</span>
1098 
1099 <a href="../XeX/UtilityFunctions/handlingGraphics/DoUseProps.html" class="code" title="">DoUseProps</a>;
1100 
1101 guidata(hObject,handles);
1102 
1103 <span class="comment">% --- Executes on button press in AddAnalysisFileButton.</span>
1104 <a name="_sub52" href="#_subfunctions" class="code">function AddAnalysisFileButton_Callback(hObject, eventdata, handles)</a>
1105 <span class="comment">% hObject    handle to AddAnalysisFileButton (see GCBO)</span>
1106 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1107 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1108 
1109 Old_Dir=pwd;
1110 <span class="keyword">if</span> ~exist(<span class="string">'DataDirectory'</span>,<span class="string">'var'</span>), DataDirectory=<span class="string">'c:\MATLAB\work\XeX\PreProcFunctions'</span>;<span class="keyword">end</span>
1111 cd(DataDirectory);
1112 
1113    [input_filename, input_pathname] = uigetfile( <span class="keyword">...</span>
1114        {<span class="string">'*.m'</span>,<span class="string">'M-files (*.m)'</span>;
1115         <span class="string">'*.*'</span>,  <span class="string">'All Files (*.*)'</span>}, <span class="keyword">...</span>
1116         <span class="string">'Add an Analysis File'</span>, <span class="keyword">...</span>
1117         <span class="string">'MultiSelect'</span>, <span class="string">'on'</span>);
1118 
1119     <span class="comment">%%loading the files</span>
1120 
1121      <span class="keyword">if</span> ~isnumeric(input_filename)
1122      <span class="keyword">if</span> ~iscell(input_filename) TemporaryStuff{1}=input_filename;
1123      input_filename=TemporaryStuff; 
1124      <span class="keyword">end</span>
1125      
1126 AnalysisFileNames=get(handles.AnalysisFile,<span class="string">'string'</span>);
1127          <span class="keyword">if</span> ~iscell(AnalysisFileNames)
1128              TemporaryStuff{1}=AnalysisFileNames;
1129              AnalysisFileNames=TemporaryStuff;
1130          <span class="keyword">end</span>
1131          
1132          <span class="keyword">if</span> ~iscell(AnalysisFileNames)
1133              set(handles.AnalysisFile,<span class="string">'string'</span>,sort(input_filename));
1134          <span class="keyword">else</span>
1135              NewNames=setdiff(input_filename,AnalysisFileNames);
1136              set(handles.AnalysisFile,<span class="string">'string'</span>,sort([NewNames AnalysisFileNames']'));
1137          <span class="keyword">end</span>
1138 
1139          guidata(hObject,handles);
1140          
1141      <span class="keyword">end</span>
1142      
1143         cd(Old_Dir);
1144 
1145 
1146 <span class="comment">% % --- Executes on button press in SaveGraphics.</span>
1147 <span class="comment">% function SaveGraphics_Callback(hObject, eventdata, handles)</span>
1148 <span class="comment">% % hObject    handle to SaveGraphics (see GCBO)</span>
1149 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
1150 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
1151 <span class="comment">%</span>
1152 <span class="comment">% Old_Dir=pwd;</span>
1153 <span class="comment">% if isfield(handles,'GraphicsDirectory'), cd(handles.GraphicsDirectory); else try,cd('c:\MATLAB\work\physiology\GraphicsObjects');</span>
1154 <span class="comment">%     catch,fprintf('%s\n','Didnt find graphics directory');end</span>
1155 <span class="comment">% end</span>
1156 <span class="comment">%</span>
1157 <span class="comment">% TempGraphs=[];</span>
1158 <span class="comment">% for TempVar=1:(handles.NumberOfAxes)</span>
1159 <span class="comment">%     EvalString=[...</span>
1160 <span class="comment">%         'if isfield(handles,''A' num2str(TempVar) '''),TempGraphs.A' num2str(TempVar) '=handles.A' num2str(TempVar) ';end'...</span>
1161 <span class="comment">%         ];</span>
1162 <span class="comment">%     eval(EvalString);</span>
1163 <span class="comment">%         EvalString=[...</span>
1164 <span class="comment">%         'if isfield(handles,''A' num2str(TempVar) 'Annotations''),TempGraphs.A' num2str(TempVar) 'Annotations=handles.A' num2str(TempVar) 'Annotations;end'...</span>
1165 <span class="comment">%         ];</span>
1166 <span class="comment">%     eval(EvalString);</span>
1167 <span class="comment">% end</span>
1168 <span class="comment">% if ~isempty(TempGraphs)</span>
1169 <span class="comment">%</span>
1170 <span class="comment">%      [filename, pathname, filterindex] = uiputfile( ...</span>
1171 <span class="comment">%        {'*_gfx.mat','GFX-files (*_gfx.mat)'; ...</span>
1172 <span class="comment">%         '*.*',  'All Files (*.*)'}, ...</span>
1173 <span class="comment">%         'Save Graphics Object as', 'Untitled_gfx.mat');</span>
1174 <span class="comment">%</span>
1175 <span class="comment">%     if filename~=0, save([pathname filename],'TempGraphs'),</span>
1176 <span class="comment">%     TellMe('%s\n',['Saved to    ' filename],handles.SpeakToMe);</span>
1177 <span class="comment">%     end</span>
1178 <span class="comment">% else fprintf('%s\n','TempGraphs is empty !!'); keyboard;</span>
1179 <span class="comment">% end</span>
1180 <span class="comment">%</span>
1181 <span class="comment">% cd(Old_Dir);</span>
1182 <span class="comment">%</span>
1183 <span class="comment">% guidata(hObject,handles);</span>
1184 
1185 <span class="comment">% % --- Executes on button press in LoadGraphics.</span>
1186 <span class="comment">% function LoadGraphics_Callback(hObject, eventdata, handles)</span>
1187 <span class="comment">% % hObject    handle to LoadGraphics (see GCBO)</span>
1188 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
1189 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
1190 <span class="comment">%</span>
1191 <span class="comment">% Old_Dir=pwd;</span>
1192 <span class="comment">% if isfield(handles,'GraphicsDirectory'), cd(handles.GraphicsDirectory); else try,cd('c:\MATLAB\work\physiology\GraphicsObjects');</span>
1193 <span class="comment">%     catch,fprintf('%s\n','Didnt find graphics directory');end</span>
1194 <span class="comment">% end</span>
1195 <span class="comment">%</span>
1196 <span class="comment">% CurrentHoldStatus=get(handles.HoldStatus,'Value');</span>
1197 <span class="comment">%</span>
1198 <span class="comment">%    [CurrentFile, input_pathname] = uigetfile( ...</span>
1199 <span class="comment">%        {'*_gfx.mat','graphix_mat-files (*_gfx.mat)';...</span>
1200 <span class="comment">%         '*.*',  'All Files (*.*)'}, ...</span>
1201 <span class="comment">%         'Pick a Graphics Object file');</span>
1202 <span class="comment">%</span>
1203 <span class="comment">%     %%loading the files</span>
1204 <span class="comment">%</span>
1205 <span class="comment">%      if ~isnumeric(CurrentFile)</span>
1206 <span class="comment">%</span>
1207 <span class="comment">%      cd(input_pathname);</span>
1208 <span class="comment">%</span>
1209 <span class="comment">%          if ~isempty(strfind(CurrentFile,'.mat'))</span>
1210 <span class="comment">%              CurrentFile=CurrentFile(1:(end-4));</span>
1211 <span class="comment">%              eval([CurrentFile '= load(''' CurrentFile '.mat'');']);</span>
1212 <span class="comment">%              eval(['TempGraphs=' CurrentFile '.TempGraphs;']);</span>
1213 <span class="comment">%</span>
1214 <span class="comment">%              for TempVar=1:(handles.NumberOfAxes)</span>
1215 <span class="comment">%                  NStr=num2str(TempVar);</span>
1216 <span class="comment">%</span>
1217 <span class="comment">%                  LocalTempEvalString=['if isfield(TempGraphs,''A' NStr '''),'...</span>
1218 <span class="comment">%                      'TempLen=length(TempGraphs.A' NStr ');'...</span>
1219 <span class="comment">%                      'if isfield(handles,''A' NStr '''), OldLen=length(handles.A' NStr '); else OldLen=0;end,'...</span>
1220 <span class="comment">%                      'for indica=1:TempLen, TempGraphs.A' NStr '(indica).newgraph=1;end,'...</span>
1221 <span class="comment">%                      'if CurrentHoldStatus==1, handles.A' NStr '((OldLen+1):(OldLen+TempLen))=TempGraphs.A' NStr ';end,'...</span>
1222 <span class="comment">%                      'if CurrentHoldStatus~=1, handles.A' NStr '=TempGraphs.A' NStr ';end,'...</span>
1223 <span class="comment">%                      'if isfield(TempGraphs,''A' NStr 'Annotations''), handles.A' NStr 'Annotations=TempGraphs.A' NStr 'Annotations;end,'...</span>
1224 <span class="comment">%                  'end;'];</span>
1225 <span class="comment">%                  eval(LocalTempEvalString);</span>
1226 <span class="comment">%                  clear LocalTempEvalString;</span>
1227 <span class="comment">%              end</span>
1228 <span class="comment">%          end</span>
1229 <span class="comment">%</span>
1230 <span class="comment">% LoadGFXVar=1;</span>
1231 <span class="comment">% UpdateCellOrLoadGFX;</span>
1232 <span class="comment">% guidata(hObject,handles);</span>
1233 <span class="comment">%</span>
1234 <span class="comment">%      end</span>
1235 <span class="comment">%</span>
1236          
1237 <span class="comment">% --- Executes on button press in pushbutton23.</span>
1238 <a name="_sub53" href="#_subfunctions" class="code">function pushbutton23_Callback(hObject, eventdata, handles)</a>
1239 <span class="comment">% hObject    handle to pushbutton23 (see GCBO)</span>
1240 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1241 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1242 
1243 
1244 <span class="comment">% --- Executes on button press in pushbutton24.</span>
1245 <a name="_sub54" href="#_subfunctions" class="code">function pushbutton24_Callback(hObject, eventdata, handles)</a>
1246 <span class="comment">% hObject    handle to pushbutton24 (see GCBO)</span>
1247 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1248 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1249 
1250 
1251 <span class="comment">% --- Executes on button press in pushbutton25.</span>
1252 <a name="_sub55" href="#_subfunctions" class="code">function pushbutton25_Callback(hObject, eventdata, handles)</a>
1253 <span class="comment">% hObject    handle to pushbutton25 (see GCBO)</span>
1254 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1255 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1256 
1257 
1258 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1259 <a name="_sub56" href="#_subfunctions" class="code">function AnalyzeFile_CreateFcn(hObject, eventdata, handles)</a>
1260 <span class="comment">% hObject    handle to AnalyzeFile (see GCBO)</span>
1261 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1262 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1263 
1264 set(hObject,<span class="string">'tooltipstring'</span>,<span class="string">'Choose an Analysis File to run analyses on selected data file(s)'</span>);
1265 guidata(hObject,handles);
1266 
1267 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1268 <a name="_sub57" href="#_subfunctions" class="code">function LoadFile_CreateFcn(hObject, eventdata, handles)</a>
1269 <span class="comment">% hObject    handle to LoadFile (see GCBO)</span>
1270 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1271 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1272 
1273 set(hObject,<span class="string">'tooltipstring'</span>,<span class="string">'Load (Multiple) Data File(s) Here'</span>);
1274 guidata(hObject,handles);
1275 
1276 
1277 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1278 <a name="_sub58" href="#_subfunctions" class="code">function AddAnalysisFileButton_CreateFcn(hObject, eventdata, handles)</a>
1279 <span class="comment">% hObject    handle to AddAnalysisFileButton (see GCBO)</span>
1280 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1281 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1282 
1283 <span class="comment">%set(hObject,'tooltipstring','Add Analysis Files to the Popup Menu');</span>
1284 guidata(hObject,handles);
1285 
1286 <span class="comment">%</span>
1287 <span class="comment">% % --- Executes during object creation, after setting all properties.</span>
1288 <span class="comment">% function LoadGraphics_CreateFcn(hObject, eventdata, handles)</span>
1289 <span class="comment">% % hObject    handle to LoadGraphics (see GCBO)</span>
1290 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
1291 <span class="comment">% % handles    empty - handles not created until after all CreateFcns called</span>
1292 <span class="comment">%</span>
1293 <span class="comment">% set(hObject,'tooltipstring',sprintf('Click here to load saved graphics objects\nTitles will be loaded as well'));</span>
1294 <span class="comment">% guidata(hObject,handles);</span>
1295 
1296 
1297 <span class="comment">% --- Executes on button press in DeleteLoadedFiles.</span>
1298 <a name="_sub59" href="#_subfunctions" class="code">function DeleteLoadedFiles_Callback(hObject, eventdata, handles)</a>
1299 <span class="comment">% hObject    handle to DeleteLoadedFiles (see GCBO)</span>
1300 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1301 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1302 
1303  LoadedFileList=get(handles.LoadedFiles,<span class="string">'string'</span>);
1304  <span class="keyword">if</span> ~iscell(LoadedFileList) &amp;&amp; strcmp(LoadedFileList,<span class="string">'LoadedFiles'</span>)
1305      <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Nothing to delete !!'</span>,handles.SpeakToMe);
1306  <span class="keyword">else</span>
1307  <span class="keyword">if</span> ~iscell(LoadedFileList), TempVar{1}=LoadedFileList; LoadedFileList=TempVar;<span class="keyword">end</span>
1308  CurrentValue=get(handles.LoadedFiles,<span class="string">'value'</span>);
1309  FilesToDelete=LoadedFileList(CurrentValue);
1310  
1311  set(handles.LoadedFiles,<span class="string">'listboxtop'</span>,1);
1312  
1313  <span class="keyword">for</span> TempVar=1:length(FilesToDelete)
1314      eval([<span class="string">'handles=rmfield(handles,'''</span> FilesToDelete{TempVar} <span class="string">''');'</span>]);
1315      fprintf(<span class="string">'%s\n'</span>,[<span class="string">'Deleted  '</span> FilesToDelete{TempVar}]);
1316          <span class="keyword">end</span>
1317  
1318  FilesToKeep=setdiff(1:length(LoadedFileList),CurrentValue);
1319  <span class="keyword">if</span> isempty(FilesToKeep), LoadedFileList=<span class="string">'LoadedFiles'</span>; <span class="keyword">else</span> LoadedFileList=LoadedFileList(FilesToKeep);<span class="keyword">end</span>
1320 set(handles.LoadedFiles,<span class="string">'string'</span>,(LoadedFileList),<span class="string">'value'</span>,1);
1321 
1322 fprintf(<span class="string">'%s'</span>,sprintf(<span class="string">'If there are graphics objects\n that depend on these files,\n then if you try to update axes, it will fail\n'</span>));
1323 fprintf(<span class="string">'%s\n'</span>,<span class="string">'ALSO: this step takes time because a copy of handles is created and modified. May also screw up memory. WAIT for loaded files to appear, if you are deleting a LOT of files'</span>);
1324 
1325 guidata(hObject,handles);
1326  <span class="keyword">end</span>
1327 
1328 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1329 <a name="_sub60" href="#_subfunctions" class="code">function DeleteLoadedFiles_CreateFcn(hObject, eventdata, handles)</a>
1330 <span class="comment">% hObject    handle to DeleteLoadedFiles (see GCBO)</span>
1331 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1332 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1333 
1334 set(hObject,<span class="string">'tooltipstring'</span>,<span class="string">'Delete Loaded Data Files (Trials and Analysis)'</span>);
1335 guidata(hObject,handles);
1336 
1337 
1338 
1339 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1340 <a name="_sub61" href="#_subfunctions" class="code">function axes1_CreateFcn(hObject, eventdata, handles)</a>
1341 <span class="comment">% hObject    handle to axes1 (see GCBO)</span>
1342 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1343 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1344 
1345 <span class="comment">% Hint: place code in OpeningFcn to populate axes1</span>
1346 
1347 hold on;
1348 
1349 
1350 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1351 <a name="_sub62" href="#_subfunctions" class="code">function axes2_CreateFcn(hObject, eventdata, handles)</a>
1352 <span class="comment">% hObject    handle to axes2 (see GCBO)</span>
1353 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1354 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1355 
1356 <span class="comment">% Hint: place code in OpeningFcn to populate axes2</span>
1357 
1358 
1359 hold on;
1360 
1361 
1362 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1363 <a name="_sub63" href="#_subfunctions" class="code">function axes3_CreateFcn(hObject, eventdata, handles)</a>
1364 <span class="comment">% hObject    handle to axes3 (see GCBO)</span>
1365 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1366 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1367 
1368 <span class="comment">% Hint: place code in OpeningFcn to populate axes3</span>
1369 
1370 hold on;
1371 
1372 
1373 
1374 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1375 <a name="_sub64" href="#_subfunctions" class="code">function axes4_CreateFcn(hObject, eventdata, handles)</a>
1376 <span class="comment">% hObject    handle to axes4 (see GCBO)</span>
1377 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1378 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1379 
1380 <span class="comment">% Hint: place code in OpeningFcn to populate axes4</span>
1381 hold on;
1382 
1383 
1384 
1385 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1386 <a name="_sub65" href="#_subfunctions" class="code">function axes5_CreateFcn(hObject, eventdata, handles)</a>
1387 <span class="comment">% hObject    handle to axes5 (see GCBO)</span>
1388 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1389 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1390 
1391 <span class="comment">% Hint: place code in OpeningFcn to populate axes5</span>
1392 
1393 hold on;
1394 
1395 
1396 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1397 <a name="_sub66" href="#_subfunctions" class="code">function axes6_CreateFcn(hObject, eventdata, handles)</a>
1398 <span class="comment">% hObject    handle to axes6 (see GCBO)</span>
1399 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1400 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1401 
1402 <span class="comment">% Hint: place code in OpeningFcn to populate axes6</span>
1403 
1404 hold on;
1405 
1406 
1407 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1408 <a name="_sub67" href="#_subfunctions" class="code">function axes7_CreateFcn(hObject, eventdata, handles)</a>
1409 <span class="comment">% hObject    handle to axes7 (see GCBO)</span>
1410 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1411 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1412 
1413 <span class="comment">% Hint: place code in OpeningFcn to populate axes7</span>
1414 
1415 hold on;
1416 <span class="comment">% zoom on;</span>
1417 
1418 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1419 <a name="_sub68" href="#_subfunctions" class="code">function axes8_CreateFcn(hObject, eventdata, handles)</a>
1420 <span class="comment">% hObject    handle to axes8 (see GCBO)</span>
1421 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1422 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1423 
1424 <span class="comment">% Hint: place code in OpeningFcn to populate axes8</span>
1425 
1426 hold on;
1427 
1428 
1429 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1430 <a name="_sub69" href="#_subfunctions" class="code">function axes9_CreateFcn(hObject, eventdata, handles)</a>
1431 <span class="comment">% hObject    handle to axes9 (see GCBO)</span>
1432 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1433 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1434 
1435 <span class="comment">% Hint: place code in OpeningFcn to populate axes9</span>
1436 
1437 hold on;
1438 
1439 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1440 <a name="_sub70" href="#_subfunctions" class="code">function text30_CreateFcn(hObject, eventdata, handles)</a>
1441 <span class="comment">% hObject    handle to text30 (see GCBO)</span>
1442 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1443 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1444 
1445 set(hObject,<span class="string">'tooltipstring'</span>,sprintf(<span class="string">'Enter the in-RF location here\n[x y]\nVariable is CurrentRF'</span>));
1446 guidata(hObject,handles);
1447 
1448 
1449 
1450 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1451 <a name="_sub71" href="#_subfunctions" class="code">function SaveGraphics_CreateFcn(hObject, eventdata, handles)</a>
1452 <span class="comment">% hObject    handle to SaveGraphics (see GCBO)</span>
1453 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1454 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1455 <span class="comment">% Only on because other buttons somehow have this as their &quot;dud&quot; create</span>
1456 <span class="comment">% function</span>
1457 
1458 guidata(hObject,handles);
1459 
1460 
1461 
1462 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1463 <a name="_sub72" href="#_subfunctions" class="code">function UpdateTheseAxes_CreateFcn(hObject, eventdata, handles)</a>
1464 <span class="comment">% hObject    handle to UpdateTheseAxes (see GCBO)</span>
1465 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1466 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1467 
1468 set(hObject,<span class="string">'tooltipstring'</span>,sprintf(<span class="string">'Remember: to keep current filter inactive\n,set it to empty. Easy to miss'</span>));
1469 guidata(hObject,handles);
1470 
1471 
1472 <span class="comment">% --- Executes on selection change in AlignCode.</span>
1473 <a name="_sub73" href="#_subfunctions" class="code">function AlignCode_Callback(hObject, eventdata, handles)</a>
1474 <span class="comment">% hObject    handle to AlignCode (see GCBO)</span>
1475 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1476 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1477 
1478 <span class="comment">% Hints: contents = get(hObject,'String') returns AlignCode contents as cell array</span>
1479 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from AlignCode</span>
1480 
1481 ThingsToDo=get(handles.WhatToDo,<span class="string">'String'</span>);
1482 WhatToDo=ThingsToDo{get(handles.WhatToDo,<span class="string">'value'</span>)};
1483 
1484 <span class="keyword">if</span> strcmp(WhatToDo,<span class="string">'ActiveUpdate'</span>),
1485 UpdateType=<span class="string">'Align'</span>;
1486 <a href="../XeX/UtilityFunctions/update/UpdateSlider.html" class="code" title="">UpdateSlider</a>;
1487 <span class="keyword">end</span>
1488 
1489 guidata(hObject,handles);
1490 
1491 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1492 <a name="_sub74" href="#_subfunctions" class="code">function AlignCode_CreateFcn(hObject, eventdata, handles)</a>
1493 <span class="comment">% hObject    handle to AlignCode (see GCBO)</span>
1494 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1495 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1496 
1497 <span class="comment">% Hint: popupmenu controls usually have a white background on Windows.</span>
1498 <span class="comment">%       See ISPC and COMPUTER.</span>
1499 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1500     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1501 <span class="keyword">end</span>
1502 
1503 
1504 <span class="comment">% --------------------------------------------------------------------</span>
1505 <a name="_sub75" href="#_subfunctions" class="code">function ClearAxes_Callback(hObject, eventdata, handles)</a>
1506 <span class="comment">% hObject    handle to ClearAxes (see GCBO)</span>
1507 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1508 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1509 
1510 hold off; cla;
1511 set(gca,<span class="string">'xlim'</span>,[-inf inf],<span class="string">'ylim'</span>,[-inf inf]);
1512 <a href="../XeX/UtilityFunctions/handlingGraphics/ClearGObjects.html" class="code" title="">ClearGObjects</a>;
1513 
1514 AxesList=handles.HandlesList;
1515 AxisNum=find(gca==AxesList);
1516 
1517 <a href="../XeX/UtilityFunctions/handlingGraphics/UnlinkTheseAxes.html" class="code" title="">UnlinkTheseAxes</a>;
1518 <a href="../XeX/UtilityFunctions/handlingGraphics/UndefineAxisVars.html" class="code" title="">UndefineAxisVars</a>;
1519 
1520 guidata(hObject,handles);
1521 
1522 
1523 
1524 
1525 <span class="comment">% --------------------------------------------------------------------</span>
1526 <a name="_sub76" href="#_subfunctions" class="code">function General_Callback(hObject, eventdata, handles)</a>
1527 <span class="comment">% hObject    handle to FTPFile (see GCBO)</span>
1528 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1529 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1530 
1531 
1532 
1533 <span class="comment">% --------------------------------------------------------------------</span>
1534 <a name="_sub77" href="#_subfunctions" class="code">function GetInsideMe_Callback(hObject, eventdata, handles)</a>
1535 <span class="comment">% hObject    handle to GetInsideMe (see GCBO)</span>
1536 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1537 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1538 
1539 keyboard;
1540 
1541 
1542 <span class="comment">% --------------------------------------------------------------------</span>
1543 <a name="_sub78" href="#_subfunctions" class="code">function FTPFile_Callback(hObject, eventdata, handles)</a>
1544 <span class="comment">% hObject    handle to FTPFile (see GCBO)</span>
1545 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1546 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1547 
1548 <span class="keyword">if</span> isfield(handles,<span class="string">'FTP'</span>)
1549     
1550 FileToFTP=[handles.FTP.pathname handles.FTP.filename];
1551 FTPDir=<span class="string">'c:\MATLAB\work\physiology'</span>;
1552 
1553 <span class="keyword">if</span> isfield(handles,<span class="string">'CurrentDataDirectory'</span>), cd(handles.CurrentDataDirectory);<span class="keyword">end</span>
1554     
1555 eval([<span class="string">'!ncftpget -f '</span> handles.XeXDir <span class="string">'\assorted\pwf '</span>, FTPDir,<span class="string">' '</span>,FileToFTP <span class="string">'A '</span> FileToFTP <span class="string">'E'</span>]);
1556 fprintf(<span class="string">'%s\n'</span>,[<span class="string">'IF NCFTP REPORTED NO ERRORS, File downloaded to   '</span> pwd]);
1557 
1558 <a href="../XeX/UtilityFunctions/loadinFiles/FTPLoadFileStuff.html" class="code" title="">FTPLoadFileStuff</a>;
1559 
1560 <span class="keyword">else</span>
1561     <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Enter the FTP options first'</span>,handles.SpeakToMe);
1562 <span class="keyword">end</span>
1563 
1564 <span class="comment">% --------------------------------------------------------------------</span>
1565 <a name="_sub79" href="#_subfunctions" class="code">function ClearAll_Callback(hObject, eventdata, handles)</a>
1566 <span class="comment">% hObject    handle to ClearAll (see GCBO)</span>
1567 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1568 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1569 
1570 
1571 <span class="keyword">for</span> TempVar=1:(handles.NumberOfAxes)
1572     eval([<span class="string">'axes(handles.axes'</span> num2str(TempVar) <span class="string">');'</span>]);
1573     cla; hold off; set(gca,<span class="string">'xlim'</span>,[-inf inf],<span class="string">'ylim'</span>,[-inf inf]);
1574 eval([<span class="string">'if isfield(handles,''A'</span> num2str(TempVar) <span class="string">'''), handles=rmfield(handles,''A'</span> num2str(TempVar) <span class="string">''');end'</span>]);
1575 <span class="keyword">end</span>
1576 
1577 AxisNum=1:12;
1578 <a href="../XeX/UtilityFunctions/handlingGraphics/UnlinkTheseAxes.html" class="code" title="">UnlinkTheseAxes</a>;
1579 <a href="../XeX/UtilityFunctions/handlingGraphics/UndefineAxisVars.html" class="code" title="">UndefineAxisVars</a>;
1580 
1581 guidata(hObject,handles);
1582 
1583 <span class="comment">% --------------------------------------------------------------------</span>
1584 <a name="_sub80" href="#_subfunctions" class="code">function PlotEdit_Callback(hObject, eventdata, handles)</a>
1585 <span class="comment">% hObject    handle to PlotEdit (see GCBO)</span>
1586 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1587 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1588 
1589 
1590 <span class="keyword">if</span> strcmp(get(hObject,<span class="string">'Checked'</span>),<span class="string">'off'</span>) set(hObject,<span class="string">'checked'</span>,<span class="string">'on'</span>); plotedit(<span class="string">'on'</span>);
1591 <span class="keyword">else</span> set(hObject,<span class="string">'Checked'</span>,<span class="string">'off'</span>); plotedit(<span class="string">'off'</span>);
1592 <span class="keyword">end</span>
1593 guidata(hObject,handles);
1594 
1595 
1596 <span class="comment">% --------------------------------------------------------------------</span>
1597 <a name="_sub81" href="#_subfunctions" class="code">function AnnotateAxis_Callback(hObject, eventdata, handles)</a>
1598 <span class="comment">% hObject    handle to AnnotateAxis (see GCBO)</span>
1599 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1600 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1601 
1602 
1603 AxesHandles=nan*ones(1,handles.NumberOfAxes);
1604 
1605 <span class="keyword">for</span> TempVar=1:(handles.NumberOfAxes)
1606    eval([<span class="string">' AxesHandles(TempVar)=handles.axes'</span> num2str(TempVar) <span class="string">';'</span>]);
1607 <span class="keyword">end</span>
1608 
1609 CurrentAxisHandle=gca;
1610 
1611 WhichAxis=find(AxesHandles==CurrentAxisHandle);
1612 
1613 estring=([<span class="string">'if isfield(handles,''A'</span> num2str(WhichAxis) <span class="string">'Annotations''), danswer=handles.A'</span> num2str(WhichAxis) <span class="string">'Annotations; else danswer={'''','''',''''};end'</span>]);
1614 <span class="comment">%     else danswer={''Axis' num2str(WhichAxis) ''',''X Label'',''Y Label'' };end']);</span>
1615 <span class="comment">%    keyboard;</span>
1616    eval(estring);
1617     danswer{4}=num2str(get(gca,<span class="string">'xlim'</span>));
1618     danswer{5}=num2str(get(gca,<span class="string">'ylim'</span>));
1619     
1620    prompt={<span class="string">'Enter axis title'</span>,<span class="string">'Enter X label'</span> <span class="string">'Enter Y label'</span>,<span class="string">'Enter X Lim'</span>, <span class="string">'Enter Y Lim'</span>};
1621    name=[<span class="string">'Annotate Axis '</span> num2str(WhichAxis)];
1622    numlines=1;
1623    defaultanswer=danswer;
1624  
1625    answer=inputdlg(prompt,name,numlines,defaultanswer);
1626 
1627    
1628    <span class="keyword">if</span> ~isempty(answer)
1629    title(answer{1});
1630    xlabel(answer{2});
1631    ylabel(answer{3});
1632    set(gca,<span class="string">'xlim'</span>,str2num(answer{4}));
1633    set(gca,<span class="string">'ylim'</span>,str2num(answer{5}));
1634    
1635    eval([<span class="string">'handles.A'</span> num2str(WhichAxis) <span class="string">'Annotations=answer;'</span>]);
1636    
1637    <span class="keyword">end</span>
1638 
1639    guidata(hObject,handles);
1640 
1641 <a name="_sub82" href="#_subfunctions" class="code">function UnitNumber_Callback(hObject, eventdata, handles)</a>
1642 <span class="comment">% hObject    handle to UnitNumber (see GCBO)</span>
1643 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1644 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1645 
1646 <span class="comment">% Hints: get(hObject,'String') returns contents of UnitNumber as text</span>
1647 <span class="comment">%        str2double(get(hObject,'String')) returns contents of UnitNumber as a double</span>
1648 
1649 
1650 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1651 <a name="_sub83" href="#_subfunctions" class="code">function UnitNumber_CreateFcn(hObject, eventdata, handles)</a>
1652 <span class="comment">% hObject    handle to UnitNumber (see GCBO)</span>
1653 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1654 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1655 
1656 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1657 <span class="comment">%       See ISPC and COMPUTER.</span>
1658 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1659     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1660 <span class="keyword">end</span>
1661 
1662 
1663 
1664 
1665 <span class="comment">% --------------------------------------------------------------------</span>
1666 <a name="_sub84" href="#_subfunctions" class="code">function SetDataDirectory_Callback(hObject, eventdata, handles)</a>
1667 <span class="comment">% hObject    handle to SetDataDirectory (see GCBO)</span>
1668 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1669 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1670 
1671 TempDir=uigetdir(handles.CurrentDataDirectory,<span class="string">'Set Data Directory'</span>);
1672 <span class="keyword">if</span> ~isequal(TempDir,0)
1673     handles.CurrentDataDirectory=TempDir;
1674 <span class="keyword">end</span>
1675 
1676 guidata(hObject,handles);
1677 
1678 <span class="comment">% --- Executes on button press in GetVariables.</span>
1679 <a name="_sub85" href="#_subfunctions" class="code">function GetVariables_Callback(hObject, eventdata, handles)</a>
1680 <span class="comment">% hObject    handle to GetVariables (see GCBO)</span>
1681 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1682 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1683 
1684 
1685  LoadedFileList=get(handles.LoadedFiles,<span class="string">'string'</span>);
1686  <span class="keyword">if</span> ~iscell(LoadedFileList), TempVar{1}=LoadedFileList; LoadedFileList=TempVar;<span class="keyword">end</span>
1687  CurrentValue=get(handles.LoadedFiles,<span class="string">'value'</span>); CurrentValue=CurrentValue(1);
1688  CurrentDataFile=LoadedFileList{CurrentValue};
1689  
1690 <span class="keyword">if</span> ~strcmp(CurrentDataFile,<span class="string">'LoadedFiles'</span>)
1691 
1692 eval([<span class="string">'Trials=handles.'</span> CurrentDataFile <span class="string">'.Trials;'</span>]);
1693 eval([<span class="string">'if ~isfield(handles.'</span> CurrentDataFile <span class="string">',''Analysis''), fprintf(''%s\n'',''Analyze your dataset first''); GoOn=0;else GoOn=1;end'</span>]);
1694 <span class="comment">%eval(['if GoOn==1, CurrentVariables=handles.' CurrentDataFile '.Analysis;end']);</span>
1695 eval([<span class="string">'if GoOn==1, MyVariableList=handles.'</span> CurrentDataFile <span class="string">'.Analysis.MyVariableList;end'</span>]);
1696 <span class="comment">% eval(['if GoOn==1, MyResponseVariableList=handles.' CurrentDataFile '.Analysis.MyResponseVariableList;end']);</span>
1697 
1698 <span class="comment">%detachvars;</span>
1699 
1700 msgbox(MyVariableList,<span class="string">'Variable List'</span>,<span class="string">'help'</span>);
1701 set(gcf,<span class="string">'CloseRequestFcn'</span>,<span class="string">'TellMe(''%s\n'',''Hit OK. You cannot close this box like that.'',handles.SpeakToMe)'</span>);
1702 
1703 
1704 <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Make sure you have selected a data file and a plotting file'</span>,handles.SpeakToMe);
1705 <span class="keyword">end</span>
1706 
1707 <span class="comment">% --- Executes on button press in LaunchViewer.</span>
1708 <a name="_sub86" href="#_subfunctions" class="code">function LaunchViewer_Callback(hObject, eventdata, handles)</a>
1709 <span class="comment">% hObject    handle to LaunchViewer (see GCBO)</span>
1710 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1711 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1712 
1713 LoadedFileList=get(handles.LoadedFiles,<span class="string">'string'</span>);
1714 CurrentValues=get(handles.LoadedFiles,<span class="string">'value'</span>);
1715 <span class="keyword">if</span> length(CurrentValues)&gt;0 &amp; iscell(LoadedFileList)
1716 CurrentFile=LoadedFileList{CurrentValues(1)};
1717 <span class="keyword">else</span>
1718     CurrentFile=LoadedFileList;
1719 <span class="keyword">end</span>
1720 
1721 <span class="keyword">if</span> ~strcmp(CurrentFile,<span class="string">'LoadedFiles'</span>) 
1722         eval([<span class="string">'Trials=handles.'</span> CurrentFile <span class="string">'.Trials;'</span>]);
1723         setappdata(0,<span class="string">'SaccadeOptions'</span>,handles.SaccadeOptions);
1724         setappdata(0,<span class="string">'ViewTrials'</span>,Trials);
1725 <span class="comment">%         CellToPass=cell(1,4);</span>
1726 <span class="comment">%         CellToPass{1}=handles.SaccadeOptions.CorrectCode;</span>
1727 <span class="comment">%         CellToPass{2}=handles.SaccadeOptions.ISICut;</span>
1728 <span class="comment">%         CellToPass{3}=handles.SaccadeOptions.MinLat;</span>
1729 <span class="comment">%         CellToPass{4}=handles.SaccadeOptions.Threshold;</span>
1730 <span class="comment">%         TrialViewer(Trials,CellToPass);</span>
1731         <a href="../XeX/SubGUIs/TrialViewer.html" class="code" title="function varargout = TrialViewer(varargin)">TrialViewer</a>;
1732 <span class="keyword">else</span>
1733     <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Choose a data file first'</span>,handles.SpeakToMe);
1734 
1735 <span class="keyword">end</span>
1736 
1737 
1738 <span class="comment">% --------------------------------------------------------------------</span>
1739 <a name="_sub87" href="#_subfunctions" class="code">function BrowseFTP_Callback(hObject, eventdata, handles)</a>
1740 <span class="comment">% hObject    handle to BrowseFTP (see GCBO)</span>
1741 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1742 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1743 
1744 <a href="../XeX/UtilityFunctions/assorted/ftpsurf.html" class="code" title="">ftpsurf</a>;
1745 
1746 <span class="comment">% % --- Executes on button press in SetAxisVariables.</span>
1747 <span class="comment">% function SetAxisVariables_Callback(hObject, eventdata, handles)</span>
1748 <span class="comment">% % hObject    handle to SetAxisVariables (see GCBO)</span>
1749 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
1750 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
1751 <span class="comment">%</span>
1752 <span class="comment">%  LoadedFileList=get(handles.LoadedFiles,'string');</span>
1753 <span class="comment">%  if ~iscell(LoadedFileList), TempVar{1}=LoadedFileList; LoadedFileList=TempVar;end</span>
1754 <span class="comment">%  CurrentValue=get(handles.LoadedFiles,'value'); CurrentValue=CurrentValue(1);</span>
1755 <span class="comment">%  CurrentDataFile=LoadedFileList{CurrentValue};</span>
1756 <span class="comment">%</span>
1757 <span class="comment">% if ~strcmp(CurrentDataFile,'LoadedFiles')</span>
1758 <span class="comment">%</span>
1759 <span class="comment">% eval(['Trials=handles.' CurrentDataFile '.Trials;']);</span>
1760 <span class="comment">% eval(['if ~isfield(handles.' CurrentDataFile ',''Analysis''), fprintf(''%s\n'',''Analyze your dataset first''); GoOn=0;else GoOn=1;end']);</span>
1761 <span class="comment">% %eval(['if GoOn==1, CurrentVariables=handles.' CurrentDataFile '.Analysis;end']);</span>
1762 <span class="comment">% eval(['if GoOn==1, MyVariableList=handles.' CurrentDataFile '.Analysis.MyVariableList; MyResponseVariableList=handles.' CurrentDataFile '.Analysis.MyResponseVariableList;end']);</span>
1763 <span class="comment">%</span>
1764 <span class="comment">% if ~iscell(MyVariableList), TemporaryVariable{1}=MyVariableList; MyVariableList=TemporaryVariable; clear TemporaryVariable; end</span>
1765 <span class="comment">% if ~iscell(MyResponseVariableList), MyResponseVariableList=cellstr(MyResponseVariableList);end</span>
1766 <span class="comment">%</span>
1767 <span class="comment">% MyVariableChoices=EnterAxisVariables(MyVariableList,MyResponseVariableList,handles.MyVariableChoices);</span>
1768 <span class="comment">% if MyVariableChoices.OK==1</span>
1769 <span class="comment">%     handles.MyVariableChoices=MyVariableChoices;</span>
1770 <span class="comment">% end</span>
1771 <span class="comment">%</span>
1772 <span class="comment">% % [TwoDX,TempOK]=listdlg('PromptString','Select X variable for 2D map','SelectionMode','single','ListString',MyVariableList);</span>
1773 <span class="comment">% % if TempOK==1, handles.TwoDXVar=MyVariableList{TwoDX}; end</span>
1774 <span class="comment">% %</span>
1775 <span class="comment">% %</span>
1776 <span class="comment">% % [TwoDY,TempOK]=listdlg('PromptString','Select Y variable for 2D map','SelectionMode','single','ListString',MyVariableList);</span>
1777 <span class="comment">% % if TempOK==1, handles.TwoDYVar=MyVariableList{TwoDY}; end</span>
1778 <span class="comment">%</span>
1779 <span class="comment">% else TellMe('%s\n','Make sure you have selected a data file and a plotting file',handles.SpeakToMe);</span>
1780 <span class="comment">% end</span>
1781 <span class="comment">%</span>
1782 <span class="comment">% guidata(hObject,handles);</span>
1783 
1784 
1785 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1786 <a name="_sub88" href="#_subfunctions" class="code">function edit27_CreateFcn(hObject, eventdata, handles)</a>
1787 <span class="comment">% hObject    handle to edit27 (see GCBO)</span>
1788 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1789 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
1790 
1791 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
1792 <span class="comment">%       See ISPC and COMPUTER.</span>
1793 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
1794     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
1795 <span class="keyword">end</span>
1796 
1797 
1798 <span class="comment">% --- Executes on button press in ExportGraphics.</span>
1799 <a name="_sub89" href="#_subfunctions" class="code">function ExportGraphics_Callback(hObject, eventdata, handles)</a>
1800 <span class="comment">% hObject    handle to ExportGraphics (see GCBO)</span>
1801 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1802 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1803 
1804 <a href="../XeX/UtilityFunctions/handlingGraphics/ExportGFX.html" class="code" title="">ExportGFX</a>;
1805 
1806 
1807 <span class="comment">% --- Executes on button press in ExploreVariables.</span>
1808 <a name="_sub90" href="#_subfunctions" class="code">function ExploreVariables_Callback(hObject, eventdata, handles)</a>
1809 <span class="comment">% hObject    handle to ExploreVariables (see GCBO)</span>
1810 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1811 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1812 
1813 
1814  LoadedFileList=get(handles.LoadedFiles,<span class="string">'string'</span>);
1815  <span class="keyword">if</span> ~iscell(LoadedFileList), TempVar{1}=LoadedFileList; LoadedFileList=TempVar;<span class="keyword">end</span>
1816  CurrentValue=get(handles.LoadedFiles,<span class="string">'value'</span>); CurrentValue=CurrentValue(1);
1817  CurrentDataFile=LoadedFileList{CurrentValue};
1818  
1819 <span class="keyword">if</span> ~strcmp(CurrentDataFile,<span class="string">'LoadedFiles'</span>)
1820 
1821 eval([<span class="string">'Trials=handles.'</span> CurrentDataFile <span class="string">'.Trials;'</span>]);
1822 eval([<span class="string">'if ~isfield(handles.'</span> CurrentDataFile <span class="string">',''Analysis''), fprintf(''%s\n'',''Analyze your dataset first''); GoOn=0;else GoOn=1;end'</span>]);
1823 eval([<span class="string">'if GoOn==1, MyVariableList=handles.'</span> CurrentDataFile <span class="string">'.Analysis.MyVariableList;end'</span>]);
1824 eval([<span class="string">'if GoOn==1, MyResponseVariableList=handles.'</span> CurrentDataFile <span class="string">'.Analysis.MyResponseVariableList;end'</span>]);
1825 <span class="comment">%</span>
1826 <span class="comment">% msgbox(MyVariableList,'Variable List','help');</span>
1827 
1828 eval([<span class="string">'if GoOn==1, CurrentVariables=handles.'</span> CurrentDataFile <span class="string">'.Analysis;end'</span>]);
1829 <a href="../XeX/UtilityFunctions/assorted/detachvars.html" class="code" title="">detachvars</a>;
1830 <span class="keyword">if</span> exist(<span class="string">'CurrentVariables'</span>,<span class="string">'var'</span>), clear CurrentVariables;<span class="keyword">end</span>  <span class="comment">%***newly added to clear off possible big structure from workspace.</span>
1831 keyboard;
1832 <span class="comment">% clearvars;  %**************************** removed this as well as it is</span>
1833                       <span class="comment">%% superfluous, i think</span>
1834 
1835 <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Make sure you have selected a data file and a plotting file'</span>,handles.SpeakToMe);
1836 <span class="keyword">end</span>
1837 
1838 <span class="comment">% --- Executes on button press in UseAxisVars.</span>
1839 <a name="_sub91" href="#_subfunctions" class="code">function UseAxisVars_Callback(hObject, eventdata, handles)</a>
1840 <span class="comment">% hObject    handle to UseAxisVars (see GCBO)</span>
1841 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1842 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1843 
1844 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of UseAxisVars</span>
1845 
1846 
1847 <span class="comment">% --- Executes on button press in AddVariable.</span>
1848 <a name="_sub92" href="#_subfunctions" class="code">function AddVariable_Callback(hObject, eventdata, handles)</a>
1849 <span class="comment">% hObject    handle to AddVariable (see GCBO)</span>
1850 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1851 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1852 
1853 
1854 LoadedFileList=get(handles.LoadedFiles,<span class="string">'string'</span>);
1855  <span class="keyword">if</span> ~iscell(LoadedFileList), TempVar{1}=LoadedFileList; LoadedFileList=TempVar;<span class="keyword">end</span>
1856  CurrentValue=get(handles.LoadedFiles,<span class="string">'value'</span>); CurrentValue=CurrentValue(1);
1857  CurrentDataFile=LoadedFileList{CurrentValue};
1858  
1859 <span class="keyword">if</span> ~strcmp(CurrentDataFile,<span class="string">'LoadedFiles'</span>)
1860 
1861 eval([<span class="string">'Trials=handles.'</span> CurrentDataFile <span class="string">'.Trials;'</span>]);
1862 eval([<span class="string">'if ~isfield(handles.'</span> CurrentDataFile <span class="string">',''Analysis''), fprintf(''%s\n'',''Analyze your dataset first''); GoOn=0;else GoOn=1;end'</span>]);
1863 eval([<span class="string">'if GoOn==1, MyVariableList=handles.'</span> CurrentDataFile <span class="string">'.Analysis.MyVariableList;end'</span>]);
1864 eval([<span class="string">'if GoOn==1, MyResponseVariableList=handles.'</span> CurrentDataFile <span class="string">'.Analysis.MyResponseVariableList;end'</span>]);
1865 eval([<span class="string">'if GoOn==1, CurrentVariables=handles.'</span> CurrentDataFile <span class="string">'.Analysis;end'</span>]);
1866 <a href="../XeX/UtilityFunctions/assorted/detachvars.html" class="code" title="">detachvars</a>;
1867 
1868 <span class="keyword">if</span>(GoOn==1), 
1869   prompt={<span class="string">'Enter Expression for New Variable. If you want to modify a variable: trick is &lt;varname=statement&gt;; &lt;other statements acting on varname&gt;; varname will be saved !!'</span>};
1870    name=<span class="string">'Add New Variable '</span>;
1871    numlines=1;
1872    defaultanswer={<span class="string">''</span>};
1873  
1874    Answer=inputdlg(prompt,name,numlines,defaultanswer);
1875 
1876    <span class="keyword">if</span> ~isempty(Answer)
1877 <span class="keyword">try</span>,
1878 <span class="keyword">if</span> iscell(Answer),    Answer=Answer{1};<span class="keyword">end</span>
1879     eval(Answer);
1880     CutoffMark=strfind(Answer,<span class="string">'='</span>);
1881     <span class="keyword">if</span> ~isempty(CutoffMark),
1882         AddedVariableString=Answer(1:(CutoffMark-1));
1883         <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,[<span class="string">'Just calculated   '</span> AddedVariableString],handles.SpeakToMe);
1884     <span class="keyword">end</span>
1885  
1886   eval([<span class="string">'CurrentVariables.'</span> AddedVariableString <span class="string">'='</span> AddedVariableString <span class="string">'; CurrentVariables.MyVariableList{length(CurrentVariables.MyVariableList)+1}='''</span> AddedVariableString <span class="string">''';handles.'</span> CurrentDataFile <span class="string">'.Analysis=CurrentVariables;'</span>]);
1887 <span class="comment">%     eval(['CurrentVariables.' AddedVariableString '=' AddedVariableString '; CurrentVariables.MyVariableList{length(CurrentVariables.MyVariableList)+1}=''' AddedVariableString ''';CurrentVariables.MyResponseVariableList{length(CurrentVariables.MyResponseVariableList)+1}=''' AddedVariableString ''';handles.' CurrentDataFile '.Analysis=CurrentVariables;']);</span>
1888 
1889 <span class="keyword">catch</span>,
1890     fprintf(<span class="string">'%s\n'</span>,<span class="string">'That expression is wrong, for some reason; check again'</span>);
1891 <span class="keyword">end</span>  <span class="comment">% closes the try</span>
1892    <span class="keyword">else</span> fprintf(<span class="string">'%s\n'</span>,<span class="string">'OK, cancelled !'</span>);
1893    <span class="keyword">end</span> <span class="comment">% closes the ~isempty(answer) loop</span>
1894 <a href="../XeX/UtilityFunctions/assorted/clearvars.html" class="code" title="">clearvars</a>;
1895 <span class="comment">% ShowSlider;</span>
1896 guidata(hObject,handles);
1897    <span class="keyword">end</span>
1898    
1899 <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Make sure you have selected a data file and a plotting file'</span>,handles.SpeakToMe);
1900 <span class="keyword">end</span>
1901 
1902 
1903 
1904 <span class="comment">% --------------------------------------------------------------------</span>
1905 <a name="_sub93" href="#_subfunctions" class="code">function SpikeTruncate_Callback(hObject, eventdata, handles)</a>
1906 <span class="comment">% hObject    handle to SpikeTruncate (see GCBO)</span>
1907 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1908 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1909 
1910 <span class="keyword">if</span> strcmp(get(hObject,<span class="string">'Checked'</span>),<span class="string">'off'</span>) set(hObject,<span class="string">'checked'</span>,<span class="string">'on'</span>); 
1911 <span class="keyword">else</span> set(hObject,<span class="string">'Checked'</span>,<span class="string">'off'</span>);
1912 <span class="keyword">end</span>
1913 guidata(hObject,handles);
1914 
1915 
1916 
1917 <span class="comment">% --------------------------------------------------------------------</span>
1918 <a name="_sub94" href="#_subfunctions" class="code">function ClearPolar_Callback(hObject, eventdata, handles)</a>
1919 <span class="comment">% hObject    handle to ClearPolar (see GCBO)</span>
1920 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1921 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1922 
1923   prompt={<span class="string">'Enter Polar Axis'</span>};
1924    name=<span class="string">'Clear Polar '</span>;
1925    numlines=1;
1926    defaultanswer={<span class="string">''</span>};
1927  
1928    Answer=inputdlg(prompt,name,numlines,defaultanswer);
1929 
1930    <span class="keyword">if</span> ~isempty(Answer)
1931 
1932 <span class="keyword">if</span> iscell(Answer),    Answer=Answer{1};<span class="keyword">end</span>
1933 
1934 AxisNum=str2num(Answer);
1935 
1936 <span class="keyword">for</span> index=1:length(AxisNum)
1937     CurAx=num2str(AxisNum(index));
1938     eval([<span class="string">'Pos=get(handles.axes'</span> CurAx <span class="string">',''position'');'</span>]);
1939     eval([<span class="string">'CurContext=get(handles.axes'</span> CurAx <span class="string">',''uicontextmenu'');'</span>]);
1940     eval([<span class="string">'delete(handles.axes'</span> CurAx <span class="string">');'</span>]);   
1941     eval([<span class="string">'handles.axes'</span> CurAx <span class="string">'=axes;'</span>]);
1942     eval([<span class="string">'set(handles.axes'</span> CurAx,<span class="string">',''units'',''normalized'',''position'',Pos,''uicontextmenu'',CurContext);'</span>]);
1943 <span class="keyword">end</span>
1944 
1945 <a href="../XeX/UtilityFunctions/handlingGraphics/UnlinkTheseAxes.html" class="code" title="">UnlinkTheseAxes</a>;
1946 <a href="../XeX/UtilityFunctions/handlingGraphics/UndefineAxisVars.html" class="code" title="">UndefineAxisVars</a>;
1947 guidata(hObject,handles);
1948    <span class="keyword">end</span>
1949 
1950 
1951 <span class="comment">% % --- Executes on slider movement.</span>
1952 <span class="comment">% function UpdateSlider_Callback(hObject, eventdata, handles)</span>
1953 <span class="comment">% % hObject    handle to UpdateSlider (see GCBO)</span>
1954 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
1955 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
1956 <span class="comment">%</span>
1957 <span class="comment">% % Hints: get(hObject,'Value') returns position of slider</span>
1958 <span class="comment">% %        get(hObject,'Min') and get(hObject,'Max') to determine range of slider</span>
1959 <span class="comment">%</span>
1960 <span class="comment">% % BackupGraphs;</span>
1961 <span class="comment">%</span>
1962 <span class="comment">% CurrentValue=get(hObject,'Value');</span>
1963 <span class="comment">% set(handles.SliderText,'String',['SV =',num2str(CurrentValue)]);</span>
1964 <span class="comment">% ThingsToDo=get(handles.WhatToDo,'String');</span>
1965 <span class="comment">% WhatToDo=ThingsToDo{get(handles.WhatToDo,'value')};</span>
1966 <span class="comment">%</span>
1967 <span class="comment">% if strcmp(WhatToDo,'ActiveUpdate'),</span>
1968 <span class="comment">% UpdateType='slider';</span>
1969 <span class="comment">% UpdateSlider;</span>
1970 <span class="comment">% end</span>
1971 <span class="comment">%</span>
1972 <span class="comment">% guidata(hObject,handles);</span>
1973 <span class="comment">%</span>
1974 <span class="comment">% % --- Executes during object creation, after setting all properties.</span>
1975 <span class="comment">% function UpdateSlider_CreateFcn(hObject, eventdata, handles)</span>
1976 <span class="comment">% % hObject    handle to UpdateSlider (see GCBO)</span>
1977 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
1978 <span class="comment">% % handles    empty - handles not created until after all CreateFcns called</span>
1979 <span class="comment">%</span>
1980 <span class="comment">% % Hint: slider controls usually have a light gray background.</span>
1981 <span class="comment">% if isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))</span>
1982 <span class="comment">%     set(hObject,'BackgroundColor',[.9 .9 .9]);</span>
1983 <span class="comment">% end</span>
1984 
1985 
1986 <span class="comment">% --------------------------------------------------------------------</span>
1987 <a name="_sub95" href="#_subfunctions" class="code">function GetObjectAxes_Callback(hObject, eventdata, handles)</a>
1988 <span class="comment">% hObject    handle to GetObjectAxes (see GCBO)</span>
1989 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
1990 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
1991 
1992 <span class="comment">% Hints: get(hObject,'String') returns contents of GetObjectAxes as text</span>
1993 <span class="comment">%        str2double(get(hObject,'String')) returns contents of GetObjectAxes as a double</span>
1994 
1995 
1996 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
1997 <a name="_sub96" href="#_subfunctions" class="code">function GetObjectAxes_CreateFcn(hObject, eventdata, handles)</a>
1998 <span class="comment">% hObject    handle to GetObjectAxes (see GCBO)</span>
1999 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2000 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2001 
2002 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2003 <span class="comment">%       See ISPC and COMPUTER.</span>
2004 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2005     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2006 <span class="keyword">end</span>
2007 
2008 <span class="comment">% --------------------------------------------------------------------</span>
2009 <a name="_sub97" href="#_subfunctions" class="code">function ObjectNumber_Callback(hObject, eventdata, handles)</a>
2010 <span class="comment">% hObject    handle to ObjectNumber (see GCBO)</span>
2011 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2012 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2013 
2014 <span class="comment">% Hints: get(hObject,'String') returns contents of ObjectNumber as text</span>
2015 <span class="comment">%        str2double(get(hObject,'String')) returns contents of ObjectNumber as a double</span>
2016 
2017 
2018 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2019 <a name="_sub98" href="#_subfunctions" class="code">function ObjectNumber_CreateFcn(hObject, eventdata, handles)</a>
2020 <span class="comment">% hObject    handle to ObjectNumber (see GCBO)</span>
2021 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2022 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2023 
2024 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2025 <span class="comment">%       See ISPC and COMPUTER.</span>
2026 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2027     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2028 <span class="keyword">end</span>
2029 
2030 <span class="comment">% --------------------------------------------------------------------</span>
2031 <a name="_sub99" href="#_subfunctions" class="code">function OldAxis_Callback(hObject, eventdata, handles)</a>
2032 <span class="comment">% hObject    handle to OldAxis (see GCBO)</span>
2033 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2034 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2035 
2036 <span class="comment">% Hints: get(hObject,'String') returns contents of OldAxis as text</span>
2037 <span class="comment">%        str2double(get(hObject,'String')) returns contents of OldAxis as a double</span>
2038 
2039 
2040 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2041 <a name="_sub100" href="#_subfunctions" class="code">function OldAxis_CreateFcn(hObject, eventdata, handles)</a>
2042 <span class="comment">% hObject    handle to OldAxis (see GCBO)</span>
2043 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2044 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2045 
2046 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2047 <span class="comment">%       See ISPC and COMPUTER.</span>
2048 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2049     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2050 <span class="keyword">end</span>
2051 
2052 <span class="comment">% --------------------------------------------------------------------</span>
2053 <a name="_sub101" href="#_subfunctions" class="code">function NewAxis_Callback(hObject, eventdata, handles)</a>
2054 <span class="comment">% hObject    handle to NewAxis (see GCBO)</span>
2055 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2056 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2057 
2058 <span class="comment">% Hints: get(hObject,'String') returns contents of NewAxis as text</span>
2059 <span class="comment">%        str2double(get(hObject,'String')) returns contents of NewAxis as a double</span>
2060 
2061 
2062 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2063 <a name="_sub102" href="#_subfunctions" class="code">function NewAxis_CreateFcn(hObject, eventdata, handles)</a>
2064 <span class="comment">% hObject    handle to NewAxis (see GCBO)</span>
2065 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2066 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2067 
2068 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2069 <span class="comment">%       See ISPC and COMPUTER.</span>
2070 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2071     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2072 <span class="keyword">end</span>
2073 
2074 
2075 <span class="comment">% --- Executes on button press in DeleteObjects.</span>
2076 <a name="_sub103" href="#_subfunctions" class="code">function DeleteObjects_Callback(hObject, eventdata, handles)</a>
2077 <span class="comment">% hObject    handle to DeleteObjects (see GCBO)</span>
2078 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2079 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2080 
2081 
2082 CurrentAxis=str2num(get(handles.OldAxis,<span class="string">'string'</span>));
2083 <span class="keyword">if</span> isnumeric(CurrentAxis) &amp;&amp; length(CurrentAxis)==1
2084     
2085     eval([<span class="string">'if isfield(handles,''A'</span> num2str(CurrentAxis) <span class="string">'''),CurrentObjects=handles.A'</span> num2str(CurrentAxis) <span class="string">';end,'</span>]);
2086 <span class="keyword">if</span> exist(<span class="string">'CurrentObjects'</span>,<span class="string">'var'</span>)    &amp;&amp; length(CurrentObjects)&gt;=1
2087     ObjectsToDelete=str2num(get(handles.ObjectNumber, <span class="string">'string'</span>));
2088     
2089     <span class="keyword">if</span> max(ObjectsToDelete)&lt;=length(CurrentObjects),
2090         
2091     <span class="keyword">for</span> Looper=1:length(ObjectsToDelete)
2092         delete(CurrentObjects(ObjectsToDelete(Looper)).handle);
2093         fprintf(<span class="string">'%s\n'</span>,[<span class="string">'Deleted 1 '</span> CurrentObjects(ObjectsToDelete(Looper)).plottype <span class="string">' object from axis '</span> num2str(CurrentAxis)]);
2094     <span class="keyword">end</span>
2095     
2096     CurrentObjects(ObjectsToDelete)=[];
2097     eval([<span class="string">'handles.A'</span> num2str(CurrentAxis) <span class="string">'=CurrentObjects;'</span>]);
2098     
2099     <span class="keyword">else</span>
2100         <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Cannot delete non existent objects'</span>,handles.SpeakToMe);
2101     <span class="keyword">end</span>
2102     
2103     <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'No objects to delete !!'</span>,handles.SpeakToMe);
2104     <span class="keyword">end</span>
2105     
2106 <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Enter only 1 Axis'</span>,handles.SpeakToMe);
2107 <span class="keyword">end</span>
2108 
2109 guidata(hObject,handles);
2110 
2111 
2112 <span class="comment">% --- Executes on button press in MoveObj.</span>
2113 <a name="_sub104" href="#_subfunctions" class="code">function MoveObj_Callback(hObject, eventdata, handles)</a>
2114 <span class="comment">% hObject    handle to MoveObj (see GCBO)</span>
2115 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2116 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2117 
2118 CurrentAxis=str2num(get(handles.OldAxis,<span class="string">'string'</span>));
2119 NewAxis=str2num(get(handles.NewAxis,<span class="string">'string'</span>));
2120 
2121 <span class="keyword">if</span> isnumeric(CurrentAxis) &amp;&amp; length(CurrentAxis)==1 &amp;&amp; length(NewAxis)==1
2122     
2123     <span class="keyword">if</span> CurrentAxis~=NewAxis
2124         
2125     eval([<span class="string">'if isfield(handles,''A'</span> num2str(CurrentAxis) <span class="string">'''),CurrentObjects=handles.A'</span> num2str(CurrentAxis) <span class="string">';end,'</span>]);
2126     eval([<span class="string">'if isfield(handles,''A'</span> num2str(NewAxis) <span class="string">'''),NewObjects=handles.A'</span> num2str(NewAxis) <span class="string">';end,'</span>]);
2127     
2128     <span class="keyword">if</span> exist(<span class="string">'CurrentObjects'</span>,<span class="string">'var'</span>) &amp;&amp; length(CurrentObjects)&gt;=1
2129     ObjectsToCopy=str2num(get(handles.ObjectNumber, <span class="string">'string'</span>));
2130     
2131     <span class="keyword">if</span> max(ObjectsToCopy)&lt;=length(CurrentObjects),
2132         
2133    TempObjects=CurrentObjects;
2134         
2135     <span class="keyword">for</span> Looper=1:length(ObjectsToCopy)
2136         eval([<span class="string">'Newhandle=copyobj(CurrentObjects(ObjectsToCopy(Looper)).handle,handles.axes'</span> num2str(NewAxis) <span class="string">');'</span>]);
2137         TempObjects(ObjectsToCopy(Looper)).handle=Newhandle;
2138         delete(CurrentObjects(ObjectsToCopy(Looper)).handle);  <span class="comment">%main difference 1 from copy objects</span>
2139         fprintf(<span class="string">'%s\n'</span>,[<span class="string">'Moved 1 '</span> CurrentObjects(ObjectsToCopy(Looper)).plottype <span class="string">' object from axis '</span> num2str(CurrentAxis) <span class="string">' to axis '</span> num2str(NewAxis)]);
2140     <span class="keyword">end</span>
2141 
2142     <span class="keyword">if</span> exist(<span class="string">'NewObjects'</span>,<span class="string">'var'</span>), NewObjects=[NewObjects TempObjects(ObjectsToCopy)]; <span class="keyword">else</span> NewObjects=TempObjects(ObjectsToCopy);<span class="keyword">end</span>
2143     eval([<span class="string">'handles.A'</span> num2str(NewAxis) <span class="string">'=NewObjects;'</span>]);
2144     
2145      CurrentObjects(ObjectsToCopy)=[];
2146 <span class="comment">%      keyboard;</span>
2147      <span class="keyword">if</span> length(CurrentObjects)==0, 
2148          eval([<span class="string">'handles=rmfield(handles,''A'</span> num2str(CurrentAxis) <span class="string">''');'</span>]);
2149      <span class="keyword">else</span>
2150      eval([<span class="string">'handles.A'</span> num2str(CurrentAxis) <span class="string">'=CurrentObjects;'</span>]);  <span class="comment">%these two lines are main difference number 2 from copy objects</span>
2151      <span class="keyword">end</span>
2152      
2153     <span class="keyword">else</span>
2154         <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Cannot move non existent objects'</span>,handles.SpeakToMe);
2155     <span class="keyword">end</span>
2156     
2157     <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'No objects to move !!'</span>,handles.SpeakToMe);
2158     <span class="keyword">end</span>
2159     
2160     <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Moving an object from an axis to itself is fun; I dont have to do anything'</span>,handles.SpeakToMe);
2161     <span class="keyword">end</span>
2162     
2163 <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Enter only 1 Axis'</span>,handles.SpeakToMe);
2164 <span class="keyword">end</span>
2165 
2166 guidata(hObject,handles);
2167 
2168 <span class="comment">% --- Executes on button press in GetObjectPropsButton.</span>
2169 <a name="_sub105" href="#_subfunctions" class="code">function GetObjectPropsButton_Callback(hObject, eventdata, handles)</a>
2170 <span class="comment">% hObject    handle to GetObjectPropsButton (see GCBO)</span>
2171 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2172 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2173 
2174 AxesToGet=str2num(get(handles.GetObjectAxes,<span class="string">'string'</span>));
2175 OutputString={};
2176 
2177 <span class="keyword">if</span> isnumeric(AxesToGet) &amp;&amp; length(AxesToGet)==1,
2178    
2179     eval([<span class="string">'if isfield(handles,''A'</span> num2str(AxesToGet) <span class="string">'''),CurrentObjects=handles.A'</span> num2str(AxesToGet) <span class="string">';end,'</span>]);
2180 
2181     <span class="keyword">if</span> exist(<span class="string">'CurrentObjects'</span>,<span class="string">'var'</span>)
2182         <span class="keyword">for</span> Looper=1:length(CurrentObjects)
2183     OutputString={OutputString{:} [num2str(Looper) <span class="string">':   '</span> CurrentObjects(Looper).plottype <span class="string">'   '</span> CurrentObjects(Looper).markerstring <span class="string">'   '</span> CurrentObjects(Looper).trialfilter]};
2184         <span class="keyword">end</span>
2185     <span class="keyword">end</span>
2186     
2187     <span class="keyword">if</span> isempty(OutputString), OutputString={<span class="string">'Nothing. Nada. Zilch. No objects here in this axis'</span>};<span class="keyword">end</span>
2188   msgbox(OutputString,<span class="string">'Objects'</span>,<span class="string">'help'</span>);
2189     set(gcf,<span class="string">'CloseRequestFcn'</span>,<span class="string">'disp(''Hit OK. You cannot close this Message Box like that.'')'</span>);
2190     
2191     fprintf(<span class="string">'%s\n'</span>,<span class="string">'*******************************************'</span>);
2192     <span class="keyword">for</span> TempVar=1:length(OutputString)
2193         fprintf(<span class="string">'%s\n'</span>,OutputString{TempVar});
2194     <span class="keyword">end</span>
2195     fprintf(<span class="string">'%s\n'</span>,<span class="string">'*******************************************'</span>);
2196 
2197 <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Enter only 1 axis'</span>,handles.SpeakToMe);
2198 <span class="keyword">end</span>
2199 
2200 guidata(hObject,handles);
2201 
2202 
2203 <span class="comment">% --- Executes on button press in CopyObj.</span>
2204 <a name="_sub106" href="#_subfunctions" class="code">function CopyObj_Callback(hObject, eventdata, handles)</a>
2205 <span class="comment">% hObject    handle to CopyObj (see GCBO)</span>
2206 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2207 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2208 
2209 CurrentAxis=str2num(get(handles.OldAxis,<span class="string">'string'</span>));
2210 NewAxis=str2num(get(handles.NewAxis,<span class="string">'string'</span>));
2211 
2212 <span class="keyword">if</span> isnumeric(CurrentAxis) &amp;&amp; length(CurrentAxis)==1 &amp;&amp; length(NewAxis)==1
2213     
2214     eval([<span class="string">'if isfield(handles,''A'</span> num2str(CurrentAxis) <span class="string">'''),CurrentObjects=handles.A'</span> num2str(CurrentAxis) <span class="string">';end,'</span>]);
2215     eval([<span class="string">'if isfield(handles,''A'</span> num2str(NewAxis) <span class="string">'''),NewObjects=handles.A'</span> num2str(NewAxis) <span class="string">';end,'</span>]);
2216     
2217     <span class="keyword">if</span> exist(<span class="string">'CurrentObjects'</span>,<span class="string">'var'</span>) &amp;&amp; length(CurrentObjects)&gt;=1
2218     ObjectsToCopy=str2num(get(handles.ObjectNumber, <span class="string">'string'</span>));
2219     
2220     <span class="keyword">if</span> max(ObjectsToCopy)&lt;=length(CurrentObjects),
2221         
2222    TempObjects=CurrentObjects;
2223         
2224     <span class="keyword">for</span> Looper=1:length(ObjectsToCopy)
2225         eval([<span class="string">'Newhandle=copyobj(CurrentObjects(ObjectsToCopy(Looper)).handle,handles.axes'</span> num2str(NewAxis) <span class="string">');'</span>]);
2226         TempObjects(ObjectsToCopy(Looper)).handle=Newhandle;
2227         fprintf(<span class="string">'%s\n'</span>,[<span class="string">'Copied 1 '</span> CurrentObjects(ObjectsToCopy(Looper)).plottype <span class="string">' object from axis '</span> num2str(CurrentAxis) <span class="string">' to axis '</span> num2str(NewAxis)]);
2228     <span class="keyword">end</span>
2229 
2230     <span class="keyword">if</span> exist(<span class="string">'NewObjects'</span>,<span class="string">'var'</span>), NewObjects=[NewObjects TempObjects(ObjectsToCopy)]; <span class="keyword">else</span> NewObjects=TempObjects(ObjectsToCopy);<span class="keyword">end</span>
2231     eval([<span class="string">'handles.A'</span> num2str(NewAxis) <span class="string">'=NewObjects;'</span>]);
2232     
2233 <span class="comment">%     CurrentObjects(ObjectsToDelete)=[];</span>
2234 <span class="comment">%     eval(['handles.A' num2str(CurrentAxis) '=CurrentObjects;']);</span>
2235     
2236     <span class="keyword">else</span>
2237         <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Cannot copy non existent objects'</span>,handles.SpeakToMe);
2238     <span class="keyword">end</span>
2239     
2240     <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'No objects to copy !!'</span>,handles.SpeakToMe);
2241     <span class="keyword">end</span>
2242     
2243 <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Enter only 1 Axis'</span>,handles.SpeakToMe);
2244 <span class="keyword">end</span>
2245 
2246 guidata(hObject,handles);
2247 
2248 
2249 <span class="comment">% --------------------------------------------------------------------</span>
2250 <a name="_sub107" href="#_subfunctions" class="code">function PlotSig_Callback(hObject, eventdata, handles)</a>
2251 <span class="comment">% hObject    handle to PlotSig (see GCBO)</span>
2252 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2253 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2254 
2255 
2256 <span class="keyword">if</span> strcmp(get(hObject,<span class="string">'Checked'</span>),<span class="string">'off'</span>) set(hObject,<span class="string">'checked'</span>,<span class="string">'on'</span>);  
2257     <span class="keyword">else</span> set(hObject,<span class="string">'Checked'</span>,<span class="string">'off'</span>); 
2258 <span class="keyword">end</span>
2259 guidata(hObject,handles);
2260 
2261 <span class="comment">%</span>
2262 <span class="comment">% % --- Executes on button press in DefaultSlide.</span>
2263 <span class="comment">% function DefaultSlide_Callback(hObject, eventdata, handles)</span>
2264 <span class="comment">% % hObject    handle to DefaultSlide (see GCBO)</span>
2265 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
2266 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
2267 <span class="comment">%</span>
2268 <span class="comment">% CurrentValue=0.04;</span>
2269 <span class="comment">% set(handles.UpdateSlider,'value',CurrentValue);</span>
2270 <span class="comment">% set(handles.SliderText,'String',['SV =',num2str(CurrentValue,'%2.2f')]);</span>
2271 <span class="comment">%</span>
2272 <span class="comment">% UpdateSlider;</span>
2273 <span class="comment">%</span>
2274 <span class="comment">% guidata(hObject,handles);</span>
2275 
2276 <span class="comment">%</span>
2277 <span class="comment">% % --- Executes on button press in UndoButton.</span>
2278 <span class="comment">% function UndoButton_Callback(hObject, eventdata, handles)</span>
2279 <span class="comment">% % hObject    handle to UndoButton (see GCBO)</span>
2280 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
2281 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
2282 <span class="comment">%</span>
2283 <span class="comment">% if isfield(handles,'OldGraphs'), TempGraphs=handles.OldGraphs; else TempGraphs=[];end</span>
2284 <span class="comment">%</span>
2285 <span class="comment">% if ~isempty(TempGraphs),</span>
2286 <span class="comment">%</span>
2287 <span class="comment">%              for TempVar=1:(handles.NumberOfAxes)</span>
2288 <span class="comment">%                  NStr=num2str(TempVar);</span>
2289 <span class="comment">%</span>
2290 <span class="comment">%                  LocalTempEvalString=['if isfield(TempGraphs,''A' NStr '''),'...</span>
2291 <span class="comment">%                      'TempLen=length(TempGraphs.A' NStr ');'...</span>
2292 <span class="comment">%                      'for indica=1:TempLen, TempGraphs.A' NStr '(indica).newgraph=1;end,'...</span>
2293 <span class="comment">%                      'handles.A' NStr '=TempGraphs.A' NStr ';end,'...</span>
2294 <span class="comment">%                  ];</span>
2295 <span class="comment">%                  eval(LocalTempEvalString);</span>
2296 <span class="comment">%                  clear LocalTempEvalString;</span>
2297 <span class="comment">%              end</span>
2298 <span class="comment">%</span>
2299 <span class="comment">% LoadGFXVar=1;</span>
2300 <span class="comment">% UpdateCellOrLoadGFX;</span>
2301 <span class="comment">% guidata(hObject,handles);</span>
2302 <span class="comment">%</span>
2303 <span class="comment">% else TellMe('%s\n','Nothing to undo. Sorry',handles.SpeakToMe);</span>
2304 <span class="comment">% end</span>
2305 
2306 <span class="comment">% % --- Executes on button press in BackupButton.</span>
2307 <span class="comment">% function BackupButton_Callback(hObject, eventdata, handles)</span>
2308 <span class="comment">% % hObject    handle to BackupButton (see GCBO)</span>
2309 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
2310 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
2311 <span class="comment">%</span>
2312 <span class="comment">% BackupGraphs;</span>
2313 <span class="comment">% guidata(hObject,handles);</span>
2314 
2315 
2316 <span class="comment">% --------------------------------------------------------------------</span>
2317 <a name="_sub108" href="#_subfunctions" class="code">function SpeakToMeMenu_Callback(hObject, eventdata, handles)</a>
2318 <span class="comment">% hObject    handle to SpeakToMeMenu (see GCBO)</span>
2319 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2320 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2321 
2322 
2323 <span class="keyword">if</span> strcmp(get(hObject,<span class="string">'Checked'</span>),<span class="string">'off'</span>) set(hObject,<span class="string">'checked'</span>,<span class="string">'on'</span>); handles.SpeakToMe=1;
2324 <span class="keyword">else</span> set(hObject,<span class="string">'Checked'</span>,<span class="string">'off'</span>); handles.SpeakToMe=0;
2325 <span class="keyword">end</span>
2326 
2327 guidata(hObject,handles);
2328 
2329 
2330 <span class="comment">% --------------------------------------------------------------------</span>
2331 <a name="_sub109" href="#_subfunctions" class="code">function MainStuff_Callback(hObject, eventdata, handles)</a>
2332 <span class="comment">% hObject    handle to MainStuff (see GCBO)</span>
2333 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2334 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2335 
2336 
2337 <span class="comment">% --------------------------------------------------------------------</span>
2338 <a name="_sub110" href="#_subfunctions" class="code">function QuitXeX_Callback(hObject, eventdata, handles)</a>
2339 <span class="comment">% hObject    handle to QuitXeX (see GCBO)</span>
2340 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2341 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2342 
2343 <a href="../XeX/UtilityFunctions/R/endR.html" class="code" title="function endR">endR</a>;
2344 delete(handles.figure1);
2345 
2346 
2347 <span class="comment">% --------------------------------------------------------------------</span>
2348 <a name="_sub111" href="#_subfunctions" class="code">function AnalysisOptions_Callback(hObject, eventdata, handles)</a>
2349 <span class="comment">% hObject    handle to AnalysisOptions (see GCBO)</span>
2350 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2351 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2352 
2353 
2354 <span class="comment">% --------------------------------------------------------------------</span>
2355 <a name="_sub112" href="#_subfunctions" class="code">function PlotLatency_Callback(hObject, eventdata, handles)</a>
2356 <span class="comment">% hObject    handle to PlotLatency (see GCBO)</span>
2357 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2358 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2359 
2360 <span class="keyword">if</span> strcmp(get(hObject,<span class="string">'Checked'</span>),<span class="string">'off'</span>) set(hObject,<span class="string">'checked'</span>,<span class="string">'on'</span>); 
2361 <span class="keyword">else</span> set(hObject,<span class="string">'Checked'</span>,<span class="string">'off'</span>);    
2362 <span class="keyword">end</span>
2363 
2364 guidata(hObject,handles);
2365 
2366 <span class="comment">% --------------------------------------------------------------------</span>
2367 <a name="_sub113" href="#_subfunctions" class="code">function SetBaselineWindow_Callback(hObject, eventdata, handles)</a>
2368 <span class="comment">% hObject    handle to SetBaselineWindow (see GCBO)</span>
2369 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2370 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2371 
2372 
2373 defaultanswer={<span class="string">'[-50 0]'</span>};    
2374     
2375        prompt={<span class="string">'Enter baseline window'</span>};
2376    name=[<span class="string">'Baseline Window'</span>]; 
2377    numlines=1;
2378 
2379     answer=inputdlg(prompt,name,numlines,defaultanswer);
2380 
2381    <span class="keyword">if</span> ~isempty(answer)
2382 
2383        BaselineWindow=str2num(answer{1});
2384        <span class="keyword">if</span> isnumeric(BaselineWindow),
2385            handles.BaselineWindow=BaselineWindow;
2386            fprintf(<span class="string">'%s\n'</span>,[<span class="string">'Baseline Window set to ['</span> num2str(BaselineWindow) <span class="string">' ]'</span>]);
2387        <span class="keyword">end</span>
2388        
2389    <span class="keyword">end</span>
2390     
2391 guidata(hObject,handles);
2392     
2393 
2394 
2395 <span class="comment">% --------------------------------------------------------------------</span>
2396 <a name="_sub114" href="#_subfunctions" class="code">function PlottingContext_Callback(hObject, eventdata, handles)</a>
2397 <span class="comment">% hObject    handle to PlottingContext (see GCBO)</span>
2398 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2399 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2400 
2401 
2402 <span class="comment">% --- Executes on button press in TalkToMe.</span>
2403 <a name="_sub115" href="#_subfunctions" class="code">function TalkToMe_Callback(hObject, eventdata, handles)</a>
2404 <span class="comment">% hObject    handle to TalkToMe (see GCBO)</span>
2405 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2406 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2407 
2408 <a href="../XeX/UtilityFunctions/assorted/XeXUtters.html" class="code" title="function XeXUtters(DarkVar,SpeakToMe)">XeXUtters</a>;
2409 
2410 
2411 <span class="comment">% --------------------------------------------------------------------</span>
2412 <a name="_sub116" href="#_subfunctions" class="code">function ErrorBarType_Callback(hObject, eventdata, handles)</a>
2413 <span class="comment">% hObject    handle to ErrorBarType (see GCBO)</span>
2414 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2415 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2416 
2417 <span class="keyword">if</span> strcmp(get(hObject,<span class="string">'label'</span>),<span class="string">'ChangeErrorToBootstrap'</span>), set(hObject,<span class="string">'label'</span>,<span class="string">'ChangeErrorToPoisson'</span>); fprintf(<span class="string">'%s\n'</span>,<span class="string">'Confidence bands now Bootstrap'</span>); 
2418 <span class="keyword">else</span> set(hObject,<span class="string">'label'</span>,<span class="string">'ChangeErrorToBootstrap'</span>); fprintf(<span class="string">'%s\n'</span>,<span class="string">'Confidence bands now Poisson'</span>); 
2419 <span class="keyword">end</span>
2420 
2421 guidata(hObject,handles);
2422 
2423 
2424 <span class="comment">% % --------------------------------------------------------------------</span>
2425 <span class="comment">% function FTPTimer_Callback(hObject, eventdata, handles)</span>
2426 <span class="comment">% % hObject    handle to FTPTimer (see GCBO)</span>
2427 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
2428 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
2429 <span class="comment">%</span>
2430 <span class="comment">% if isfield(handles,'FTP')</span>
2431 <span class="comment">%</span>
2432 <span class="comment">%     if strcmp(get(hObject,'Checked'),'off'),</span>
2433 <span class="comment">%</span>
2434 <span class="comment">% defaultanswer={'5'};</span>
2435 <span class="comment">%</span>
2436 <span class="comment">%    prompt={'FTPTimer every so many minutes'};</span>
2437 <span class="comment">%    name=['How often to FTPTimer ?'];</span>
2438 <span class="comment">%    numlines=1;</span>
2439 <span class="comment">% %    defaultanswer=danswer;</span>
2440 <span class="comment">%</span>
2441 <span class="comment">%    answer=inputdlg(prompt,name,numlines,defaultanswer);</span>
2442 <span class="comment">%</span>
2443 <span class="comment">%    if ~isempty(answer)</span>
2444 <span class="comment">% handles.FTPDelay=str2num(answer{1});</span>
2445 <span class="comment">% set(hObject,'Checked','on'), fprintf('%s\n','Turning timer on!!');</span>
2446 <span class="comment">%</span>
2447 <span class="comment">%</span>
2448 <span class="comment">% FileToFTP=[handles.FTP.pathname handles.FTP.filename];</span>
2449 <span class="comment">% FTPDir='c:\MATLAB\work\physiology';</span>
2450 <span class="comment">%</span>
2451 <span class="comment">%     AnalysisFiles=get(handles.AnalysisFile,'string');</span>
2452 <span class="comment">%     AnalysisFileValue=get(handles.AnalysisFile,'value');</span>
2453 <span class="comment">%     if iscell(AnalysisFiles)</span>
2454 <span class="comment">%     CurrentAnalysisFile=AnalysisFiles{AnalysisFileValue};</span>
2455 <span class="comment">%     else</span>
2456 <span class="comment">%         CurrentAnalysisFile=AnalysisFiles;</span>
2457 <span class="comment">%     end</span>
2458 <span class="comment">%     CurrentAnalysisFile=CurrentAnalysisFile(1:(end-2));</span>
2459 <span class="comment">%</span>
2460 <span class="comment">% if isfield(handles,'CurrentDataDirectory'), cd(handles.CurrentDataDirectory);end</span>
2461 <span class="comment">%</span>
2462 <span class="comment">% if isfield(handles,'timerhandle') &amp;&amp; ~isempty(handles.timerhandle),</span>
2463 <span class="comment">%     stop(handles.timer);</span>
2464 <span class="comment">% delete(handles.timerhandle); handles.timerhandle=[];</span>
2465 <span class="comment">% fprintf('%s\n','Just stopped an unexpected running timer');</span>
2466 <span class="comment">% end</span>
2467 <span class="comment">%</span>
2468 <span class="comment">%    handles.timerhandle=timer('TimerFcn', {'LittleTimerFunction' {handles.XeXDir,FTPDir,FileToFTP,handles.UseStimAxes,handles.FTP.filename,CurrentAnalysisFile,handles.SaccadeOptions} },'Period', handles.FTPDelay*60,'ExecutionMode','fixedDelay','busymode','drop');</span>
2469 <span class="comment">% start(handles.timerhandle);</span>
2470 <span class="comment">% fprintf('%s\n','Started FTP timer !!');</span>
2471 <span class="comment">%</span>
2472 <span class="comment">%    else fprintf('%s\n','Not starting timer... then.'); set(hObject,'Checked','off');</span>
2473 <span class="comment">%    end</span>
2474 <span class="comment">%</span>
2475 <span class="comment">% else</span>
2476 <span class="comment">%</span>
2477 <span class="comment">%     if isfield(handles,'timerhandle') &amp;&amp; ~isempty(handles.timerhandle),</span>
2478 <span class="comment">%     stop(handles.timerhandle);</span>
2479 <span class="comment">% delete(handles.timerhandle); handles.timerhandle=[];</span>
2480 <span class="comment">% fprintf('%s\n','Turning timer off');</span>
2481 <span class="comment">%     else fprintf('%s\n','Weird, where is the timer ?');    handles.timerhandle=[];</span>
2482 <span class="comment">%     end</span>
2483 <span class="comment">%     set(hObject,'Checked','off');</span>
2484 <span class="comment">%</span>
2485 <span class="comment">%   end</span>
2486 <span class="comment">%</span>
2487 <span class="comment">% else</span>
2488 <span class="comment">%     TellMe('%s\n','Enter the FTPTimer options first',handles.SpeakToMe);</span>
2489 <span class="comment">% end</span>
2490 <span class="comment">%</span>
2491 <span class="comment">% guidata(hObject,handles);</span>
2492 
2493 
2494 
2495 <span class="comment">% --------------------------------------------------------------------</span>
2496 <a name="_sub117" href="#_subfunctions" class="code">function PlotCB_Callback(hObject, eventdata, handles)</a>
2497 <span class="comment">% hObject    handle to PlotCB (see GCBO)</span>
2498 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2499 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2500 
2501 
2502 <span class="keyword">if</span> strcmp(get(hObject,<span class="string">'Checked'</span>),<span class="string">'off'</span>) set(hObject,<span class="string">'checked'</span>,<span class="string">'on'</span>); 
2503 <span class="keyword">else</span> set(hObject,<span class="string">'Checked'</span>,<span class="string">'off'</span>); 
2504 <span class="keyword">end</span>
2505 
2506 guidata(hObject,handles);
2507 
2508 
2509 <span class="comment">% --- Executes on button press in FiltersList.</span>
2510 <a name="_sub118" href="#_subfunctions" class="code">function FiltersList_Callback(hObject, eventdata, handles)</a>
2511 <span class="comment">% hObject    handle to FiltersList (see GCBO)</span>
2512 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2513 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2514 
2515 <span class="keyword">if</span> ~isappdata(0,<span class="string">'TrialFilterHandle'</span>), setappdata(0,<span class="string">'TrialFilterHandle'</span>,handles.TrialFilterVector);<span class="keyword">end</span>
2516 <span class="comment">% if ~isappdata(0,'UseFilterHandle'), setappdata(0,'UseFilterHandle',handles.UseFilters);end</span>
2517 <span class="keyword">if</span> ~isappdata(0,<span class="string">'FilterGUIHandle'</span>), <a href="../XeX/SubGUIs/FilterManagerGUI.html" class="code" title="function varargout = FilterManagerGUI(varargin)">FilterManagerGUI</a>;
2518     
2519 <span class="keyword">if</span> ~isappdata(0,<span class="string">'UsePlottingHandle'</span>),    setappdata(0,<span class="string">'UsePlottingHandle'</span>,handles.UseProps); <span class="keyword">end</span>
2520 <span class="keyword">if</span> ~isappdata(0,<span class="string">'HoldFilterHandle'</span>), setappdata(0,<span class="string">'HoldFilterHandle'</span>,handles.HoldStatus); <span class="keyword">end</span>
2521     
2522 <span class="keyword">else</span> figure(getappdata(0,<span class="string">'FilterGUIHandle'</span>));
2523 <span class="keyword">end</span>
2524 guidata(hObject,handles);
2525 
2526 
2527 <span class="comment">% --------------------------------------------------------------------</span>
2528 <a name="_sub119" href="#_subfunctions" class="code">function GainGraph_Callback(hObject, eventdata, handles)</a>
2529 <span class="comment">% hObject    handle to GainGraph (see GCBO)</span>
2530 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2531 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2532 
2533 <span class="comment">% if strcmp(get(hObject,'Checked'),'off') set(hObject,'checked','on');</span>
2534 <span class="comment">% %     keyboard;</span>
2535 <span class="comment">%     if strcmp(get(handles.SixGraph,'Checked'),'on'),</span>
2536 <span class="comment">%            set(handles.SixGraph,'checked','off');</span>
2537 <span class="comment">% %    makeVisible([handles.axes7 handles.axes8 handles.axes9]);</span>
2538 <span class="comment">%     end</span>
2539     
2540     <a href="../XeX/UtilityFunctions/LayoutStuff/gset.html" class="code" title="">gset</a>;
2541     
2542 <span class="comment">% %        set_gainposits;</span>
2543 <span class="comment">% else set(hObject,'Checked','off');</span>
2544 <span class="comment">% %     reset_gainposits;</span>
2545 <span class="comment">% twelveset;</span>
2546 <span class="comment">% %     makeVisible([handles.Axis7Indicator handles.Axis8Indicator handles.Axis9Indicator]);</span>
2547 <span class="comment">% end</span>
2548 
2549 <span class="comment">% handles.NumberOfAxes=9;</span>
2550 
2551 guidata(hObject,handles);
2552 
2553 <span class="comment">% --- Executes on selection change in WhatToDo.</span>
2554 <a name="_sub120" href="#_subfunctions" class="code">function WhatToDo_Callback(hObject, eventdata, handles)</a>
2555 <span class="comment">% hObject    handle to WhatToDo (see GCBO)</span>
2556 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2557 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2558 
2559 <span class="comment">% Hints: contents = get(hObject,'String') returns WhatToDo contents as cell array</span>
2560 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from WhatToDo</span>
2561 
2562 <a href="../XeX/UtilityFunctions/handlingGraphics/WhatToDoStuff.html" class="code" title="">WhatToDoStuff</a>;
2563 <a href="../XeX/UtilityFunctions/handlingGraphics/DoUseProps.html" class="code" title="">DoUseProps</a>;
2564 
2565 ThingsToDo=get(handles.WhatToDo,<span class="string">'string'</span>);
2566 WhatToDo=ThingsToDo{get(handles.WhatToDo,<span class="string">'value'</span>)};
2567 <span class="keyword">if</span> strcmp(WhatToDo,<span class="string">'MakeHist'</span>)
2568 <span class="comment">% set(handles.UpdateSlider,'value',5);</span>
2569 <span class="comment">% set(handles.SliderText,'string','SV=5');</span>
2570 set(handles.BinWidth,<span class="string">'value'</span>,100);
2571 set(handles.SliderValue,<span class="string">'string'</span>,<span class="string">'BW=100'</span>);
2572 <span class="keyword">end</span>
2573 
2574 <span class="comment">% ShowSlider;</span>
2575 
2576 <span class="comment">% contents=get(handles.PlottingFileList,'String');</span>
2577 <span class="comment">% currentselection=contents{get(handles.PlottingFileList,'value')};</span>
2578 <span class="comment">%</span>
2579 <span class="comment">% switch(currentselection),</span>
2580 <span class="comment">%     case 'ImageMap.m', set(handles.StimulusAlignedTimeVector,'string','[50 150]');</span>
2581 <span class="comment">%     case 'CircleMap.m', set(handles.StimulusAlignedTimeVector,'string','[50 150]');</span>
2582 <span class="comment">%     case 'SpikeDensity.m', set(handles.StimulusAlignedTimeVector,'string','[-400 400]');</span>
2583 <span class="comment">%     case 'DrawPSTH.m', set(handles.StimulusAlignedTimeVector,'string','[-400 400]');</span>
2584 <span class="comment">% end</span>
2585     
2586 guidata(hObject,handles);
2587 
2588 
2589 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2590 <a name="_sub121" href="#_subfunctions" class="code">function WhatToDo_CreateFcn(hObject, eventdata, handles)</a>
2591 <span class="comment">% hObject    handle to WhatToDo (see GCBO)</span>
2592 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2593 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2594 
2595 <span class="comment">% Hint: popupmenu controls usually have a white background on Windows.</span>
2596 <span class="comment">%       See ISPC and COMPUTER.</span>
2597 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2598     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2599 <span class="keyword">end</span>
2600 
2601 
2602 
2603 <span class="comment">% --------------------------------------------------------------------</span>
2604 
2605 <a name="_sub122" href="#_subfunctions" class="code">function UseTheseAxes_Callback(hObject, eventdata, handles)</a>
2606 <span class="comment">% hObject    handle to UseTheseAxes (see GCBO)</span>
2607 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2608 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2609 
2610 <span class="comment">% Hints: get(hObject,'String') returns contents of UseTheseAxes as text</span>
2611 <span class="comment">%        str2double(get(hObject,'String')) returns contents of UseTheseAxes as a double</span>
2612 
2613 
2614 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2615 <a name="_sub123" href="#_subfunctions" class="code">function UseTheseAxes_CreateFcn(hObject, eventdata, handles)</a>
2616 <span class="comment">% hObject    handle to UseTheseAxes (see GCBO)</span>
2617 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2618 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2619 
2620 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
2621 <span class="comment">%       See ISPC and COMPUTER.</span>
2622 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2623     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2624 <span class="keyword">end</span>
2625 
2626 
2627 
2628 
2629 <span class="comment">% % --- Executes on button press in UseFilters.</span>
2630 <span class="comment">% function UseFilters_Callback(hObject, eventdata, handles)</span>
2631 <span class="comment">% % hObject    handle to UseFilters (see GCBO)</span>
2632 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
2633 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
2634 <span class="comment">%</span>
2635 <span class="comment">% % Hint: get(hObject,'Value') returns toggle state of UseFilters</span>
2636 <span class="comment">%</span>
2637 <span class="comment">% if get(hObject,'value')==0</span>
2638 <span class="comment">% %     set(handles.TrialFilterVector,'string','');</span>
2639 <span class="comment">% end</span>
2640 <span class="comment">% guidata(hObject,handles);</span>
2641 
2642 
2643 <span class="comment">% --------------------------------------------------------------------</span>
2644 <a name="_sub124" href="#_subfunctions" class="code">function LatencyAfter_Callback(hObject, eventdata, handles)</a>
2645 <span class="comment">% hObject    handle to LatencyAfter (see GCBO)</span>
2646 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2647 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2648 
2649 defaultanswer={<span class="string">'0'</span>};    
2650     
2651        prompt={<span class="string">'Calculate latency after'</span>};
2652    name=[<span class="string">'Latency after'</span>]; 
2653    numlines=1;
2654 
2655     answer=inputdlg(prompt,name,numlines,defaultanswer);
2656 
2657    <span class="keyword">if</span> ~isempty(answer)
2658 
2659        LatInitTime=str2num(answer{1});
2660        <span class="keyword">if</span> isnumeric(LatInitTime),
2661            handles.LatInitTime=LatInitTime;
2662            fprintf(<span class="string">'%s\n'</span>,[<span class="string">'Latency after '</span> num2str(LatInitTime) <span class="string">' ms'</span>]);
2663        <span class="keyword">end</span>
2664        
2665    <span class="keyword">end</span>
2666     
2667 guidata(hObject,handles);
2668 
2669 
2670 
2671 <span class="comment">% --------------------------------------------------------------------</span>
2672 <a name="_sub125" href="#_subfunctions" class="code">function SetCellProps_Callback(hObject, eventdata, handles)</a>
2673 <span class="comment">% hObject    handle to SetCellProps (see GCBO)</span>
2674 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2675 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2676 
2677 <span class="comment">%    prompt={'Enter Unit Number','Enter RF location'};</span>
2678    prompt={<span class="string">'Enter RF location'</span>};
2679    name=<span class="string">'RF Location '</span>;
2680    numlines=1;
2681    defaultanswer={num2str(handles.RFLocation)};
2682  
2683    Answer=inputdlg(prompt,name,numlines,defaultanswer);
2684    
2685    <span class="keyword">if</span> ~isempty(Answer)
2686 <span class="comment">% handles.UnitNumber=str2num(Answer{1});</span>
2687 handles.RFLocation=str2num(Answer{1});
2688    <span class="keyword">end</span>
2689 
2690    setappdata(0,<span class="string">'RFLocation'</span>,handles.RFLocation);
2691    guidata(hObject,handles);
2692 
2693 
2694 
2695 <span class="comment">% --- Executes on selection change in VariablesList.</span>
2696 <a name="_sub126" href="#_subfunctions" class="code">function VariablesList_Callback(hObject, eventdata, handles)</a>
2697 <span class="comment">% hObject    handle to VariablesList (see GCBO)</span>
2698 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2699 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2700 
2701 <span class="comment">% Hints: contents = get(hObject,'String') returns VariablesList contents as cell array</span>
2702 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from VariablesList</span>
2703 
2704 
2705 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2706 <a name="_sub127" href="#_subfunctions" class="code">function VariablesList_CreateFcn(hObject, eventdata, handles)</a>
2707 <span class="comment">% hObject    handle to VariablesList (see GCBO)</span>
2708 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2709 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2710 
2711 <span class="comment">% Hint: popupmenu controls usually have a white background on Windows.</span>
2712 <span class="comment">%       See ISPC and COMPUTER.</span>
2713 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2714     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2715 <span class="keyword">end</span>
2716 
2717 
2718 
2719 
2720 <span class="comment">% --------------------------------------------------------------------</span>
2721 <a name="_sub128" href="#_subfunctions" class="code">function Layouts_Callback(hObject, eventdata, handles)</a>
2722 <span class="comment">% hObject    handle to Layouts (see GCBO)</span>
2723 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2724 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2725 
2726 
2727 <span class="comment">% --------------------------------------------------------------------</span>
2728 <a name="_sub129" href="#_subfunctions" class="code">function SixGraph_Callback(hObject, eventdata, handles)</a>
2729 <span class="comment">% hObject    handle to SixGraph (see GCBO)</span>
2730 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2731 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2732 
2733 <span class="comment">%</span>
2734 <span class="comment">% if strcmp(get(hObject,'Checked'),'off') set(hObject,'checked','on');</span>
2735 <span class="comment">%    if strcmp(get(handles.GainGraph,'Checked'),'on'),</span>
2736 <span class="comment">% %        reset_gainposits;</span>
2737 <span class="comment">%        set(handles.GainGraph,'Checked','off');</span>
2738 <span class="comment">%    end</span>
2739       <a href="../XeX/UtilityFunctions/LayoutStuff/nineset.html" class="code" title="">nineset</a>;
2740 <a href="../XeX/UtilityFunctions/handlingGraphics/makeInvisible.html" class="code" title="function makeInvisible(handleObjects)">makeInvisible</a>([handles.axes7 handles.axes8 handles.axes9 handles.Axis7Indicator handles.Axis8Indicator handles.Axis9Indicator]);
2741 handles.NumberOfAxes=6;
2742 <span class="comment">% else</span>
2743 <span class="comment">%    set(hObject,'checked','off');</span>
2744 <span class="comment">% %    makeVisible([handles.axes7 handles.axes8 handles.axes9 handles.Axis7Indicator handles.Axis8Indicator handles.Axis9Indicator]);</span>
2745 <span class="comment">% twelveset;</span>
2746 <span class="comment">% end</span>
2747 
2748  FullString=[];
2749     <span class="keyword">for</span> tempind=7:12
2750         FullString=[FullString <span class="string">'handles.AxisObj'</span> num2str(tempind) <span class="string">','</span>];
2751     <span class="keyword">end</span>
2752     
2753     eval([<span class="string">'makeInvisible(['</span> FullString <span class="string">'])'</span>]);
2754     
2755 guidata(hObject,handles);
2756 
2757 
2758 <span class="comment">% --- Executes on button press in ManageObjects.</span>
2759 <a name="_sub130" href="#_subfunctions" class="code">function ManageObjects_Callback(hObject, eventdata, handles)</a>
2760 <span class="comment">% hObject    handle to ManageObjects (see GCBO)</span>
2761 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2762 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2763 
2764 Objs=[handles.GetObjectPropsButton, handles.GetObjectAxes, handles.DeleteObjects, handles.MoveObj, handles.CopyObj, handles.text64, handles.text65, handles.text66, handles.ObjectNumber, handles.OldAxis,handles.NewAxis];
2765 
2766 VarObjs=[handles.text88, handles.text89, handles.text90, handles.UnBut, handles.XAxisVariable, handles.X1AxisVariable, handles.YAxisVariable, handles.XAxisCenters, handles.X1AxisCenters, handles.XAxisDiscretize, handles.X1AxisDiscretize, handles.ReverseXY];
2767 
2768 <span class="keyword">if</span> strcmp(get(hObject,<span class="string">'string'</span>), <span class="string">'ManageObjects'</span>), set(hObject,<span class="string">'string'</span>,<span class="string">'BackToVars'</span>);
2769     <a href="../XeX/UtilityFunctions/handlingGraphics/makeVisible.html" class="code" title="function makeVisible(handleObjects)">makeVisible</a>(Objs);
2770     <a href="../XeX/UtilityFunctions/handlingGraphics/makeInvisible.html" class="code" title="function makeInvisible(handleObjects)">makeInvisible</a>(VarObjs);
2771 <span class="keyword">else</span> set(hObject,<span class="string">'string'</span>,<span class="string">'ManageObjects'</span>);
2772     <a href="../XeX/UtilityFunctions/handlingGraphics/makeInvisible.html" class="code" title="function makeInvisible(handleObjects)">makeInvisible</a>(Objs);
2773     <a href="../XeX/UtilityFunctions/handlingGraphics/makeVisible.html" class="code" title="function makeVisible(handleObjects)">makeVisible</a>(VarObjs);
2774 <span class="keyword">end</span>
2775 
2776 guidata(hObject,handles);
2777 
2778 
2779 
2780 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2781 <a name="_sub131" href="#_subfunctions" class="code">function ManageObjects_CreateFcn(hObject, eventdata, handles)</a>
2782 <span class="comment">% hObject    handle to ManageObjects (see GCBO)</span>
2783 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2784 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2785 
2786 
2787 
2788 
2789 <span class="comment">% --- Executes on button press in UnBut -&gt; DOES THE UNIQUE(CURRENTVARIABLE)</span>
2790 <a name="_sub132" href="#_subfunctions" class="code">function UnBut_Callback(hObject, eventdata, handles)</a>
2791 <span class="comment">% hObject    handle to UnBut (see GCBO)</span>
2792 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2793 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2794 
2795 VarList=cellstr(get(handles.XAxisVariable,<span class="string">'string'</span>));
2796 CurVar=VarList{get(handles.XAxisVariable,<span class="string">'value'</span>)};
2797 
2798   LoadedFileList=get(handles.LoadedFiles,<span class="string">'string'</span>);
2799  <span class="keyword">if</span> ~iscell(LoadedFileList), TempVar{1}=LoadedFileList; LoadedFileList=TempVar;<span class="keyword">end</span>
2800  CurrentValue=get(handles.LoadedFiles,<span class="string">'value'</span>); CurrentValue=CurrentValue(1);
2801  CurrentDataFile=LoadedFileList{CurrentValue};
2802  
2803 <span class="keyword">if</span> ~strcmp(CurrentDataFile,<span class="string">'LoadedFiles'</span>)
2804 
2805 eval([<span class="string">'Trials=handles.'</span> CurrentDataFile <span class="string">'.Trials;'</span>]);
2806 eval([<span class="string">'if ~isfield(handles.'</span> CurrentDataFile <span class="string">',''Analysis''), fprintf(''%s\n'',''Analyze your dataset first''); GoOn=0;else GoOn=1;end'</span>]);
2807 eval([<span class="string">'if GoOn==1, MyVariableList=handles.'</span> CurrentDataFile <span class="string">'.Analysis.MyVariableList;end'</span>]);
2808 <span class="comment">%</span>
2809 <span class="comment">% msgbox(MyVariableList,'Variable List','help');</span>
2810 
2811 eval([<span class="string">'if GoOn==1, CurrentVariables=handles.'</span> CurrentDataFile <span class="string">'.Analysis;end'</span>]);
2812 <a href="../XeX/UtilityFunctions/assorted/detachvars.html" class="code" title="">detachvars</a>;
2813 
2814 <span class="keyword">if</span> exist(CurVar,<span class="string">'var'</span>)
2815 eval([<span class="string">'UnVar=un('</span> CurVar <span class="string">');'</span>]);
2816 
2817 <span class="keyword">if</span> length(UnVar)&lt;50, fprintf(<span class="string">'%6.2f\n'</span>,UnVar); <span class="keyword">else</span> fprintf(<span class="string">'There are %d unique variables\n'</span>,length(UnVar));<span class="keyword">end</span> 
2818 
2819 <a href="../XeX/UtilityFunctions/assorted/clearvars.html" class="code" title="">clearvars</a>;
2820 
2821 <span class="keyword">else</span> fprintf(<span class="string">'%s\n'</span>,<span class="string">'That variable doesnt exist ??'</span>);
2822 <span class="keyword">end</span>
2823 
2824 <span class="keyword">end</span>
2825 
2826 <span class="comment">% keyboard;</span>
2827 
2828 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2829 <a name="_sub133" href="#_subfunctions" class="code">function UnBut_CreateFcn(hObject, eventdata, handles)</a>
2830 <span class="comment">% hObject    handle to ManageObjects (see GCBO)</span>
2831 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2832 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2833 
2834 
2835 
2836 
2837 <span class="comment">% --- Executes on selection change in GraphCommandFiles.</span>
2838 <a name="_sub134" href="#_subfunctions" class="code">function GraphCommandFiles_Callback(hObject, eventdata, handles)</a>
2839 <span class="comment">% hObject    handle to GraphCommandFiles (see GCBO)</span>
2840 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2841 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2842 
2843 <span class="comment">% Hints: contents = get(hObject,'String') returns GraphCommandFiles contents as cell array</span>
2844 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from GraphCommandFiles</span>
2845 
2846 <span class="comment">% contents=cellstr(get(hObject,'String'));</span>
2847 <span class="comment">% CurrentCommandFile=contents{get(hObject,'value')}; %string contains current command filename</span>
2848 <span class="comment">%</span>
2849 <span class="comment">% if strcmp(CurrentCommandFile,'CmdEditor')</span>
2850 <span class="comment">%</span>
2851 <span class="comment">%     if ~isappdata(0,'TrialFilterHandle'), setappdata(0,'TrialFilterHandle',handles.TrialFilterVector);end</span>
2852 <span class="comment">% % if ~isappdata(0,'UseFilterHandle'), setappdata(0,'UseFilterHandle',handles.UseFilters);end</span>
2853 <span class="comment">% if ~isappdata(0,'UsePlottingHandle'),    setappdata(0,'UsePlottingHandle',handles.UseProps); end</span>
2854 <span class="comment">% if ~isappdata(0,'HoldFilterHandle'), setappdata(0,'HoldFilterHandle',handles.HoldStatus);end</span>
2855 <span class="comment">%</span>
2856 <span class="comment">% if ~isappdata(0,'GraphCmdGUIHandle'), GraphCommandEditor;</span>
2857 <span class="comment">%    else figure(getappdata(0,'GraphCmdGUIHandle'));</span>
2858 <span class="comment">% end</span>
2859 <span class="comment">%</span>
2860 <span class="comment">% end</span>
2861 
2862 <span class="comment">% guidata(hObject,handles);</span>
2863 
2864 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2865 <a name="_sub135" href="#_subfunctions" class="code">function GraphCommandFiles_CreateFcn(hObject, eventdata, handles)</a>
2866 <span class="comment">% hObject    handle to GraphCommandFiles (see GCBO)</span>
2867 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2868 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2869 
2870 <span class="comment">% Hint: popupmenu controls usually have a white background on Windows.</span>
2871 <span class="comment">%       See ISPC and COMPUTER.</span>
2872 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2873     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2874 <span class="keyword">end</span>
2875 
2876 
2877 <span class="comment">% --- Executes on button press in AddGrapher.</span>
2878 <a name="_sub136" href="#_subfunctions" class="code">function AddGrapher_Callback(hObject, eventdata, handles)</a>
2879 <span class="comment">% hObject    handle to AddGrapher (see GCBO)</span>
2880 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2881 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2882 
2883 
2884 Old_Dir=pwd;
2885 <span class="keyword">if</span> ~exist(<span class="string">'GraphCommandsDirectory'</span>,<span class="string">'var'</span>), GraphCommandsDirectory=<span class="string">'c:\MATLAB\work\XeX\MyGraphs'</span>;<span class="keyword">end</span>
2886 cd(GraphCommandsDirectory);
2887 
2888    [input_filename, input_pathname] = uigetfile( <span class="keyword">...</span>
2889        {<span class="string">'*_gfx.m'</span>,<span class="string">'Graph-files (*_gfx.m)'</span>;
2890         <span class="string">'*.*'</span>,  <span class="string">'All Files (*.*)'</span>}, <span class="keyword">...</span>
2891         <span class="string">'Add Graph Command File(s)'</span>, <span class="keyword">...</span>
2892         <span class="string">'MultiSelect'</span>, <span class="string">'on'</span>);
2893 
2894     <span class="comment">%%loading the files</span>
2895 
2896      <span class="keyword">if</span> ~isnumeric(input_filename)
2897      <span class="keyword">if</span> ~iscell(input_filename) TemporaryStuff{1}=input_filename;
2898      input_filename=TemporaryStuff; 
2899      <span class="keyword">end</span>
2900      
2901 GraphFileNames=get(handles.GraphCommandFiles,<span class="string">'string'</span>);
2902          <span class="keyword">if</span> ~iscell(GraphFileNames)&amp;&amp;~strcmp(GraphFileNames,<span class="string">'CmdFiles'</span>)
2903              TemporaryStuff{1}=GraphFileNames;
2904              GraphFileNames=TemporaryStuff;
2905          <span class="keyword">end</span>
2906          
2907          <span class="keyword">if</span> ~iscell(GraphFileNames)
2908              set(handles.GraphCommandFiles,<span class="string">'string'</span>,sort(input_filename));
2909          <span class="keyword">else</span>
2910              NewNames=setdiff(input_filename,GraphFileNames);
2911              set(handles.GraphCommandFiles,<span class="string">'string'</span>,sort([NewNames GraphFileNames']'));
2912          <span class="keyword">end</span>
2913 
2914          guidata(hObject,handles);
2915          
2916      <span class="keyword">end</span>
2917      
2918         cd(Old_Dir);
2919 
2920 
2921 <span class="comment">% --- Executes on button press in RunGraph.</span>
2922 <a name="_sub137" href="#_subfunctions" class="code">function RunGraph_Callback(hObject, eventdata, handles)</a>
2923 <span class="comment">% hObject    handle to RunGraph (see GCBO)</span>
2924 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2925 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2926 
2927 
2928 <a href="../XeX/UtilityFunctions/gettingAndsettingParameters/GraphCommandProcessor.html" class="code" title="">GraphCommandProcessor</a>;
2929 
2930 guidata(hObject,handles);  <span class="comment">%routinely saving anything assigned to handles</span>
2931 
2932 
2933 <span class="comment">% --- Executes on button press in SetGraphicDir.</span>
2934 <a name="_sub138" href="#_subfunctions" class="code">function SetGraphicDir_Callback(hObject, eventdata, handles)</a>
2935 <span class="comment">% hObject    handle to SetGraphicDir (see GCBO)</span>
2936 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2937 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2938 
2939 TempDir=uigetdir(handles.GraphCommandsDirectory,<span class="string">'Set Graph Commands Directory'</span>);
2940 <span class="keyword">if</span> ~isequal(TempDir,0)
2941     handles.GraphCommandsDirectory=TempDir;
2942 <span class="keyword">end</span>
2943 
2944 guidata(hObject,handles);
2945 
2946 
2947 <span class="comment">% --- Executes on selection change in UnitNumberPop.</span>
2948 <a name="_sub139" href="#_subfunctions" class="code">function UnitNumberPop_Callback(hObject, eventdata, handles)</a>
2949 <span class="comment">% hObject    handle to UnitNumberPop (see GCBO)</span>
2950 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2951 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2952 
2953 <span class="comment">% Hints: contents = get(hObject,'String') returns UnitNumberPop contents as cell array</span>
2954 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from UnitNumberPop</span>
2955 
2956 contents=cellstr(get(hObject,<span class="string">'string'</span>));
2957 handles.UnitNumber=str2num(contents{get(hObject,<span class="string">'value'</span>)});
2958 fprintf(<span class="string">'%s\n'</span>,[<span class="string">'Unit Number is now '</span> num2str(handles.UnitNumber) <span class="string">' '</span>]);
2959 
2960 ThingsToDo=get(handles.WhatToDo,<span class="string">'String'</span>);
2961 WhatToDo=ThingsToDo{get(handles.WhatToDo,<span class="string">'value'</span>)};
2962 
2963 <span class="keyword">if</span> strcmp(WhatToDo,<span class="string">'ActiveUpdate'</span>),
2964 UpdateType=<span class="string">'UnitNumber'</span>;
2965 <a href="../XeX/UtilityFunctions/update/UpdateSlider.html" class="code" title="">UpdateSlider</a>;
2966 <span class="keyword">end</span>
2967 
2968 guidata(hObject,handles);
2969 
2970 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
2971 <a name="_sub140" href="#_subfunctions" class="code">function UnitNumberPop_CreateFcn(hObject, eventdata, handles)</a>
2972 <span class="comment">% hObject    handle to UnitNumberPop (see GCBO)</span>
2973 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2974 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
2975 
2976 <span class="comment">% Hint: popupmenu controls usually have a white background on Windows.</span>
2977 <span class="comment">%       See ISPC and COMPUTER.</span>
2978 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
2979     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
2980 <span class="keyword">end</span>
2981 
2982 
2983 
2984 
2985 <span class="comment">% --- Executes on button press in DelTrials.</span>
2986 <a name="_sub141" href="#_subfunctions" class="code">function DelTrials_Callback(hObject, eventdata, handles)</a>
2987 <span class="comment">% hObject    handle to DelTrials (see GCBO)</span>
2988 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
2989 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
2990 
2991 
2992 LoadedFileList=get(handles.LoadedFiles,<span class="string">'string'</span>);
2993 CurrentValues=get(handles.LoadedFiles,<span class="string">'value'</span>);
2994 <span class="keyword">if</span> ~iscell(LoadedFileList), LoadedFileList={LoadedFileList};<span class="keyword">end</span>
2995 
2996 CurrentlyLoadedFiles=LoadedFileList(CurrentValues);
2997 
2998 
2999 <span class="keyword">if</span> ~strcmp(CurrentlyLoadedFiles{1},<span class="string">'LoadedFiles'</span>)
3000 <span class="keyword">for</span> FileIndex=1:length(CurrentlyLoadedFiles)
3001     CurrentFile=CurrentlyLoadedFiles{FileIndex};
3002     eval([<span class="string">'handles.'</span> CurrentFile <span class="string">'.Trials= NaN;'</span>]);
3003     fprintf(<span class="string">'%s\n'</span>,[<span class="string">'Removed trials from '</span> CurrentFile]);
3004  
3005 <span class="keyword">end</span>
3006 <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/assorted/TellMe.html" class="code" title="function TellMe(formatvar,stringvar,speakvar)">TellMe</a>(<span class="string">'%s\n'</span>,<span class="string">'Load a file first !'</span>,handles.SpeakToMe);
3007 <span class="keyword">end</span>
3008 
3009 guidata(hObject,handles);
3010 
3011 
3012 
3013 
3014 <span class="comment">% --------------------------------------------------------------------</span>
3015 <a name="_sub142" href="#_subfunctions" class="code">function RmIndicators_Callback(hObject, eventdata, handles)</a>
3016 <span class="comment">% hObject    handle to RmIndicators (see GCBO)</span>
3017 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3018 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3019 
3020 <span class="keyword">if</span> strcmp(get(hObject,<span class="string">'checked'</span>),<span class="string">'on'</span>)
3021     set(hObject,<span class="string">'checked'</span>,<span class="string">'off'</span>);
3022     <span class="keyword">for</span> i=1:handles.NumberOfAxes
3023     eval([<span class="string">'makeVisible(handles.Axis'</span> num2str(i) <span class="string">'Indicator);'</span>]);
3024     <span class="keyword">end</span>
3025 <span class="keyword">else</span>
3026     set(hObject,<span class="string">'checked'</span>,<span class="string">'on'</span>);
3027       <span class="keyword">for</span> i=1:handles.NumberOfAxes
3028     eval([<span class="string">'makeInvisible(handles.Axis'</span> num2str(i) <span class="string">'Indicator);'</span>]);
3029       <span class="keyword">end</span>
3030 <span class="keyword">end</span>
3031 
3032 guidata(hObject,handles);
3033 
3034 
3035 <span class="comment">% --------------------------------------------------------------------</span>
3036 <a name="_sub143" href="#_subfunctions" class="code">function ResetLayout_Callback(hObject, eventdata, handles)</a>
3037 <span class="comment">% hObject    handle to ResetLayout (see GCBO)</span>
3038 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3039 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3040 
3041 <a href="../XeX/UtilityFunctions/LayoutStuff/twelveset.html" class="code" title="">twelveset</a>;
3042 guidata(hObject,handles);
3043 
3044 
3045 <span class="comment">% --------------------------------------------------------------------</span>
3046 <a name="_sub144" href="#_subfunctions" class="code">function ClearTitle_Callback(hObject, eventdata, handles)</a>
3047 <span class="comment">% hObject    handle to ClearTitle (see GCBO)</span>
3048 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3049 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3050 
3051 <span class="keyword">for</span> Temp=1:handles.NumberOfAxes
3052     eval([<span class="string">'axes(handles.axes'</span> num2str(Temp) <span class="string">');'</span>]);
3053     title(<span class="string">''</span>); xlabel(<span class="string">''</span>); ylabel(<span class="string">''</span>);
3054     eval([<span class="string">'handles.A'</span> num2str(Temp) <span class="string">'Annotations={'''','''',''''};'</span>]);
3055 <span class="keyword">end</span>
3056 
3057 guidata(hObject,handles);
3058 
3059 
3060 <span class="comment">% --------------------------------------------------------------------</span>
3061 <a name="_sub145" href="#_subfunctions" class="code">function Axis10Markers_Callback(hObject, eventdata, handles)</a>
3062 <span class="comment">% hObject    handle to Axis10Markers (see GCBO)</span>
3063 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3064 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3065 
3066 <span class="comment">% Hints: get(hObject,'String') returns contents of Axis10Markers as text</span>
3067 <span class="comment">%        str2double(get(hObject,'String')) returns contents of Axis10Markers as a double</span>
3068 
3069 CurrentAxisMarkerNumber=10;
3070 <a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>;
3071 guidata(hObject,handles);
3072 
3073 
3074 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3075 <a name="_sub146" href="#_subfunctions" class="code">function Axis10Markers_CreateFcn(hObject, eventdata, handles)</a>
3076 <span class="comment">% hObject    handle to Axis10Markers (see GCBO)</span>
3077 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3078 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3079 
3080 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3081 <span class="comment">%       See ISPC and COMPUTER.</span>
3082 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3083     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3084 <span class="keyword">end</span>
3085 
3086 <span class="comment">% --------------------------------------------------------------------</span>
3087 <a name="_sub147" href="#_subfunctions" class="code">function Axis11Markers_Callback(hObject, eventdata, handles)</a>
3088 <span class="comment">% hObject    handle to Axis11Markers (see GCBO)</span>
3089 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3090 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3091 
3092 <span class="comment">% Hints: get(hObject,'String') returns contents of Axis11Markers as text</span>
3093 <span class="comment">%        str2double(get(hObject,'String')) returns contents of Axis11Markers as a double</span>
3094 
3095 CurrentAxisMarkerNumber=11;
3096 <a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>;
3097 guidata(hObject,handles);
3098 
3099 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3100 <a name="_sub148" href="#_subfunctions" class="code">function Axis11Markers_CreateFcn(hObject, eventdata, handles)</a>
3101 <span class="comment">% hObject    handle to Axis11Markers (see GCBO)</span>
3102 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3103 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3104 
3105 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3106 <span class="comment">%       See ISPC and COMPUTER.</span>
3107 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3108     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3109 <span class="keyword">end</span>
3110 
3111 
3112 <span class="comment">% --------------------------------------------------------------------</span>
3113 <a name="_sub149" href="#_subfunctions" class="code">function Axis12Markers_Callback(hObject, eventdata, handles)</a>
3114 <span class="comment">% hObject    handle to Axis12Markers (see GCBO)</span>
3115 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3116 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3117 
3118 <span class="comment">% Hints: get(hObject,'String') returns contents of Axis12Markers as text</span>
3119 <span class="comment">%        str2double(get(hObject,'String')) returns contents of Axis12Markers as a double</span>
3120 
3121 CurrentAxisMarkerNumber=12;
3122 <a href="../XeX/UtilityFunctions/update/UpdateMarkers.html" class="code" title="">UpdateMarkers</a>;
3123 guidata(hObject,handles);
3124 
3125 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3126 <a name="_sub150" href="#_subfunctions" class="code">function Axis12Markers_CreateFcn(hObject, eventdata, handles)</a>
3127 <span class="comment">% hObject    handle to Axis12Markers (see GCBO)</span>
3128 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3129 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3130 
3131 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3132 <span class="comment">%       See ISPC and COMPUTER.</span>
3133 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3134     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3135 <span class="keyword">end</span>
3136 
3137 
3138 <span class="comment">% --------------------------------------------------------------------</span>
3139 <a name="_sub151" href="#_subfunctions" class="code">function NineGraphs_Callback(hObject, eventdata, handles)</a>
3140 <span class="comment">% hObject    handle to NineGraphs (see GCBO)</span>
3141 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3142 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3143 
3144 <a href="../XeX/UtilityFunctions/LayoutStuff/nineset.html" class="code" title="">nineset</a>;
3145 
3146 guidata(hObject,handles);
3147 
3148 <span class="comment">% --- Executes on button press in EditCmdFile.</span>
3149 <a name="_sub152" href="#_subfunctions" class="code">function EditCmdFile_Callback(hObject, eventdata, handles)</a>
3150 <span class="comment">% hObject    handle to EditCmdFile (see GCBO)</span>
3151 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3152 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3153 
3154 TempG=cellstr(get(handles.GraphCommandFiles,<span class="string">'string'</span>));
3155 CurrentGFile=TempG{get(handles.GraphCommandFiles,<span class="string">'value'</span>)};
3156 <span class="keyword">if</span> ~strcmp(CurrentGFile,<span class="string">'CmdFiles'</span>)
3157 edit(CurrentGFile);
3158 <span class="keyword">else</span> fprintf(<span class="string">'%s\n'</span>,<span class="string">'Add a file first'</span>);
3159 <span class="keyword">end</span>
3160 
3161 guidata(hObject,handles);
3162 
3163 
3164 <span class="comment">% --------------------------------------------------------------------</span>
3165 <a name="_sub153" href="#_subfunctions" class="code">function SigLevel_Callback(hObject, eventdata, handles)</a>
3166 <span class="comment">% hObject    handle to SigLevel (see GCBO)</span>
3167 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3168 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3169 
3170 defaultanswer={num2str(handles.SignificanceCutoff)};    
3171     
3172        prompt={<span class="string">'Enter alpha'</span>};
3173    name=[<span class="string">'Significance alpha'</span>]; 
3174    numlines=1;
3175 
3176     answer=inputdlg(prompt,name,numlines,defaultanswer);
3177 
3178    <span class="keyword">if</span> ~isempty(answer)
3179 
3180        sigalpha=str2num(answer{1});
3181        <span class="keyword">if</span> isnumeric(sigalpha),
3182            handles.SignificanceCutoff=sigalpha;
3183            fprintf(<span class="string">'%s\n'</span>,[<span class="string">'Alpha set to ['</span> answer{1} <span class="string">' ]'</span>]);
3184        <span class="keyword">end</span>
3185        
3186    <span class="keyword">end</span>
3187     
3188 guidata(hObject,handles);
3189 
3190 
3191 
3192 <span class="comment">%---</span>
3193 
3194 <a name="_sub154" href="#_subfunctions" class="code">function FTPFileName_Callback(hObject, eventdata, handles)</a>
3195 <span class="comment">% hObject    handle to FTPFileName (see GCBO)</span>
3196 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3197 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3198 
3199 <span class="comment">% Hints: get(hObject,'String') returns contents of FTPFileName as text</span>
3200 <span class="comment">%        str2double(get(hObject,'String')) returns contents of FTPFileName as a double</span>
3201 
3202 <span class="keyword">if</span> isfield(handles,<span class="string">'FTP'</span>)
3203 handles.FTP.filename=get(hObject,<span class="string">'string'</span>);
3204 guidata(hObject,handles);
3205 <span class="keyword">else</span>
3206     fprintf(<span class="string">'%s\n'</span>,<span class="string">'Enter FTP Pathname from Menu: FTP Options first'</span>);
3207 <span class="keyword">end</span>
3208 
3209 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3210 <a name="_sub155" href="#_subfunctions" class="code">function FTPFileName_CreateFcn(hObject, eventdata, handles)</a>
3211 <span class="comment">% hObject    handle to FTPFileName (see GCBO)</span>
3212 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3213 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3214 
3215 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3216 <span class="comment">%       See ISPC and COMPUTER.</span>
3217 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3218     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3219 <span class="keyword">end</span>
3220 
3221 
3222 <span class="comment">% --- Executes on button press in FTPMe.</span>
3223 <a name="_sub156" href="#_subfunctions" class="code">function FTPMe_Callback(hObject, eventdata, handles)</a>
3224 <span class="comment">% hObject    handle to FTPMe (see GCBO)</span>
3225 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3226 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3227 
3228 
3229 <a href="../XeX/UtilityFunctions/loadinFiles/FTPScript.html" class="code" title="">FTPScript</a>;
3230 guidata(hObject,handles);
3231 
3232 
3233 <span class="comment">% --------------------------------------------------------------------</span>
3234 <a name="_sub157" href="#_subfunctions" class="code">function FTPRelated_Callback(hObject, eventdata, handles)</a>
3235 <span class="comment">% hObject    handle to FTPRelated (see GCBO)</span>
3236 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3237 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3238 
3239 
3240 <span class="comment">% --------------------------------------------------------------------</span>
3241 <a name="_sub158" href="#_subfunctions" class="code">function FTPMode_Callback(hObject, eventdata, handles)</a>
3242 <span class="comment">% hObject    handle to FTPMode (see GCBO)</span>
3243 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3244 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3245 
3246 <span class="keyword">if</span> strcmp(get(hObject,<span class="string">'checked'</span>),<span class="string">'on'</span>)
3247     set(hObject,<span class="string">'checked'</span>,<span class="string">'off'</span>);
3248     <a href="../XeX/UtilityFunctions/handlingGraphics/makeInvisible.html" class="code" title="function makeInvisible(handleObjects)">makeInvisible</a>([handles.FTPMe handles.FTPFileName handles.FTPUpdate]);
3249 <span class="keyword">else</span>
3250     set(hObject,<span class="string">'checked'</span>,<span class="string">'on'</span>);
3251     <a href="../XeX/UtilityFunctions/handlingGraphics/makeVisible.html" class="code" title="function makeVisible(handleObjects)">makeVisible</a>([handles.FTPMe handles.FTPFileName handles.FTPUpdate]);
3252 <span class="keyword">end</span>
3253 
3254 guidata(hObject,handles);
3255 
3256 <span class="comment">% --------------------------------------------------------------------</span>
3257 <a name="_sub159" href="#_subfunctions" class="code">function HelpTips_Callback(hObject, eventdata, handles)</a>
3258 <span class="comment">% hObject    handle to HelpTips (see GCBO)</span>
3259 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3260 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3261 <span class="comment">% helpstring={'pwf is a file in the &quot;Assorted&quot; subdirectory of the root xex directory. It contains the information that ncftpget uses'};</span>
3262 <span class="comment">% helpdlg(helpstring,'FTP information');</span>
3263 
3264 web(<span class="string">'help.html'</span>);
3265 
3266 <span class="comment">% --------------------------------------------------------------------</span>
3267 <a name="_sub160" href="#_subfunctions" class="code">function Help_Callback(hObject, eventdata, handles)</a>
3268 <span class="comment">% hObject    handle to Help (see GCBO)</span>
3269 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3270 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3271 
3272 
3273 
3274 <span class="comment">% --------------------------------------------------------------------</span>
3275 <a name="_sub161" href="#_subfunctions" class="code">function ResetAxisProps_Callback(hObject, eventdata, handles)</a>
3276 <span class="comment">% hObject    handle to ResetAxisProps (see GCBO)</span>
3277 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3278 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3279 
3280 <span class="keyword">for</span> TempVar=1:handles.NumberOfAxes
3281     eval([<span class="string">'set(handles.Axis'</span> num2str(TempVar) <span class="string">'Markers,''string'',''b-r-m-c-k-y-'');'</span>]);
3282 <span class="keyword">end</span> 
3283 
3284 guidata(hObject,handles);
3285 
3286 
3287 <span class="comment">% --- Executes on selection change in XAxisVariable.</span>
3288 <a name="_sub162" href="#_subfunctions" class="code">function XAxisVariable_Callback(hObject, eventdata, handles)</a>
3289 <span class="comment">% hObject    handle to XAxisVariable (see GCBO)</span>
3290 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3291 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3292 
3293 <span class="comment">% Hints: contents = get(hObject,'String') returns XAxisVariable contents as cell array</span>
3294 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from XAxisVariable</span>
3295 
3296 ThingsToDo=get(handles.WhatToDo,<span class="string">'String'</span>);
3297 WhatToDo=ThingsToDo{get(handles.WhatToDo,<span class="string">'value'</span>)};
3298 
3299 <span class="keyword">if</span> strcmp(WhatToDo,<span class="string">'ActiveUpdate'</span>),
3300 UpdateType=<span class="string">'XAxisVar'</span>;
3301 <a href="../XeX/UtilityFunctions/update/UpdateSlider.html" class="code" title="">UpdateSlider</a>;
3302 <span class="keyword">end</span>
3303 
3304 guidata(hObject,handles);
3305 
3306 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3307 <a name="_sub163" href="#_subfunctions" class="code">function XAxisVariable_CreateFcn(hObject, eventdata, handles)</a>
3308 <span class="comment">% hObject    handle to XAxisVariable (see GCBO)</span>
3309 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3310 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3311 
3312 <span class="comment">% Hint: popupmenu controls usually have a white background on Windows.</span>
3313 <span class="comment">%       See ISPC and COMPUTER.</span>
3314 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3315     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3316 <span class="keyword">end</span>
3317 
3318 
3319 <span class="comment">% --- Executes on selection change in X1AxisVariable.</span>
3320 <a name="_sub164" href="#_subfunctions" class="code">function X1AxisVariable_Callback(hObject, eventdata, handles)</a>
3321 <span class="comment">% hObject    handle to X1AxisVariable (see GCBO)</span>
3322 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3323 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3324 
3325 <span class="comment">% Hints: contents = get(hObject,'String') returns X1AxisVariable contents as cell array</span>
3326 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from X1AxisVariable</span>
3327 
3328 ThingsToDo=get(handles.WhatToDo,<span class="string">'String'</span>);
3329 WhatToDo=ThingsToDo{get(handles.WhatToDo,<span class="string">'value'</span>)};
3330 
3331 <span class="keyword">if</span> strcmp(WhatToDo,<span class="string">'ActiveUpdate'</span>),
3332 UpdateType=<span class="string">'X1AxisVar'</span>;
3333 <a href="../XeX/UtilityFunctions/update/UpdateSlider.html" class="code" title="">UpdateSlider</a>;
3334 <span class="keyword">end</span>
3335 
3336 guidata(hObject,handles);
3337 
3338 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3339 <a name="_sub165" href="#_subfunctions" class="code">function X1AxisVariable_CreateFcn(hObject, eventdata, handles)</a>
3340 <span class="comment">% hObject    handle to X1AxisVariable (see GCBO)</span>
3341 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3342 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3343 
3344 <span class="comment">% Hint: popupmenu controls usually have a white background on Windows.</span>
3345 <span class="comment">%       See ISPC and COMPUTER.</span>
3346 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3347     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3348 <span class="keyword">end</span>
3349 
3350 
3351 <span class="comment">% --- Executes on button press in XAxisDiscretize.</span>
3352 <a name="_sub166" href="#_subfunctions" class="code">function XAxisDiscretize_Callback(hObject, eventdata, handles)</a>
3353 <span class="comment">% hObject    handle to XAxisDiscretize (see GCBO)</span>
3354 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3355 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3356 
3357 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of XAxisDiscretize</span>
3358 
3359 
3360 <span class="comment">% --- Executes on button press in X1AxisDiscretize.</span>
3361 <a name="_sub167" href="#_subfunctions" class="code">function X1AxisDiscretize_Callback(hObject, eventdata, handles)</a>
3362 <span class="comment">% hObject    handle to X1AxisDiscretize (see GCBO)</span>
3363 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3364 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3365 
3366 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of X1AxisDiscretize</span>
3367 
3368 
3369 
3370 <a name="_sub168" href="#_subfunctions" class="code">function XAxisCenters_Callback(hObject, eventdata, handles)</a>
3371 <span class="comment">% hObject    handle to XAxisCenters (see GCBO)</span>
3372 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3373 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3374 
3375 <span class="comment">% Hints: get(hObject,'String') returns contents of XAxisCenters as text</span>
3376 <span class="comment">%        str2double(get(hObject,'String')) returns contents of XAxisCenters as a double</span>
3377 
3378 ThingsToDo=get(handles.WhatToDo,<span class="string">'String'</span>);
3379 WhatToDo=ThingsToDo{get(handles.WhatToDo,<span class="string">'value'</span>)};
3380 
3381 <span class="keyword">if</span> strcmp(WhatToDo,<span class="string">'ActiveUpdate'</span>),
3382 UpdateType=<span class="string">'XAxisDiscreteVals'</span>;
3383 <a href="../XeX/UtilityFunctions/update/UpdateSlider.html" class="code" title="">UpdateSlider</a>;
3384 <span class="keyword">end</span>
3385 
3386 guidata(hObject,handles);
3387 
3388 
3389 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3390 <a name="_sub169" href="#_subfunctions" class="code">function XAxisCenters_CreateFcn(hObject, eventdata, handles)</a>
3391 <span class="comment">% hObject    handle to XAxisCenters (see GCBO)</span>
3392 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3393 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3394 
3395 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3396 <span class="comment">%       See ISPC and COMPUTER.</span>
3397 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3398     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3399 <span class="keyword">end</span>
3400 
3401 
3402 <span class="comment">%--------------------------------------------------------------------------</span>
3403 <a name="_sub170" href="#_subfunctions" class="code">function X1AxisCenters_Callback(hObject, eventdata, handles)</a>
3404 <span class="comment">% hObject    handle to X1AxisCenters (see GCBO)</span>
3405 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3406 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3407 
3408 <span class="comment">% Hints: get(hObject,'String') returns contents of X1AxisCenters as text</span>
3409 <span class="comment">%        str2double(get(hObject,'String')) returns contents of X1AxisCenters as a double</span>
3410 
3411 
3412 ThingsToDo=get(handles.WhatToDo,<span class="string">'String'</span>);
3413 WhatToDo=ThingsToDo{get(handles.WhatToDo,<span class="string">'value'</span>)};
3414 
3415 <span class="keyword">if</span> strcmp(WhatToDo,<span class="string">'ActiveUpdate'</span>),
3416 UpdateType=<span class="string">'YAxisDiscreteVals'</span>;
3417 <a href="../XeX/UtilityFunctions/update/UpdateSlider.html" class="code" title="">UpdateSlider</a>;
3418 <span class="keyword">end</span>
3419 
3420 guidata(hObject,handles);
3421 
3422 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3423 <a name="_sub171" href="#_subfunctions" class="code">function X1AxisCenters_CreateFcn(hObject, eventdata, handles)</a>
3424 <span class="comment">% hObject    handle to X1AxisCenters (see GCBO)</span>
3425 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3426 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3427 
3428 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3429 <span class="comment">%       See ISPC and COMPUTER.</span>
3430 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3431     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3432 <span class="keyword">end</span>
3433 
3434 
3435 <span class="comment">% --- Executes on selection change in YAxisVariable.</span>
3436 <a name="_sub172" href="#_subfunctions" class="code">function YAxisVariable_Callback(hObject, eventdata, handles)</a>
3437 <span class="comment">% hObject    handle to YAxisVariable (see GCBO)</span>
3438 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3439 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3440 
3441 <span class="comment">% Hints: contents = get(hObject,'String') returns YAxisVariable contents as cell array</span>
3442 <span class="comment">%        contents{get(hObject,'Value')} returns selected item from YAxisVariable</span>
3443 
3444 ThingsToDo=get(handles.WhatToDo,<span class="string">'String'</span>);
3445 WhatToDo=ThingsToDo{get(handles.WhatToDo,<span class="string">'value'</span>)};
3446 
3447 <span class="keyword">if</span> strcmp(WhatToDo,<span class="string">'ActiveUpdate'</span>),
3448 UpdateType=<span class="string">'YAxisVar'</span>;
3449 <a href="../XeX/UtilityFunctions/update/UpdateSlider.html" class="code" title="">UpdateSlider</a>;
3450 <span class="keyword">end</span>
3451 
3452 guidata(hObject,handles);
3453 
3454 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3455 <a name="_sub173" href="#_subfunctions" class="code">function YAxisVariable_CreateFcn(hObject, eventdata, handles)</a>
3456 <span class="comment">% hObject    handle to YAxisVariable (see GCBO)</span>
3457 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3458 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3459 
3460 <span class="comment">% Hint: popupmenu controls usually have a white background on Windows.</span>
3461 <span class="comment">%       See ISPC and COMPUTER.</span>
3462 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3463     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3464 <span class="keyword">end</span>
3465 
3466 
3467 
3468 
3469 <span class="comment">% --- Executes on button press in FTPUpdate.</span>
3470 <a name="_sub174" href="#_subfunctions" class="code">function FTPUpdate_Callback(hObject, eventdata, handles)</a>
3471 <span class="comment">% hObject    handle to FTPUpdate (see GCBO)</span>
3472 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3473 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3474 
3475 <a href="../XeX/UtilityFunctions/loadinFiles/FTPScript.html" class="code" title="">FTPScript</a>;
3476 NextCommandSetBaseRate=0;
3477 LoadGFXVar=0; <a href="../XeX/UtilityFunctions/update/UpdateCellOrLoadGFX.html" class="code" title="">UpdateCellOrLoadGFX</a>;
3478 fprintf(<span class="string">'%s\n'</span>,<span class="string">'Selected graphs updated'</span>);
3479 guidata(hObject,handles);
3480 
3481 
3482 <span class="comment">% --------------------------------------------------------------------</span>
3483 <a name="_sub175" href="#_subfunctions" class="code">function ShowObjWin_Callback(hObject, eventdata, handles)</a>
3484 <span class="comment">% hObject    handle to ShowObjWin (see GCBO)</span>
3485 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3486 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3487 
3488 CurrentAxisHandle=gca;
3489 CurrentAxisNumber=find(CurrentAxisHandle==handles.HandlesList);
3490 CurrentEditWindow=handles.EditWindows(CurrentAxisNumber);
3491 
3492 <span class="keyword">if</span> strcmp(get(CurrentEditWindow,<span class="string">'visible'</span>),<span class="string">'on'</span>)
3493     <a href="../XeX/UtilityFunctions/handlingGraphics/makeInvisible.html" class="code" title="function makeInvisible(handleObjects)">makeInvisible</a>(CurrentEditWindow);
3494 <span class="keyword">else</span> <a href="../XeX/UtilityFunctions/handlingGraphics/makeVisible.html" class="code" title="function makeVisible(handleObjects)">makeVisible</a>(CurrentEditWindow);
3495 <span class="keyword">end</span>
3496 
3497 guidata(hObject,handles);
3498 
3499 <span class="comment">% --------------------------------------------------------------------</span>
3500 <a name="_sub176" href="#_subfunctions" class="code">function AxisObj1_Callback(hObject, eventdata, handles)</a>
3501 <span class="comment">% hObject    handle to AxisObj1 (see GCBO)</span>
3502 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3503 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3504 
3505 <span class="comment">% Hints: get(hObject,'String') returns contents of AxisObj1 as text</span>
3506 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxisObj1 as a double</span>
3507 
3508 
3509 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3510 <a name="_sub177" href="#_subfunctions" class="code">function AxisObj1_CreateFcn(hObject, eventdata, handles)</a>
3511 <span class="comment">% hObject    handle to AxisObj1 (see GCBO)</span>
3512 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3513 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3514 
3515 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3516 <span class="comment">%       See ISPC and COMPUTER.</span>
3517 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3518     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3519 <span class="keyword">end</span>
3520 
3521 
3522 
3523 <a name="_sub178" href="#_subfunctions" class="code">function AxisObj4_Callback(hObject, eventdata, handles)</a>
3524 <span class="comment">% hObject    handle to AxisObj4 (see GCBO)</span>
3525 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3526 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3527 
3528 <span class="comment">% Hints: get(hObject,'String') returns contents of AxisObj4 as text</span>
3529 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxisObj4 as a double</span>
3530 
3531 
3532 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3533 <a name="_sub179" href="#_subfunctions" class="code">function AxisObj4_CreateFcn(hObject, eventdata, handles)</a>
3534 <span class="comment">% hObject    handle to AxisObj4 (see GCBO)</span>
3535 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3536 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3537 
3538 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3539 <span class="comment">%       See ISPC and COMPUTER.</span>
3540 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3541     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3542 <span class="keyword">end</span>
3543 
3544 
3545 
3546 <a name="_sub180" href="#_subfunctions" class="code">function AxisObj9_Callback(hObject, eventdata, handles)</a>
3547 <span class="comment">% hObject    handle to AxisObj9 (see GCBO)</span>
3548 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3549 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3550 
3551 <span class="comment">% Hints: get(hObject,'String') returns contents of AxisObj9 as text</span>
3552 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxisObj9 as a double</span>
3553 
3554 
3555 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3556 <a name="_sub181" href="#_subfunctions" class="code">function AxisObj9_CreateFcn(hObject, eventdata, handles)</a>
3557 <span class="comment">% hObject    handle to AxisObj9 (see GCBO)</span>
3558 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3559 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3560 
3561 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3562 <span class="comment">%       See ISPC and COMPUTER.</span>
3563 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3564     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3565 <span class="keyword">end</span>
3566 
3567 
3568 
3569 <a name="_sub182" href="#_subfunctions" class="code">function AxisObj2_Callback(hObject, eventdata, handles)</a>
3570 <span class="comment">% hObject    handle to AxisObj2 (see GCBO)</span>
3571 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3572 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3573 
3574 <span class="comment">% Hints: get(hObject,'String') returns contents of AxisObj2 as text</span>
3575 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxisObj2 as a double</span>
3576 
3577 
3578 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3579 <a name="_sub183" href="#_subfunctions" class="code">function AxisObj2_CreateFcn(hObject, eventdata, handles)</a>
3580 <span class="comment">% hObject    handle to AxisObj2 (see GCBO)</span>
3581 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3582 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3583 
3584 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3585 <span class="comment">%       See ISPC and COMPUTER.</span>
3586 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3587     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3588 <span class="keyword">end</span>
3589 
3590 
3591 
3592 <a name="_sub184" href="#_subfunctions" class="code">function AxisObj6_Callback(hObject, eventdata, handles)</a>
3593 <span class="comment">% hObject    handle to AxisObj6 (see GCBO)</span>
3594 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3595 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3596 
3597 <span class="comment">% Hints: get(hObject,'String') returns contents of AxisObj6 as text</span>
3598 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxisObj6 as a double</span>
3599 
3600 
3601 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3602 <a name="_sub185" href="#_subfunctions" class="code">function AxisObj6_CreateFcn(hObject, eventdata, handles)</a>
3603 <span class="comment">% hObject    handle to AxisObj6 (see GCBO)</span>
3604 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3605 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3606 
3607 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3608 <span class="comment">%       See ISPC and COMPUTER.</span>
3609 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3610     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3611 <span class="keyword">end</span>
3612 
3613 
3614 
3615 <a name="_sub186" href="#_subfunctions" class="code">function AxisObj10_Callback(hObject, eventdata, handles)</a>
3616 <span class="comment">% hObject    handle to AxisObj10 (see GCBO)</span>
3617 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3618 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3619 
3620 <span class="comment">% Hints: get(hObject,'String') returns contents of AxisObj10 as text</span>
3621 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxisObj10 as a double</span>
3622 
3623 
3624 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3625 <a name="_sub187" href="#_subfunctions" class="code">function AxisObj10_CreateFcn(hObject, eventdata, handles)</a>
3626 <span class="comment">% hObject    handle to AxisObj10 (see GCBO)</span>
3627 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3628 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3629 
3630 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3631 <span class="comment">%       See ISPC and COMPUTER.</span>
3632 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3633     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3634 <span class="keyword">end</span>
3635 
3636 
3637 
3638 <a name="_sub188" href="#_subfunctions" class="code">function AxisObj3_Callback(hObject, eventdata, handles)</a>
3639 <span class="comment">% hObject    handle to AxisObj3 (see GCBO)</span>
3640 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3641 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3642 
3643 <span class="comment">% Hints: get(hObject,'String') returns contents of AxisObj3 as text</span>
3644 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxisObj3 as a double</span>
3645 
3646 
3647 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3648 <a name="_sub189" href="#_subfunctions" class="code">function AxisObj3_CreateFcn(hObject, eventdata, handles)</a>
3649 <span class="comment">% hObject    handle to AxisObj3 (see GCBO)</span>
3650 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3651 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3652 
3653 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3654 <span class="comment">%       See ISPC and COMPUTER.</span>
3655 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3656     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3657 <span class="keyword">end</span>
3658 
3659 
3660 
3661 <a name="_sub190" href="#_subfunctions" class="code">function AxisObj7_Callback(hObject, eventdata, handles)</a>
3662 <span class="comment">% hObject    handle to AxisObj7 (see GCBO)</span>
3663 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3664 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3665 
3666 <span class="comment">% Hints: get(hObject,'String') returns contents of AxisObj7 as text</span>
3667 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxisObj7 as a double</span>
3668 
3669 
3670 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3671 <a name="_sub191" href="#_subfunctions" class="code">function AxisObj7_CreateFcn(hObject, eventdata, handles)</a>
3672 <span class="comment">% hObject    handle to AxisObj7 (see GCBO)</span>
3673 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3674 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3675 
3676 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3677 <span class="comment">%       See ISPC and COMPUTER.</span>
3678 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3679     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3680 <span class="keyword">end</span>
3681 
3682 
3683 
3684 <a name="_sub192" href="#_subfunctions" class="code">function AxisObj11_Callback(hObject, eventdata, handles)</a>
3685 <span class="comment">% hObject    handle to AxisObj11 (see GCBO)</span>
3686 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3687 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3688 
3689 <span class="comment">% Hints: get(hObject,'String') returns contents of AxisObj11 as text</span>
3690 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxisObj11 as a double</span>
3691 
3692 
3693 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3694 <a name="_sub193" href="#_subfunctions" class="code">function AxisObj11_CreateFcn(hObject, eventdata, handles)</a>
3695 <span class="comment">% hObject    handle to AxisObj11 (see GCBO)</span>
3696 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3697 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3698 
3699 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3700 <span class="comment">%       See ISPC and COMPUTER.</span>
3701 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3702     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3703 <span class="keyword">end</span>
3704 
3705 
3706 
3707 <a name="_sub194" href="#_subfunctions" class="code">function edit59_Callback(hObject, eventdata, handles)</a>
3708 <span class="comment">% hObject    handle to edit59 (see GCBO)</span>
3709 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3710 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3711 
3712 <span class="comment">% Hints: get(hObject,'String') returns contents of edit59 as text</span>
3713 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit59 as a double</span>
3714 
3715 
3716 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3717 <a name="_sub195" href="#_subfunctions" class="code">function edit59_CreateFcn(hObject, eventdata, handles)</a>
3718 <span class="comment">% hObject    handle to edit59 (see GCBO)</span>
3719 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3720 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3721 
3722 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3723 <span class="comment">%       See ISPC and COMPUTER.</span>
3724 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3725     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3726 <span class="keyword">end</span>
3727 
3728 
3729 
3730 <a name="_sub196" href="#_subfunctions" class="code">function AxisObj8_Callback(hObject, eventdata, handles)</a>
3731 <span class="comment">% hObject    handle to AxisObj8 (see GCBO)</span>
3732 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3733 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3734 
3735 <span class="comment">% Hints: get(hObject,'String') returns contents of AxisObj8 as text</span>
3736 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxisObj8 as a double</span>
3737 
3738 
3739 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3740 <a name="_sub197" href="#_subfunctions" class="code">function AxisObj8_CreateFcn(hObject, eventdata, handles)</a>
3741 <span class="comment">% hObject    handle to AxisObj8 (see GCBO)</span>
3742 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3743 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3744 
3745 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3746 <span class="comment">%       See ISPC and COMPUTER.</span>
3747 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3748     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3749 <span class="keyword">end</span>
3750 
3751 
3752 
3753 <a name="_sub198" href="#_subfunctions" class="code">function AxisObj12_Callback(hObject, eventdata, handles)</a>
3754 <span class="comment">% hObject    handle to AxisObj12 (see GCBO)</span>
3755 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3756 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3757 
3758 <span class="comment">% Hints: get(hObject,'String') returns contents of AxisObj12 as text</span>
3759 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxisObj12 as a double</span>
3760 
3761 
3762 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3763 <a name="_sub199" href="#_subfunctions" class="code">function AxisObj12_CreateFcn(hObject, eventdata, handles)</a>
3764 <span class="comment">% hObject    handle to AxisObj12 (see GCBO)</span>
3765 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3766 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3767 
3768 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3769 <span class="comment">%       See ISPC and COMPUTER.</span>
3770 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3771     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3772 <span class="keyword">end</span>
3773 
3774 
3775 
3776 <a name="_sub200" href="#_subfunctions" class="code">function AxisObj5_Callback(hObject, eventdata, handles)</a>
3777 <span class="comment">% hObject    handle to AxisObj5 (see GCBO)</span>
3778 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3779 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3780 
3781 <span class="comment">% Hints: get(hObject,'String') returns contents of AxisObj5 as text</span>
3782 <span class="comment">%        str2double(get(hObject,'String')) returns contents of AxisObj5 as a double</span>
3783 
3784 
3785 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3786 <a name="_sub201" href="#_subfunctions" class="code">function AxisObj5_CreateFcn(hObject, eventdata, handles)</a>
3787 <span class="comment">% hObject    handle to AxisObj5 (see GCBO)</span>
3788 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3789 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3790 
3791 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
3792 <span class="comment">%       See ISPC and COMPUTER.</span>
3793 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
3794     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
3795 <span class="keyword">end</span>
3796 
3797 
3798 <span class="comment">% --------------------------------------------------------------------</span>
3799 <a name="_sub202" href="#_subfunctions" class="code">function ShowAllObjWin_Callback(hObject, eventdata, handles)</a>
3800 <span class="comment">% hObject    handle to ShowAllObjWin (see GCBO)</span>
3801 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3802 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3803 
3804 CurrentEditWindows=handles.EditWindows;
3805 
3806 <span class="keyword">if</span> strcmp(get(hObject,<span class="string">'checked'</span>),<span class="string">'off'</span>)
3807     set(hObject,<span class="string">'checked'</span>,<span class="string">'on'</span>);
3808     <span class="keyword">for</span> TemporaryVariable=1:handles.NumberOfAxes
3809     <a href="../XeX/UtilityFunctions/handlingGraphics/makeVisible.html" class="code" title="function makeVisible(handleObjects)">makeVisible</a>(CurrentEditWindows(TemporaryVariable));
3810     <span class="keyword">end</span>
3811     
3812 <span class="keyword">else</span> set(hObject,<span class="string">'checked'</span>,<span class="string">'off'</span>);
3813     <span class="keyword">for</span> TemporaryVariable=1:handles.NumberOfAxes
3814     <a href="../XeX/UtilityFunctions/handlingGraphics/makeInvisible.html" class="code" title="function makeInvisible(handleObjects)">makeInvisible</a>(CurrentEditWindows(TemporaryVariable));
3815     <span class="keyword">end</span>
3816     
3817 <span class="keyword">end</span>
3818 
3819 guidata(hObject,handles);
3820 
3821 
3822 
3823 <span class="comment">% --------------------------------------------------------------------</span>
3824 <a name="_sub203" href="#_subfunctions" class="code">function MakeLinkable_Callback(hObject, eventdata, handles)</a>
3825 <span class="comment">% hObject    handle to MakeLinkable (see GCBO)</span>
3826 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3827 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3828 
3829 
3830 <span class="comment">% --------------------------------------------------------------------</span>
3831 <a name="_sub204" href="#_subfunctions" class="code">function LinkAxis_Callback(hObject, eventdata, handles)</a>
3832 <span class="comment">% hObject    handle to LinkAxis (see GCBO)</span>
3833 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3834 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3835 
3836 AxesList=handles.HandlesList;
3837 AxisNum=find(gca==AxesList);
3838 
3839 eval([<span class="string">'CurrentLinkState=get(handles.AxisLinkText'</span> num2str(AxisNum) <span class="string">',''visible'');'</span>]);
3840 
3841 <span class="keyword">if</span> strcmp(CurrentLinkState,<span class="string">'off'</span>)
3842     
3843 setappdata(gca,<span class="string">'NumClicks'</span>,1);
3844 set(gca,<span class="string">'buttondownfcn'</span>,<span class="string">'LinkHandle'</span>);
3845 hold on;
3846 set(gca,<span class="string">'xgrid'</span>,<span class="string">'on'</span>,<span class="string">'ygrid'</span>,<span class="string">'on'</span>);
3847 eval([<span class="string">'makeVisible(handles.AxisLinkText'</span> num2str(AxisNum) <span class="string">');'</span>]);
3848 
3849 <span class="keyword">else</span>
3850 
3851     ToDel=getappdata(handles.HandlesList(AxisNum),<span class="string">'CurrentPointPlots'</span>);
3852 delete(ToDel);
3853 ToDel=getappdata(handles.HandlesList(AxisNum),<span class="string">'CurrentRect'</span>);
3854 delete(ToDel);
3855 
3856 <a href="../XeX/UtilityFunctions/handlingGraphics/UnlinkTheseAxes.html" class="code" title="">UnlinkTheseAxes</a>;
3857 
3858 <span class="keyword">end</span>
3859 
3860 <span class="comment">% % --------------------------------------------------------------------</span>
3861 <span class="comment">% function UnlinkAxis_Callback(hObject, eventdata, handles)</span>
3862 <span class="comment">% % hObject    handle to UnlinkAxis (see GCBO)</span>
3863 <span class="comment">% % eventdata  reserved - to be defined in a future version of MATLAB</span>
3864 <span class="comment">% % handles    structure with handles and user data (see GUIDATA)</span>
3865 <span class="comment">%</span>
3866 <span class="comment">% AxesList=handles.HandlesList;</span>
3867 <span class="comment">% AxisNum=find(gca==AxesList);</span>
3868 <span class="comment">%</span>
3869 <span class="comment">% ToDel=getappdata(handles.HandlesList(AxisNum),'CurrentPointPlots');</span>
3870 <span class="comment">% delete(ToDel);</span>
3871 <span class="comment">% ToDel=getappdata(handles.HandlesList(AxisNum),'CurrentRect');</span>
3872 <span class="comment">% delete(ToDel);</span>
3873 <span class="comment">%</span>
3874 <span class="comment">% UnlinkTheseAxes;</span>
3875 <span class="comment">%</span>
3876 <span class="comment">% % set(gca,'buttondownfcn','');</span>
3877 <span class="comment">% % setappdata(gca,'NumClicks',1);</span>
3878 <span class="comment">%</span>
3879 
3880 
3881 <span class="comment">% --- Executes on button press in ReverseXY.</span>
3882 <a name="_sub205" href="#_subfunctions" class="code">function ReverseXY_Callback(hObject, eventdata, handles)</a>
3883 <span class="comment">% hObject    handle to ReverseXY (see GCBO)</span>
3884 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3885 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3886 
3887 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of ReverseXY</span>
3888 
3889 
3890 
3891 
3892 <span class="comment">% --------------------------------------------------------------------</span>
3893 <a name="_sub206" href="#_subfunctions" class="code">function Documentation_Callback(hObject, eventdata, handles)</a>
3894 <span class="comment">% hObject    handle to Documentation (see GCBO)</span>
3895 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3896 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
3897 
3898 web(<span class="string">'C:/MATLAB/work/XeX/XeXDocumentation/index.html'</span>);
3899 
3900 
3901 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
3902 <a name="_sub207" href="#_subfunctions" class="code">function DelTrials_CreateFcn(hObject, eventdata, handles)</a>
3903 <span class="comment">% hObject    handle to DelTrials (see GCBO)</span>
3904 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
3905 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
3906 
3907</pre></div>
<hr><address>Generated on Wed 13-Dec-2006 00:06:54 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2003</address>
</body>
</html>