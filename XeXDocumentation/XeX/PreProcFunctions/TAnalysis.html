<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of TAnalysis</title>
  <meta name="keywords" content="TAnalysis">
  <meta name="description" content="This function analyzes data from the 2-T paradigm">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html XeX --><!-- menu.html PreProcFunctions -->
<h1>TAnalysis
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>This function analyzes data from the 2-T paradigm</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function CurrentVariables=TAnalysis(Trials,klugestring,UseAx,SacOpts) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">    This function analyzes data from the 2-T paradigm
    CurrentVariables=TAnalysis(Trials,klugestring,UseAx,SacOpts)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../XeX/UtilityFunctions/assorted/attachvars.html" class="code" title="">attachvars</a>	This script evaluates what variables are present in the calling</li><li><a href="../../XeX/UtilityFunctions/assorted/un.html" class="code" title="function X1=un(X)">un</a>	This function takes in a vector (or a matrix) , and returns unique values (or rows). NaNs (and rows with NaNs) are removed.</li><li><a href="../../XeX/UtilityFunctions/gettingAndsettingParameters/DiscretizeMe.html" class="code" title="function DiscretizedX=DiscretizeMe(X,CenterVector)">DiscretizeMe</a>	this function takes in a vector and discretizes it, by finding the closest</li><li><a href="../../XeX/UtilityFunctions/main/SacFind.html" class="code" title="function [Saccades,FiltX,FiltY]=SacFind(Trial,CorrectCode,MinISI,MinLat,PlotVar,FigNum,Threshold,Ax)">SacFind</a>	The main XeX saccade parser</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function CurrentVariables=TAnalysis(Trials,klugestring,UseAx,SacOpts)</a>
0002 
0003 <span class="comment">%    This function analyzes data from the 2-T paradigm</span>
0004 <span class="comment">%    CurrentVariables=TAnalysis(Trials,klugestring,UseAx,SacOpts)</span>
0005 
0006 <span class="comment">%Initializing Variables</span>
0007 
0008 ArrayNumber=nan*ones(1,length(Trials));
0009 GoodTrial=ArrayNumber;
0010 BadTrial=ArrayNumber;
0011 PhotoBad=ArrayNumber;
0012 TrialNumber=1:length(Trials);
0013 MarkerCode=ArrayNumber;
0014 
0015 AbortTrial=ArrayNumber;
0016 FixationBreak=ArrayNumber;
0017 
0018 RewardTime=ArrayNumber;
0019 ErrorTime=ArrayNumber;
0020 FPTime=ArrayNumber;
0021 RFOnTime=ArrayNumber;
0022 RFOffTime=ArrayNumber;
0023 RFx=ArrayNumber;
0024 RFy=ArrayNumber;
0025 RFPat=ArrayNumber;
0026 RFChecksize=ArrayNumber;
0027 RFTrialIndex=ArrayNumber;
0028 NumRFs=ArrayNumber;
0029 
0030 FPx=RFx;
0031 FPy=RFy;
0032 
0033 RFx2=RFx;
0034 RFy2=RFy;
0035 
0036 RF2x=RFx;
0037 RF2y=RFy;
0038 RF2Pat=RFPat;
0039 RF2Checksize=RFChecksize;
0040 RF2OnTime=RFOnTime;
0041 RF2OffTime=RFOffTime;
0042 SOA=RFx;
0043 
0044 GapTime=ArrayNumber;
0045 GoodBarError=ArrayNumber;
0046 
0047 NumSaccades=ArrayNumber;
0048 SaccadeAmplitude=ArrayNumber;
0049 
0050 ReactionTime=ArrayNumber;
0051 
0052 ArrayBak=[];
0053 
0054 MyVariableList={<span class="string">'ArrayNumber'</span>,<span class="string">'GoodTrial'</span>,<span class="string">'BadTrial'</span>,<span class="string">'PhotoBad'</span>,<span class="string">'TrialNumber'</span>,<span class="string">'AbortTrial'</span>,<span class="string">'FixationBreak'</span>,<span class="string">'RewardTime'</span>,<span class="string">'ErrorTime'</span>,<span class="string">'FPTime'</span>,<span class="string">'RFOnTime'</span>,<span class="string">'RFOffTime'</span>,<span class="string">'SOA'</span>,<span class="string">'dSOA'</span>,<span class="string">'RFx'</span>,<span class="string">'RFy'</span>,<span class="string">'RFPat'</span>,<span class="string">'RFTrialIndex'</span>,<span class="string">'GapTime'</span>,<span class="string">'GoodBarError'</span>,<span class="string">'NumSaccades'</span>,<span class="string">'SaccadeAmplitude'</span>,<span class="keyword">...</span>
0055     <span class="string">'ReactionTime'</span>,<span class="string">'RFGood'</span>,<span class="string">'TrueGood'</span>,<span class="string">'NumRFs'</span>,<span class="string">'TargetDistractorDistance'</span>,<span class="string">'CueTargetDistance'</span>};
0056 MyResponseVariableList={<span class="string">'ReactionTime'</span>,<span class="string">'GoodTrial'</span>,<span class="string">'BadTrial'</span>,<span class="string">'TrueGood'</span>};
0057 
0058 
0059  <span class="keyword">for</span> TrialIndex=1:length(Trials)
0060     
0061     CurrentEvents=Trials(TrialIndex).Events;
0062     CurrentCodes=double([CurrentEvents.Code]);
0063     CurrentTimes=double([CurrentEvents.Time]);
0064 <span class="comment">%     fprintf('%d\n',TrialIndex);</span>
0065     
0066     RFTrialIndex(TrialIndex)=TrialIndex;
0067     
0068     is_reward=find(CurrentCodes==1012);
0069     is_error=find(CurrentCodes==1013);
0070     is_fp=find(CurrentCodes==1003);
0071     is_rf=find(CurrentCodes==1007);
0072     is_rf2=find(CurrentCodes==1047);
0073     is_rfoff=find(CurrentCodes==1010);
0074     is_rf2off=find(CurrentCodes==1040);
0075     is_photobad=find(CurrentCodes==1092);
0076     is_abort=find(CurrentCodes==1090);
0077     is_fixationbreak=find(CurrentCodes==1091);
0078     is_gap=find(CurrentCodes==1004);
0079     
0080 <span class="comment">%     NumRFs(TrialIndex)=length((is_rf));</span>
0081     
0082     <span class="keyword">if</span> ~isempty(is_reward), GoodTrial(TrialIndex)=1;
0083     RewardTime(TrialIndex)=CurrentTimes(is_reward(1));
0084     <span class="keyword">elseif</span> ~isempty(is_error),
0085     ErrorTime(TrialIndex)=CurrentTimes(is_error(1));
0086     <span class="keyword">end</span>
0087 
0088     <span class="keyword">if</span> ~isempty(is_fp), FPTime(TrialIndex)=CurrentTimes(is_fp(1));<span class="keyword">end</span>
0089                    
0090     <span class="keyword">if</span> ~isempty(is_fp)
0091         EarlyDrops=find(CurrentCodes&gt;=10700);
0092         <span class="keyword">if</span> length(EarlyDrops)&gt;=4
0093                            MarkerCode(TrialIndex)=CurrentCodes(EarlyDrops(1))-11000;
0094         FPx(TrialIndex)=(CurrentCodes(EarlyDrops(3))-11000)/10;
0095         FPy(TrialIndex)=(CurrentCodes(EarlyDrops(4))-11000)/10;
0096         <span class="keyword">end</span>
0097     <span class="keyword">end</span>
0098     
0099     <span class="keyword">if</span> ~isempty(is_photobad), PhotoBad(TrialIndex)=1;<span class="keyword">end</span>
0100     <span class="keyword">if</span> ~isempty(is_abort) AbortTrial(TrialIndex)=1;<span class="keyword">end</span>
0101     <span class="keyword">if</span> ~isempty(is_fixationbreak) FixationBreak(TrialIndex)=1;<span class="keyword">end</span>
0102     
0103     <span class="keyword">if</span> ~isempty(is_rf), RFOnTime(TrialIndex)=CurrentTimes(is_rf(1));
0104      
0105         FindResult=find(CurrentCodes&gt;=10000 &amp; (CurrentTimes-RFOnTime(TrialIndex))==0 );
0106           <span class="keyword">if</span> length(FindResult)&gt;=1
0107               RFChecksize(TrialIndex)=nanmin(CurrentCodes(FindResult)-10000); <span class="keyword">end</span>  
0108     
0109           SacStruct=<a href="../../XeX/UtilityFunctions/main/SacFind.html" class="code" title="function [Saccades,FiltX,FiltY]=SacFind(Trial,CorrectCode,MinISI,MinLat,PlotVar,FigNum,Threshold,Ax)">SacFind</a>(Trials((TrialIndex)),1007,0,0);
0110     SacAmps=[SacStruct.amplitude];
0111     <span class="keyword">if</span> isnan(SacStruct(1).latency) NumSaccades(TrialIndex)=0;<span class="keyword">else</span>
0112         NumSaccades(TrialIndex)=length(find(SacAmps&gt;5));
0113 <span class="keyword">if</span> ~isempty(SacAmps) &amp;&amp; length(find(~isnan(SacAmps)))~=0,        SaccadeAmplitude(TrialIndex)=nanmax(SacAmps); <span class="keyword">end</span>
0114     <span class="keyword">end</span>  <span class="comment">% ending the sacccade analysis loop</span>
0115    
0116     <span class="keyword">end</span> <span class="comment">%ending the if ~isempty(is_rf) loop</span>
0117 
0118    <span class="keyword">if</span> ~isempty(is_rfoff)
0119     RFOffTime(TrialIndex)=CurrentTimes(is_rfoff(1));
0120 <span class="keyword">end</span>
0121     
0122 <span class="comment">%finding rf properties</span>
0123 
0124 TemporaryIndex=1:length(CurrentCodes);
0125 TemporaryLocation=NaN;
0126 <span class="keyword">if</span> ~isnan(RFOnTime(TrialIndex))
0127 TemporaryVariable=find(CurrentTimes&gt;=RFOnTime(TrialIndex)&amp;(CurrentCodes==7029|CurrentCodes==7028));    <span class="comment">%assumes 28 and 29 for up-T and down-T</span>
0128 <span class="keyword">if</span> ~isempty(TemporaryVariable), RFPat(TrialIndex)=CurrentCodes(TemporaryVariable(1))-7000;
0129 TemporaryLocation=TemporaryVariable(1);
0130 <span class="keyword">end</span>
0131 
0132         TemporaryVariable=find(abs(CurrentTimes-RFOnTime(TrialIndex))&lt;5 &amp; CurrentCodes&lt;=6850&amp;CurrentCodes&gt;=5650&amp;TemporaryIndex&gt;TemporaryLocation);
0133 
0134 <span class="comment">% TemporaryVariable=find(CurrentTimes&gt;=RFOnTime(TrialIndex)&amp;CurrentCodes&lt;6250&amp;CurrentCodes&gt;=5750&amp;TemporaryIndex&gt;TemporaryLocation);</span>
0135 <span class="comment">% if ~isempty(TemporaryVariable),</span>
0136 <span class="keyword">if</span> length(TemporaryVariable)&gt;=2
0137     RFx(TrialIndex)=(CurrentCodes(TemporaryVariable(1))-6000)/10;<span class="comment">%end</span>
0138 <span class="comment">% TemporaryVariable=find(CurrentTimes&gt;=RFOnTime(TrialIndex)&amp;CurrentCodes&gt;6250&amp;CurrentCodes&lt;=6750&amp;TemporaryIndex&gt;TemporaryLocation);</span>
0139 <span class="comment">% if ~isempty(TemporaryVariable),</span>
0140     RFy(TrialIndex)=(CurrentCodes(TemporaryVariable(2))-6500)/10;<span class="keyword">end</span>
0141 
0142 <span class="keyword">end</span>
0143 
0144 <span class="comment">%finding second rf properties</span>
0145 TemporaryIndex=1:length(CurrentCodes);
0146 TemporaryLocation=NaN;
0147 <span class="keyword">if</span> ~isnan(RFOnTime(TrialIndex))
0148 TemporaryVariable=find(CurrentTimes&gt;=RFOnTime(TrialIndex)&amp;CurrentCodes==7040);    <span class="comment">%assumes 40 for distractor</span>
0149 <span class="keyword">if</span> ~isempty(TemporaryVariable), 
0150 TemporaryLocation=TemporaryVariable(1);
0151 <span class="keyword">end</span>
0152 
0153         TemporaryVariable=find(abs(CurrentTimes-RFOnTime(TrialIndex))&lt;5 &amp; CurrentCodes&lt;=6850&amp;CurrentCodes&gt;=5650&amp;TemporaryIndex&gt;TemporaryLocation);
0154 
0155 <span class="comment">% TemporaryVariable=find(CurrentTimes&gt;=RFOnTime(TrialIndex)&amp;CurrentCodes&lt;6250&amp;CurrentCodes&gt;=5750&amp;TemporaryIndex&gt;TemporaryLocation);</span>
0156 <span class="comment">% if ~isempty(TemporaryVariable),</span>
0157 <span class="keyword">if</span> length(TemporaryVariable)&gt;=2
0158     RFx2(TrialIndex)=(CurrentCodes(TemporaryVariable(1))-6000)/10;<span class="comment">%end</span>
0159 <span class="comment">% TemporaryVariable=find(CurrentTimes&gt;=RFOnTime(TrialIndex)&amp;CurrentCodes&gt;6250&amp;CurrentCodes&lt;=6750&amp;TemporaryIndex&gt;TemporaryLocation);</span>
0160 <span class="comment">% if ~isempty(TemporaryVariable),</span>
0161     RFy2(TrialIndex)=(CurrentCodes(TemporaryVariable(2))-6500)/10;<span class="keyword">end</span>
0162 
0163 <span class="keyword">end</span>
0164 
0165 <span class="comment">%**************************</span>
0166 
0167 <span class="keyword">if</span> ~isempty(is_gap), GapTime(TrialIndex)=CurrentTimes(is_gap(1));<span class="keyword">end</span>
0168 
0169 <span class="keyword">if</span> ~isempty(is_rf) &amp; GoodTrial(TrialIndex)~=1 &amp; AbortTrial(TrialIndex)~=1 &amp; FixationBreak(TrialIndex)~=1
0170     <span class="keyword">if</span> ~isempty(is_error), BadTrial(TrialIndex)=1; 
0171     HowManyBars=find((CurrentCodes==11001|CurrentCodes==11002)&amp;CurrentTimes&gt;RFOnTime(TrialIndex));
0172     <span class="keyword">if</span> length(HowManyBars)==1, GoodBarError(TrialIndex)=1; <span class="keyword">else</span> GoodBarError(TrialIndex)=length(HowManyBars);<span class="keyword">end</span>
0173     <span class="keyword">else</span> BadTrial(TrialIndex)=2;<span class="keyword">end</span>
0174 <span class="keyword">end</span>
0175 
0176 <span class="comment">%doing some rf2 calculations</span>
0177 
0178  <span class="keyword">if</span> ~isempty(is_rf2), RF2OnTime(TrialIndex)=CurrentTimes(is_rf2(1));
0179         
0180       FindResult=find(CurrentCodes&gt;=5700 &amp; CurrentCodes&lt;=6800 &amp; (CurrentTimes-RF2OnTime(TrialIndex))&gt;=0 &amp; (CurrentTimes-RF2OnTime(TrialIndex))&lt;=50 ); <span class="comment">%Within 50 ms of RF2On, max abs coords of 300</span>
0181         <span class="keyword">if</span> length(FindResult)&gt;=2
0182             RF2x(TrialIndex)=(CurrentCodes(FindResult(1))-6000)/10;
0183             RF2y(TrialIndex)=(CurrentCodes(FindResult(2))-6500)/10;
0184         <span class="keyword">end</span>     
0185    
0186          FindResult=find(CurrentCodes&gt;=10000 &amp; (CurrentTimes-RF2OnTime(TrialIndex))&gt;=0 &amp; (CurrentTimes-RF2OnTime(TrialIndex))&lt;=50 ); <span class="comment">%Within 50 ms of RFOn</span>
0187           <span class="keyword">if</span> length(FindResult)&gt;=1
0188               RF2Checksize(TrialIndex)=nanmin(CurrentCodes(FindResult)-10000); 
0189           <span class="keyword">end</span>  
0190 
0191         FindResult=find(CurrentCodes&gt;=7000 &amp; (CurrentTimes-RF2OnTime(TrialIndex))&gt;=0 &amp; (CurrentTimes-RF2OnTime(TrialIndex))&lt;=50 ); <span class="comment">%Within 50 ms of RFOn</span>
0192         <span class="keyword">if</span> length(FindResult)&gt;=1
0193             RF2Pat(TrialIndex)=CurrentCodes(FindResult(1))-7000;
0194         <span class="keyword">end</span>
0195  
0196         <span class="keyword">if</span> ~isempty(is_rf2off), RF2OffTime(TrialIndex)=CurrentTimes(is_rf2off(1));<span class="keyword">end</span>
0197  
0198  <span class="keyword">end</span> <span class="comment">%ending the if ~isempty(is_rf2) loop</span>
0199     
0200     <span class="comment">%a little fiddling to take care of oCurrentCodesasions where rex doenst drop an arrya code. details.</span>
0201     <span class="comment">% Verify this IMP</span>
0202     
0203     TemporaryArrayNumber=find(CurrentCodes&gt;=2000&amp;CurrentCodes&lt;=2060);
0204     <span class="keyword">if</span> ~isempty(TemporaryArrayNumber)
0205         <span class="keyword">if</span> length(TemporaryArrayNumber)==1 ArrayNumber(TrialIndex)=CurrentCodes(TemporaryArrayNumber)-2000; ArrayBak=[];
0206         <span class="keyword">elseif</span> length(TemporaryArrayNumber)==2 ArrayNumber(TrialIndex)=CurrentCodes(TemporaryArrayNumber(1))-2000; ArrayBak=CurrentCodes(TemporaryArrayNumber(2))-2000;
0207         <span class="keyword">else</span> ArrayNumber(TrialIndex)=-1; ArrayBak=[];
0208         <span class="keyword">end</span>
0209     <span class="keyword">elseif</span> ~isempty(ArrayBak) ArrayNumber(TrialIndex)=ArrayBak; ArrayBak=[];
0210     <span class="keyword">end</span>
0211     
0212  <span class="keyword">end</span>
0213 
0214 SOA=RFOnTime-RF2OnTime;
0215 dSOA=<a href="../../XeX/UtilityFunctions/gettingAndsettingParameters/DiscretizeMe.html" class="code" title="function DiscretizedX=DiscretizeMe(X,CenterVector)">DiscretizeMe</a>(SOA,100:100:300);
0216 dSOA(isnan(RF2OnTime))=0;
0217 
0218  
0219 <span class="keyword">if</span> length(<a href="../../XeX/UtilityFunctions/assorted/un.html" class="code" title="function X1=un(X)">un</a>(GoodBarError))==1 &amp;&amp; <a href="../../XeX/UtilityFunctions/assorted/un.html" class="code" title="function X1=un(X)">un</a>(GoodBarError)==0, <span class="keyword">else</span>
0220 BadTrial(GoodBarError~=1&amp;BadTrial==1)=-1;
0221 <span class="keyword">end</span>
0222 
0223 ReactionTime(GoodTrial==1)=RewardTime(GoodTrial==1)-RFOnTime(GoodTrial==1); <span class="comment">%kluge</span>
0224 ReactionTime(BadTrial==1)=ErrorTime(BadTrial==1)-RFOnTime(BadTrial==1);
0225 
0226 <span class="comment">% RFGood=(RFOffTime-RFOnTime)&lt;45 &amp; (RFOffTime-RFOnTime)&gt;20;</span>
0227 TrueGood=nan*GoodTrial;
0228 RFDuration=RFOffTime-RFOnTime;
0229 RFGood=RFDuration&lt;60;
0230 
0231 <span class="keyword">if</span> ~exist(<span class="string">'klugestring'</span>,<span class="string">'var'</span>) | (exist(<span class="string">'klugestring'</span>,<span class="string">'var'</span>)  &amp; isempty(strfind(klugestring,<span class="string">'z050808'</span>)))
0232 
0233  TrueGood(BadTrial==1&amp;RFGood==1&amp;PhotoBad~=1)=0;
0234  TrueGood(GoodTrial==1&amp;RFGood==1&amp;PhotoBad~=1)=1;
0235 <span class="keyword">else</span>
0236 fprintf(<span class="string">'%s\n'</span>,[<span class="string">'Kluging for cell      '</span> klugestring]);
0237  TrueGood(BadTrial==1)=0;
0238  TrueGood(GoodTrial==1)=1;
0239 <span class="keyword">end</span>
0240 
0241 TargetDistractorDistance=sqrt((RFx2-RFx).^2+(RFy2-RFy).^2); 
0242 CueTargetDistance=sqrt((RF2x-RFx).^2+(RF2y-RFy).^2); 
0243 
0244  
0245  <span class="comment">%Now printing out details of analysis</span>
0246  
0247 summaryString=  sprintf(<span class="string">'%s\n'</span>,<span class="string">'******************************************************************'</span>);
0248 summaryString=[summaryString sprintf(<span class="string">'%s\n'</span>,[num2str(length(Trials)) <span class="string">'  trials'</span>])];
0249 summaryString=[summaryString sprintf(<span class="string">'%s\n'</span>,[num2str(length(find(GoodTrial==1))) <span class="string">'  Good Trials'</span>])];
0250 summaryString=[summaryString sprintf(<span class="string">'%s\n'</span>,[num2str(length(find(BadTrial==1))),<span class="string">'  Bad Trials'</span>])];
0251  summaryString=[summaryString sprintf(<span class="string">'%s\n'</span>,[num2str(100*(length(find(GoodTrial==1)))/length(find(GoodTrial==1|BadTrial==1)),<span class="string">'%3.2f'</span>) <span class="string">'  % correct'</span>])];
0252  summaryString=[summaryString sprintf(<span class="string">'%s\n'</span>,<span class="string">'******************************************************************'</span>)];
0253  RFmat=[RFx;RFy]';
0254  RFmat=RFmat(~isnan(RFmat(:,1)),:);
0255  RFmat=unique(RFmat,<span class="string">'rows'</span>);
0256  summaryString=[summaryString sprintf(<span class="string">'%s\n'</span>,<span class="string">'RFx        RFy'</span>)];
0257  
0258  <span class="keyword">for</span> printIndex=1:size(RFmat,1)
0259      summaryString=[summaryString sprintf(<span class="string">'%3.1f\t%3.1f\t'</span>,RFmat(printIndex,1),RFmat(printIndex,2))];
0260       summaryString=[summaryString sprintf(<span class="string">'%s\t'</span>,[num2str(100*(length(find(GoodTrial==1&amp;RFx==RFmat(printIndex,1)&amp;RFy==RFmat(printIndex,2)))) / length(find((GoodTrial==1|BadTrial==1) &amp; RFx==RFmat(printIndex,1) &amp; RFy==RFmat(printIndex,2))) ,<span class="string">'%3.2f'</span>)  <span class="string">' % correct'</span>])];
0261 summaryString=[summaryString sprintf(<span class="string">'%s\t'</span>,<span class="string">'T-trials  '</span>)];
0262  summaryString=[summaryString sprintf(<span class="string">'%s\t'</span>,[num2str(100*(length(find(GoodTrial==1&amp;RFPat==29&amp;RFx==RFmat(printIndex,1)&amp;RFy==RFmat(printIndex,2)))) / length(find((GoodTrial==1|BadTrial==1) &amp; RFPat==29&amp;RFx==RFmat(printIndex,1) &amp; RFy==RFmat(printIndex,2))) ,<span class="string">'%3.2f'</span>)  <span class="string">' % correct'</span>])];
0263   summaryString=[summaryString sprintf(<span class="string">'%s\t'</span>,<span class="string">'Inverted T trials'</span>)];
0264  summaryString=[summaryString sprintf(<span class="string">'%s\n '</span>,[num2str(100*(length(find(GoodTrial==1&amp;RFPat==28&amp;RFx==RFmat(printIndex,1)&amp;RFy==RFmat(printIndex,2)))) / length(find((GoodTrial==1|BadTrial==1) &amp; RFPat==28&amp;RFx==RFmat(printIndex,1) &amp; RFy==RFmat(printIndex,2))) ,<span class="string">'%3.2f'</span>)  <span class="string">' % correct'</span>])];
0265 
0266  <span class="keyword">end</span>
0267  summaryString=[summaryString sprintf(<span class="string">'%s\n'</span>,<span class="string">'******************************************************************'</span>)];
0268 
0269 
0270 fprintf(<span class="string">'%s\n'</span>,summaryString);
0271 
0272   <a href="../../XeX/UtilityFunctions/assorted/attachvars.html" class="code" title="">attachvars</a>;
0273</pre></div>
<hr><address>Generated on Wed 13-Dec-2006 00:06:54 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2003</address>
</body>
</html>